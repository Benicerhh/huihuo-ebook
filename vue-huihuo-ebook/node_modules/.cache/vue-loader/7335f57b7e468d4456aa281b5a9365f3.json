{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfTitle.vue?vue&type=style&index=0&id=a4d29bfa&lang=scss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfTitle.vue","mtime":1588689793643},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgIi4uLy4uL2Fzc2V0cy9zdHlsZXMvZ2xvYmFsLnNjc3MiOw0KLnNoZWxmLXRpdGxlLXdyYXBwZXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHotaW5kZXg6IDEyMDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogcHgycmVtKDQyKTsNCiAgYmFja2dyb3VuZDogd2hpdGU7DQogIGJveC1zaGFkb3c6IDAgcHgycmVtKDIpIHB4MnJlbSgyKSAwIHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgJi5oaWRlLXNoYWRvdyB7DQogICAgYm94LXNoYWRvdzogbm9uZTsNCiAgfQ0KICAuY2xlYXItY2FjaGUtd3JhcHBlciB7DQogICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBsZWZ0OiAwOw0KICAgIHBhZGRpbmctbGVmdDogcHgycmVtKDE1KTsNCiAgICB0b3A6IDA7DQogICAgaGVpZ2h0OiBweDJyZW0oNDIpOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgei1pbmRleDogMjAwOw0KICAgIEBpbmNsdWRlIGNlbnRlcjsNCiAgICBjb2xvcjogIzY2NjsNCiAgfQ0KICAudGl0bGUtdGV4dC13cmFwcGVyIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgbGVmdDogMDsNCiAgICB0b3A6IDA7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiBweDJyZW0oNDIpOw0KICAgIEBpbmNsdWRlIGNvbHVtbkNlbnRlcjsNCiAgICAuc2hlbGYtdGl0bGUtdGV4dCB7DQogICAgICBmb250LXNpemU6IHB4MnJlbSgxNik7DQogICAgICBsaW5lLWhlaWdodDogcHgycmVtKDIwKTsNCiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgY29sb3I6ICMzMzM7DQogICAgfQ0KICAgIC5zaGVsZi10aXRsZS1zdWItdGV4dCB7DQogICAgICBmb250LXNpemU6IHB4MnJlbSgxMCk7DQogICAgICBtYXJnaW4tdG9wOiBweDJyZW0oNSk7DQogICAgICBjb2xvcjogIzMzMzsNCiAgICB9DQogIH0NCiAgLmVkaXQtd3JhcHBlciB7DQogICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICByaWdodDogMDsNCiAgICBwYWRkaW5nLXJpZ2h0OiBweDJyZW0oMTUpOw0KICAgIHRvcDogMDsNCiAgICBoZWlnaHQ6IHB4MnJlbSg0Mik7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBAaW5jbHVkZSBjZW50ZXI7DQogICAgY29sb3I6ICM2NjY7DQogIH0NCn0NCg=="},{"version":3,"sources":["ShelfTitle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShelfTitle.vue","sourceRoot":"src/components/shelf","sourcesContent":["<template>\r\n  <transition name=\"fade\">\r\n    <div\r\n      class=\"shelf-title-wrapper\"\r\n      :class=\"{ 'hide-shadow': ifHideShadow }\"\r\n      v-show=\"shelfTitleVisible\"\r\n    >\r\n      <div class=\"clear-cache-wrapper\">\r\n        <span class=\"clear-cache-btn\" @click=\"clearCache\">{{\r\n          $t(\"shelf.clearCache\")\r\n        }}</span>\r\n      </div>\r\n      <div class=\"title-text-wrapper\">\r\n        <span class=\"shelf-title-text\">{{ $t(\"shelf.title\") }}</span>\r\n        <span class=\"shelf-title-sub-text\" v-show=\"isEditMode\">{{\r\n          selectedText\r\n        }}</span>\r\n      </div>\r\n      <div class=\"edit-wrapper\">\r\n        <span class=\"edit-btn\" @click=\"onEditClick\">{{\r\n          isEditMode ? $t(\"shelf.cancel\") : $t(\"shelf.edit\")\r\n        }}</span>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<script>\r\nimport { storeShelfMixin } from \"../../utils/mixin\";\r\nimport { clearLocalStorage } from \"../../utils/localStorage\";\r\nimport { clearLocalForage } from \"../../utils/localForage\";\r\nexport default {\r\n  mixins: [storeShelfMixin],\r\n  data() {\r\n    return {\r\n      ifHideShadow: true\r\n    };\r\n  },\r\n  watch: {\r\n    offsetY(offsetY) {\r\n      if (offsetY > 0) {\r\n        this.ifHideShadow = false;\r\n      } else {\r\n        this.ifHideShadow = true;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    selectedText() {\r\n      const selectedNumber = this.shelfSelected ? this.shelfSelected.length : 0;\r\n      return selectedNumber <= 0\r\n        ? this.$t(\"shelf.selectBook\")\r\n        : selectedNumber === 1\r\n        ? this.$t(\"shelf.haveSelectedBook\").replace(\"$1\", selectedNumber)\r\n        : this.$t(\"shelf.haveSelectedBooks\").replace(\"$1\", selectedNumber);\r\n    }\r\n  },\r\n  methods: {\r\n    onEditClick() {\r\n      if (!this.isEditMode) {\r\n        this.setShelfSelected([]);\r\n        this.shelfList.forEach(item => {\r\n          item.selected = false;\r\n        });\r\n      }\r\n      this.setIsEditMode(!this.isEditMode);\r\n    },\r\n    clearCache() {\r\n      clearLocalStorage();\r\n      clearLocalForage();\r\n      this.setShelfList([]);\r\n      this.setShelfSelected([]);\r\n      this.getShelfList();\r\n      this.simpleToast(this.$t(\"shelf.clearCacheSuccess\"));\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/styles/global.scss\";\r\n.shelf-title-wrapper {\r\n  position: relative;\r\n  z-index: 120;\r\n  width: 100%;\r\n  height: px2rem(42);\r\n  background: white;\r\n  box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\r\n  &.hide-shadow {\r\n    box-shadow: none;\r\n  }\r\n  .clear-cache-wrapper {\r\n    font-size: px2rem(14);\r\n    position: absolute;\r\n    left: 0;\r\n    padding-left: px2rem(15);\r\n    top: 0;\r\n    height: px2rem(42);\r\n    box-sizing: border-box;\r\n    z-index: 200;\r\n    @include center;\r\n    color: #666;\r\n  }\r\n  .title-text-wrapper {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: px2rem(42);\r\n    @include columnCenter;\r\n    .shelf-title-text {\r\n      font-size: px2rem(16);\r\n      line-height: px2rem(20);\r\n      font-weight: bold;\r\n      color: #333;\r\n    }\r\n    .shelf-title-sub-text {\r\n      font-size: px2rem(10);\r\n      margin-top: px2rem(5);\r\n      color: #333;\r\n    }\r\n  }\r\n  .edit-wrapper {\r\n    font-size: px2rem(14);\r\n    position: absolute;\r\n    right: 0;\r\n    padding-right: px2rem(15);\r\n    top: 0;\r\n    height: px2rem(42);\r\n    box-sizing: border-box;\r\n    @include center;\r\n    color: #666;\r\n  }\r\n}\r\n</style>\r\n"]}]}