{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\home\\FlapCard.vue?vue&type=style&index=0&id=641bedd6&lang=scss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\home\\FlapCard.vue","mtime":1588929733829},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCAiLi4vLi4vYXNzZXRzL3N0eWxlcy9nbG9iYWwuc2NzcyI7DQpAaW1wb3J0ICIuLi8uLi9hc3NldHMvc3R5bGVzL2ZsYXBDYXJkLnNjc3MiOw0KDQouZmxhcC1jYXJkLXdyYXBwZXIgew0KICBAaW5jbHVkZSBhYnNDZW50ZXI7DQogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC42KTsNCiAgei1pbmRleDogMzAwOw0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOiAxMDAlOw0KICBAaW5jbHVkZSBjZW50ZXI7DQogIC5mbGFwLWNhcmQtYmcgew0KICAgIHdpZHRoOiBweDJyZW0oNjQpOw0KICAgIGhlaWdodDogcHgycmVtKDY0KTsNCiAgICBib3JkZXItcmFkaXVzOiBweDJyZW0oNSk7DQogICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgb3BhY2l0eTogMDsNCiAgICAmLmFuaW1hdGlvbiB7DQogICAgICBhbmltYXRpb246IGZsYXAtY2FyZC1tb3ZlIDAuM3MgZWFzZS1pbiBib3RoOw0KICAgIH0NCiAgICBAa2V5ZnJhbWVzIGZsYXAtY2FyZC1tb3ZlIHsNCiAgICAgIDAlIHsNCiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwKTsNCiAgICAgICAgb3BhY2l0eTogMDsNCiAgICAgIH0NCiAgICAgIDUwJSB7DQogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICAgIH0NCiAgICAgIDc1JSB7DQogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45KTsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICAgIH0NCiAgICAgIDEwMCUgew0KICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOw0KICAgICAgICBvcGFjaXR5OiAxOw0KICAgICAgfQ0KICAgIH0NCiAgICAucG9pbnQtd3JhcHBlciB7DQogICAgICBAaW5jbHVkZSBhYnNDZW50ZXI7DQogICAgICB6LWluZGV4OiA0MDA7DQogICAgICAucG9pbnQgew0KICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgIEBpbmNsdWRlIGFic0NlbnRlcjsNCiAgICAgICAgJi5hbmltYXRpb24gew0KICAgICAgICAgIEBmb3IgJGkgZnJvbSAxIHRvIGxlbmd0aCgkbW92ZXMpIHsNCiAgICAgICAgICAgICY6bnRoLWNoaWxkKCN7JGl9KSB7DQogICAgICAgICAgICAgIEBpbmNsdWRlIG1vdmUoJGkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICAuZmxhcC1jYXJkIHsNCiAgICAgIHdpZHRoOiBweDJyZW0oNDgpOw0KICAgICAgaGVpZ2h0OiBweDJyZW0oNDgpOw0KICAgICAgQGluY2x1ZGUgYWJzQ2VudGVyOw0KICAgICAgLmZsYXAtY2FyZC1jaXJjbGUgew0KICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAuZmxhcC1jYXJkLXNlbWktY2lyY2xlIHsNCiAgICAgICAgICBmbGV4OiAwIDAgNTAlOw0KICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICB3aWR0aDogNTAlOw0KICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7DQogICAgICAgICAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOw0KICAgICAgICB9DQogICAgICAgIC5mbGFwLWNhcmQtc2VtaS1jaXJjbGUtbGVmdCB7DQogICAgICAgICAgYm9yZGVyLXJhZGl1czogcHgycmVtKDI0KSAwIDAgcHgycmVtKDI0KTsNCiAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgcmlnaHQ7DQogICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQ7DQogICAgICAgIH0NCiAgICAgICAgLmZsYXAtY2FyZC1zZW1pLWNpcmNsZS1yaWdodCB7DQogICAgICAgICAgYm9yZGVyLXJhZGl1czogMCBweDJyZW0oMjQpIHB4MnJlbSgyNCkgMDsNCiAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgbGVmdDsNCiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0Ow0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQogIC5ib29rLWNhcmQgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB3aWR0aDogNjUlOw0KICAgIG1heC13aWR0aDogcHgycmVtKDQwMCk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBib3JkZXItcmFkaXVzOiBweDJyZW0oMTUpOw0KICAgIGJhY2tncm91bmQ6IHdoaXRlOw0KICAgICYuYW5pbWF0aW9uIHsNCiAgICAgIGFuaW1hdGlvbjogc2NhbGUgMC4zcyBlYXNlLWluIGJvdGg7DQogICAgICBAa2V5ZnJhbWVzIHNjYWxlIHsNCiAgICAgICAgMCUgew0KICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7DQogICAgICAgICAgb3BhY2l0eTogMDsNCiAgICAgICAgfQ0KICAgICAgICAxMDAlIHsNCiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOw0KICAgICAgICAgIG9wYWNpdHk6IDE7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgLmJvb2stY2FyZC13cmFwcGVyIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgbWFyZ2luLWJvdHRvbTogcHgycmVtKDM1KTsNCiAgICAgIEBpbmNsdWRlIGNvbHVtblRvcDsNCiAgICAgIC5pbWctd3JhcHBlciB7DQogICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICBtYXJnaW4tdG9wOiBweDJyZW0oMjApOw0KICAgICAgICBAaW5jbHVkZSBjZW50ZXI7DQogICAgICAgIC5pbWcgew0KICAgICAgICAgIHdpZHRoOiBweDJyZW0oOTApOw0KICAgICAgICAgIGhlaWdodDogcHgycmVtKDEzMCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC5jb250ZW50LXdyYXBwZXIgew0KICAgICAgICBwYWRkaW5nOiAwIHB4MnJlbSgyMCk7DQogICAgICAgIG1hcmdpbi10b3A6IHB4MnJlbSgyMCk7DQogICAgICAgIC5jb250ZW50LXRpdGxlIHsNCiAgICAgICAgICBjb2xvcjogIzMzMzsNCiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxNik7DQogICAgICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgyMCk7DQogICAgICAgICAgbWF4LWhlaWdodDogcHgycmVtKDQwKTsNCiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgQGluY2x1ZGUgZWxsaXBzaXMyKDIpOw0KICAgICAgICB9DQogICAgICAgIC5jb250ZW50LWF1dGhvciB7DQogICAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDEwKTsNCiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7DQogICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICB9DQogICAgICAgIC5jb250ZW50LWNhdGVnb3J5IHsNCiAgICAgICAgICBjb2xvcjogIzk5OTsNCiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7DQogICAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDEwKTsNCiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC5yZWFkLWJ0biB7DQogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICBsZWZ0OiAwOw0KICAgICAgICB6LWluZGV4OiAxMTAwOw0KICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIHB4MnJlbSgxNSkgcHgycmVtKDE1KTsNCiAgICAgICAgcGFkZGluZzogcHgycmVtKDEyKSAwOw0KICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgICAgICBiYWNrZ3JvdW5kOiAkY29sb3ItYmx1ZTsNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgLmNsb3NlLWJ1dHRvbi13cmFwcGVyIHsNCiAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgcmlnaHQ6IDA7DQogICAgYm90dG9tOiBweDJyZW0oMzApOw0KICAgIHotaW5kZXg6IDMyMDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBAaW5jbHVkZSBjZW50ZXI7DQogICAgLmljb24tY2xvc2Ugew0KICAgICAgd2lkdGg6IHB4MnJlbSg0NSk7DQogICAgICBoZWlnaHQ6IHB4MnJlbSg0NSk7DQogICAgICBmb250LXNpemU6IHB4MnJlbSgyNSk7DQogICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICBiYWNrZ3JvdW5kOiAjMzMzOw0KICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgQGluY2x1ZGUgY2VudGVyOw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["FlapCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkPA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FlapCard.vue","sourceRoot":"src/components/home","sourcesContent":["<template>\r\n  <div class=\"flap-card-wrapper\" v-show=\"flapCardVisible\">\r\n    <div\r\n      class=\"flap-card-bg\"\r\n      :class=\"{ animation: runFlapCardAnimation }\"\r\n      v-show=\"runFlapCardAnimation\"\r\n    >\r\n      <div\r\n        class=\"flap-card\"\r\n        v-for=\"(item, index) in flapCardList\"\r\n        :key=\"index\"\r\n        :style=\"{ zIndex: item.zIndex }\"\r\n      >\r\n        <div class=\"flap-card-circle\">\r\n          <div\r\n            class=\"flap-card-semi-circle flap-card-semi-circle-left\"\r\n            :style=\"semiCircleStyle(item, 'left')\"\r\n            ref=\"left\"\r\n          ></div>\r\n          <div\r\n            class=\"flap-card-semi-circle flap-card-semi-circle-right\"\r\n            :style=\"semiCircleStyle(item, 'right')\"\r\n            ref=\"right\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"point-wrapper\">\r\n        <div\r\n          class=\"point\"\r\n          v-for=\"(item, index) in pointList\"\r\n          :key=\"index\"\r\n          :class=\"{ animation: runPointAnimation }\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"book-card\"\r\n      :class=\"{ animation: runBookCardAnimation }\"\r\n      v-show=\"runBookCardAnimation\"\r\n    >\r\n      <div class=\"book-card-wrapper\">\r\n        <div class=\"img-wrapper\">\r\n          <img class=\"img\" :src=\"data ? data.cover : ''\" />\r\n        </div>\r\n        <div class=\"content-wrapper\">\r\n          <div class=\"content-title\">{{ data ? data.title : \"\" }}</div>\r\n          <div class=\"content-author sub-title-medium\">\r\n            {{ data ? data.author : \"\" }}\r\n          </div>\r\n          <div class=\"content-category\">{{ categoryText() }}</div>\r\n        </div>\r\n        <div class=\"read-btn\" @click.stop=\"showBookDetail(data)\">\r\n          {{ $t(\"home.readNow\") }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"close-button-wrapper\" @click=\"close\">\r\n      <span class=\"icon-close\"></span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { homeMixin } from \"../../utils/mixin\";\r\nimport { flapCardList, categoryText } from \"../../utils/store\";\r\nexport default {\r\n  mixins: [homeMixin],\r\n  props: {\r\n    data: Object\r\n  },\r\n  data() {\r\n    return {\r\n      flapCardList,\r\n      front: 0,\r\n      back: 1,\r\n      interval: 30,\r\n      runFlapCardAnimation: false,\r\n      runPointAnimation: false,\r\n      runBookCardAnimation: false,\r\n      pointList: []\r\n    };\r\n  },\r\n  watch: {\r\n    flapCardVisible(v) {\r\n      if (v) {\r\n        this.runAnimation();\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    for (let i = 0; i < 18; i++) {\r\n      this.pointList.push(`point${i}`);\r\n    }\r\n  },\r\n  methods: {\r\n    runAnimation() {\r\n      this.runFlapCardAnimation = true;\r\n      this.start = setTimeout(() => {\r\n        this.strartFlapCardAnimation();\r\n        this.startPointAnimation();\r\n      }, 300);\r\n      this.stop = setTimeout(() => {\r\n        this.stopAnimation();\r\n        this.runBookCardAnimation = true;\r\n      }, 2500);\r\n    },\r\n    startPointAnimation() {\r\n      this.runPointAnimation = true;\r\n      setTimeout(() => {\r\n        this.runPointAnimation = false;\r\n      }, 750);\r\n    },\r\n    close() {\r\n      this.setFlapCardVisible(false);\r\n      this.stopAnimation();\r\n      if (this.start) {\r\n        clearInterval(this.start);\r\n      }\r\n      if (this.stop) {\r\n        clearInterval(this.stop);\r\n      }\r\n    },\r\n    semiCircleStyle(item, isleft) {\r\n      return {\r\n        backgroundColor: `rgb(${item.r},${item.g},${item.b})`,\r\n        backgroundSize: item.backgroundSize,\r\n        backgroundImage: isleft === \"left\" ? item.imgLeft : item.imgRight\r\n      };\r\n    },\r\n    rotate(index, type) {\r\n      //type:正面的圆or反面的圆\r\n      const item = this.flapCardList[index];\r\n      let dom;\r\n      if (type === \"front\") {\r\n        dom = this.$refs.right[index];\r\n      } else {\r\n        dom = this.$refs.left[index];\r\n      }\r\n      dom.style.transform = `rotateY(${item.rotateDegree}deg)`;\r\n      dom.style.backgroundColor = `rgb(${item.r},${item._g},${item.b})`;\r\n      //_g用来改变颜色，g用来还原颜色\r\n    },\r\n    next() {\r\n      const frontFlapCard = this.flapCardList[this.front];\r\n      const backFlapCard = this.flapCardList[this.back];\r\n      frontFlapCard.rotateDegree = 0;\r\n      backFlapCard.rotateDegree = 0;\r\n      frontFlapCard._g = frontFlapCard.g;\r\n      backFlapCard._g = backFlapCard.g;\r\n      this.rotate(this.front, \"front\");\r\n      this.rotate(this.back, \"back\");\r\n      this.front++;\r\n      this.back++;\r\n      const len = this.flapCardList.length;\r\n      if (this.front >= len) {\r\n        this.front = 0;\r\n      }\r\n      if (this.back >= len) {\r\n        this.back = 0;\r\n      }\r\n      // 动态设置zIndex\r\n      // 100 -> 96\r\n      // 99 -> 100\r\n      // 98 -> 99\r\n      // 97 -> 98\r\n      // 96 -> 97\r\n      // (0 - 1 + 5) % 5 = 4\r\n      // (1 - 1 + 5) % 5 = 0\r\n      this.flapCardList.forEach((item, index) => {\r\n        item.zIndex = 100 - ((index - this.front + len) % len);\r\n      });\r\n      this.prepare();\r\n    },\r\n    flapCardRotate() {\r\n      const frontFlapCard = this.flapCardList[this.front];\r\n      const backFlapCard = this.flapCardList[this.back];\r\n      frontFlapCard.rotateDegree += 10;\r\n      frontFlapCard._g -= 5;\r\n      backFlapCard.rotateDegree -= 10;\r\n      if (backFlapCard.rotateDegree <= 90) {\r\n        backFlapCard._g += 5;\r\n      }\r\n      if (\r\n        frontFlapCard.rotateDegree === 90 &&\r\n        backFlapCard.rotateDegree === 90\r\n      ) {\r\n        backFlapCard.zIndex += 2;\r\n      }\r\n      this.rotate(this.front, \"front\");\r\n      this.rotate(this.back, \"back\");\r\n      if (\r\n        frontFlapCard.rotateDegree === 180 &&\r\n        backFlapCard.rotateDegree === 0\r\n      ) {\r\n        this.next();\r\n      }\r\n    },\r\n    prepare() {\r\n      const backFlapCard = this.flapCardList[this.back];\r\n      backFlapCard.rotateDegree = 180;\r\n      backFlapCard._g = backFlapCard.g - 5 * 9;\r\n      this.rotate(this.back, \"back\");\r\n    },\r\n    strartFlapCardAnimation() {\r\n      this.prepare();\r\n      this.task = setInterval(() => {\r\n        this.flapCardRotate();\r\n      }, this.interval);\r\n    },\r\n    stopAnimation() {\r\n      this.runFlapCardAnimation = false;\r\n      if (this.task) {\r\n        clearInterval(this.task);\r\n      }\r\n      this.reset();\r\n    },\r\n    reset() {\r\n      this.front = 0;\r\n      this.back = 1;\r\n      this.flapCardList.forEach((item, index) => {\r\n        item.zIndex = 100 - index;\r\n        item._g = item.g;\r\n        item.rotateDegree = 0;\r\n        this.rotate(index, \"front\");\r\n        this.rotate(index, \"back\");\r\n      });\r\n      this.runFlapCardAnimation = false;\r\n      this.runPointAnimation = false;\r\n      this.runBookCardAnimation = false;\r\n    },\r\n    categoryText() {\r\n      if (this.data) {\r\n        //console.log(this.data.cover)\r\n        categoryText(this.data.category, this);\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/styles/global.scss\";\r\n@import \"../../assets/styles/flapCard.scss\";\r\n\r\n.flap-card-wrapper {\r\n  @include absCenter;\r\n  background: rgba(0, 0, 0, 0.6);\r\n  z-index: 300;\r\n  height: 100%;\r\n  width: 100%;\r\n  @include center;\r\n  .flap-card-bg {\r\n    width: px2rem(64);\r\n    height: px2rem(64);\r\n    border-radius: px2rem(5);\r\n    background: white;\r\n    position: relative;\r\n    transform: scale(0);\r\n    opacity: 0;\r\n    &.animation {\r\n      animation: flap-card-move 0.3s ease-in both;\r\n    }\r\n    @keyframes flap-card-move {\r\n      0% {\r\n        transform: scale(0);\r\n        opacity: 0;\r\n      }\r\n      50% {\r\n        transform: scale(1.2);\r\n        opacity: 1;\r\n      }\r\n      75% {\r\n        transform: scale(0.9);\r\n        opacity: 1;\r\n      }\r\n      100% {\r\n        transform: scale(1);\r\n        opacity: 1;\r\n      }\r\n    }\r\n    .point-wrapper {\r\n      @include absCenter;\r\n      z-index: 400;\r\n      .point {\r\n        border-radius: 50%;\r\n        @include absCenter;\r\n        &.animation {\r\n          @for $i from 1 to length($moves) {\r\n            &:nth-child(#{$i}) {\r\n              @include move($i);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .flap-card {\r\n      width: px2rem(48);\r\n      height: px2rem(48);\r\n      @include absCenter;\r\n      .flap-card-circle {\r\n        height: 100%;\r\n        width: 100%;\r\n        display: flex;\r\n        .flap-card-semi-circle {\r\n          flex: 0 0 50%;\r\n          height: 100%;\r\n          width: 50%;\r\n          background-repeat: no-repeat;\r\n          backface-visibility: hidden;\r\n        }\r\n        .flap-card-semi-circle-left {\r\n          border-radius: px2rem(24) 0 0 px2rem(24);\r\n          background-position: center right;\r\n          transform-origin: right;\r\n        }\r\n        .flap-card-semi-circle-right {\r\n          border-radius: 0 px2rem(24) px2rem(24) 0;\r\n          background-position: center left;\r\n          transform-origin: left;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .book-card {\r\n    position: relative;\r\n    width: 65%;\r\n    max-width: px2rem(400);\r\n    box-sizing: border-box;\r\n    border-radius: px2rem(15);\r\n    background: white;\r\n    &.animation {\r\n      animation: scale 0.3s ease-in both;\r\n      @keyframes scale {\r\n        0% {\r\n          transform: scale(0);\r\n          opacity: 0;\r\n        }\r\n        100% {\r\n          transform: scale(1);\r\n          opacity: 1;\r\n        }\r\n      }\r\n    }\r\n    .book-card-wrapper {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin-bottom: px2rem(35);\r\n      @include columnTop;\r\n      .img-wrapper {\r\n        width: 100%;\r\n        margin-top: px2rem(20);\r\n        @include center;\r\n        .img {\r\n          width: px2rem(90);\r\n          height: px2rem(130);\r\n        }\r\n      }\r\n      .content-wrapper {\r\n        padding: 0 px2rem(20);\r\n        margin-top: px2rem(20);\r\n        .content-title {\r\n          color: #333;\r\n          font-weight: bold;\r\n          font-size: px2rem(16);\r\n          line-height: px2rem(20);\r\n          max-height: px2rem(40);\r\n          text-align: center;\r\n          @include ellipsis2(2);\r\n        }\r\n        .content-author {\r\n          margin-top: px2rem(10);\r\n          font-size: px2rem(14);\r\n          text-align: center;\r\n        }\r\n        .content-category {\r\n          color: #999;\r\n          font-size: px2rem(14);\r\n          margin-top: px2rem(10);\r\n          text-align: center;\r\n        }\r\n      }\r\n      .read-btn {\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        z-index: 1100;\r\n        width: 100%;\r\n        border-radius: 0 0 px2rem(15) px2rem(15);\r\n        padding: px2rem(12) 0;\r\n        text-align: center;\r\n        color: white;\r\n        font-size: px2rem(14);\r\n        background: $color-blue;\r\n      }\r\n    }\r\n  }\r\n  .close-button-wrapper {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: px2rem(30);\r\n    z-index: 320;\r\n    width: 100%;\r\n    @include center;\r\n    .icon-close {\r\n      width: px2rem(45);\r\n      height: px2rem(45);\r\n      font-size: px2rem(25);\r\n      border-radius: 50%;\r\n      background: #333;\r\n      color: white;\r\n      @include center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}