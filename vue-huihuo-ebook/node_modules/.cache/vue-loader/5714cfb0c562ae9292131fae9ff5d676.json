{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\Ebook\\index.vue?vue&type=style&index=0&id=c218b8f2&lang=scss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\Ebook\\index.vue","mtime":1588149179916},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnLi4vLi4vYXNzZXRzL3N0eWxlcy9nbG9iYWwuc2Nzcyc7Ci5lYm9vayB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICB0b3A6IDA7CiAgbGVmdDogMDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Ebook","sourcesContent":["<template>\r\n  <div class=\"ebook\" ref=\"ebook\">\r\n    <ebook-title></ebook-title>\r\n    <ebook-header></ebook-header>\r\n    <ebook-menu></ebook-menu>\r\n    <ebook-reader></ebook-reader>\r\n    <ebook-bookmark></ebook-bookmark>\r\n    <ebook-footer></ebook-footer>\r\n  </div>\r\n</template>\r\n<script>\r\n  import EbookReader from '../../components/Ebook/EbookReader'\r\n  import EbookTitle from '../../components/Ebook/EbookTitle'\r\n  import EbookMenu from '../../components/Ebook/EbookMenu'\r\n  import EbookBookmark from '../../components/Ebook/EbookBookmark'\r\n  import EbookHeader from '../../components/Ebook/EbookHeader'\r\n  import EbookFooter from '../../components/Ebook/EbookFooter'\r\n\r\n  import { getReadTime, saveReadTime } from '../../utils/localStorage'\r\n  import { ebookMixin } from '../../utils/mixin'\r\n\r\n  export default {\r\n    components: {\r\n      EbookReader,\r\n      EbookTitle,\r\n      EbookMenu,\r\n      EbookBookmark,\r\n      EbookHeader,\r\n      EbookFooter\r\n    },\r\n    mixins: [ebookMixin],\r\n    watch: {\r\n      offsetY(v) {\r\n        if (!this.menuVisible && this.bookAvailable) {\r\n          if (v > 0) {\r\n            this.move(v)\r\n          } else if (v === 0) {\r\n            this.restore()\r\n          }\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      restore() {\r\n        this.$refs.ebook.style.top = 0\r\n        this.$refs.ebook.style.transition = 'all .2s linear'\r\n        setTimeout(() => {\r\n          this.$refs.ebook.style.transition = ''\r\n        }, 200)\r\n      },\r\n      move(v) {\r\n        this.$refs.ebook.style.top = v + 'px'\r\n      },\r\n      startLoopReadTime() {\r\n        //阅读时间记录\r\n        let readTime = getReadTime(this.filename)\r\n        if (!readTime) {\r\n          readTime = 0\r\n        }\r\n        this.task = setInterval(() => {\r\n          readTime++\r\n          if (readTime % 30 === 0) {\r\n            saveReadTime(this.filename, readTime)\r\n          }\r\n        }, 1000)\r\n      }\r\n    },\r\n    mounted() {\r\n      this.startLoopReadTime()\r\n    },\r\n    beforeDestroy() {\r\n      if (this.task) {\r\n        clearInterval(this.task)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .ebook {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n</style>\r\n"]}]}