{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\Ebook\\EbookSlideContent.vue?vue&type=style&index=0&id=00b521d5&lang=scss&rel=stylesheet%2Fscss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\Ebook\\EbookSlideContent.vue","mtime":1588931257144},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICIuLi8uLi9hc3NldHMvc3R5bGVzL2dsb2JhbCI7DQouZWJvb2stc2xpZGUtY29udGVudHMgew0KICB3aWR0aDogMTAwJTsNCiAgZm9udC1zaXplOiAwOw0KICAuc2xpZGUtY29udGVudHMtc2VhcmNoLXdyYXBwZXIgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiBweDJyZW0oMzYpOw0KICAgIG1hcmdpbjogcHgycmVtKDIwKSAwIHB4MnJlbSgxMCkgMDsNCiAgICBwYWRkaW5nOiAwIHB4MnJlbSgxNSk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAuc2xpZGUtY29udGVudHMtc2VhcmNoLWlucHV0LXdyYXBwZXIgew0KICAgICAgZmxleDogMTsNCiAgICAgIGJvcmRlci1yYWRpdXM6IHB4MnJlbSgzKTsNCiAgICAgIEBpbmNsdWRlIGNlbnRlcjsNCiAgICAgIC5zbGlkZS1jb250ZW50cy1zZWFyY2gtaWNvbiB7DQogICAgICAgIGZsZXg6IDAgMCBweDJyZW0oMjgpOw0KICAgICAgICBAaW5jbHVkZSBjZW50ZXI7DQogICAgICAgIC5pY29uLXNlYXJjaCB7DQogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAuc2xpZGUtY29udGVudHMtc2VhcmNoLWlucHV0IHsNCiAgICAgICAgZmxleDogMTsNCiAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIGhlaWdodDogcHgycmVtKDMyKTsNCiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsNCiAgICAgICAgYm9yZGVyOiBub25lOw0KICAgICAgICAmOmZvY3VzIHsNCiAgICAgICAgICBvdXRsaW5lOiBub25lOw0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICAgIC5zbGlkZS1jb250ZW50cy1zZWFyY2gtY2FuY2VsIHsNCiAgICAgIGZsZXg6IDAgMCBweDJyZW0oNTApOw0KICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgICAgQGluY2x1ZGUgcmlnaHQ7DQogICAgfQ0KICB9DQogIC5zbGlkZS1jb250ZW50cy1ib29rLXdyYXBwZXIgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiBweDJyZW0oOTApOw0KICAgIHBhZGRpbmc6IHB4MnJlbSgxMCkgcHgycmVtKDE1KSBweDJyZW0oMjApIHB4MnJlbSgxNSk7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAuc2xpZGUtY29udGVudHMtYm9vay1pbWctd3JhcHBlciB7DQogICAgICBmbGV4OiAwIDAgcHgycmVtKDQ1KTsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAuc2xpZGUtY29udGVudHMtYm9vay1pbWcgew0KICAgICAgICB3aWR0aDogcHgycmVtKDQ1KTsNCiAgICAgICAgaGVpZ2h0OiBweDJyZW0oNjApOw0KICAgICAgfQ0KICAgIH0NCiAgICAuc2xpZGUtY29udGVudHMtYm9vay1pbmZvLXdyYXBwZXIgew0KICAgICAgZmxleDogMTsNCiAgICAgIC8vIEBpbmNsdWRlIGNvbHVtbkxlZnQ7DQogICAgICAuc2xpZGUtY29udGVudHMtYm9vay10aXRsZSB7DQogICAgICAgIHdpZHRoOiBweDJyZW0oMTUzLjc1KTsNCiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOw0KICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE2KTsNCiAgICAgICAgcGFkZGluZzogMCBweDJyZW0oMTApOw0KICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICBAaW5jbHVkZSBlbGxpcHNpczIoMik7DQogICAgICAgIEBpbmNsdWRlIGxlZnQ7DQogICAgICAgIC5zbGlkZS1jb250ZW50cy1ib29rLXRpdGxlLXRleHQgew0KICAgICAgICAgIEBpbmNsdWRlIGVsbGlwc2lzMigzKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLnNsaWRlLWNvbnRlbnRzLWJvb2stYXV0aG9yIHsNCiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTIpOw0KICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE0KTsNCiAgICAgICAgcGFkZGluZzogMCBweDJyZW0oMTApOw0KICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgICAgICBtYXJnaW4tdG9wOiBweDJyZW0oNSk7DQogICAgICAgIEBpbmNsdWRlIGxlZnQ7DQogICAgICAgIC5zbGlkZS1jb250ZW50cy1ib29rLWF1dGhvci10ZXh0IHsNCiAgICAgICAgICBAaW5jbHVkZSBlbGxpcHNpczIoMSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgLnNsaWRlLWNvbnRlbnRzLWJvb2stcHJvZ3Jlc3Mtd3JhcHBlciB7DQogICAgICBmbGV4OiAwIDAgcHgycmVtKDcwKTsNCiAgICAgIC8vQGluY2x1ZGUgY29sdW1uTGVmdDsNCiAgICAgIC5zbGlkZS1jb250ZW50cy1ib29rLXByb2dyZXNzIHsNCiAgICAgICAgLnByb2dyZXNzIHsNCiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7DQogICAgICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgxNik7DQogICAgICAgIH0NCiAgICAgICAgLnByb2dyZXNzLXRleHQgew0KICAgICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDEyKTsNCiAgICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE0KTsNCiAgICAgICAgICBtYXJnaW4tbGVmdDogcHgycmVtKDIpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAuc2xpZGUtY29udGVudHMtYm9vay10aW1lIHsNCiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTIpOw0KICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE0KTsNCiAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDUpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICAuc2xpZGUtY29udGVudHMtbGlzdCB7DQogICAgcGFkZGluZzogMCBweDJyZW0oMTUpOw0KICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgLnNsaWRlLWNvbnRlbnRzLWl0ZW0gew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIHBhZGRpbmc6IHB4MnJlbSgyMCkgMDsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAuc2xpZGUtY29udGVudHMtaXRlbS1sYWJlbCB7DQogICAgICAgIGZsZXg6IDE7DQogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDE0KTsNCiAgICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgxNik7DQogICAgICAgIEBpbmNsdWRlIGVsbGlwc2lzOw0KICAgICAgfQ0KICAgICAgLnNsaWRlLWNvbnRlbnRzLWl0ZW0tcGFnZSB7DQogICAgICAgIGZsZXg6IDAgMCBweDJyZW0oMzApOw0KICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxMCk7DQogICAgICAgIEBpbmNsdWRlIHJpZ2h0Ow0KICAgICAgfQ0KICAgIH0NCiAgfQ0KICAuc2xpZGUtc2VhcmNoLWxpc3Qgew0KICAgIHBhZGRpbmc6IDAgcHgycmVtKDE1KTsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIC5zbGlkZS1zZWFyY2gtaXRlbSB7DQogICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7DQogICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE2KTsNCiAgICAgIHBhZGRpbmc6IHB4MnJlbSgyMCkgMDsNCiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["EbookSlideContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EbookSlideContent.vue","sourceRoot":"src/components/Ebook","sourcesContent":["<template>\r\n  <div class=\"ebook-slide-contents\">\r\n    <div class=\"slide-contents-search-wrapper\">\r\n      <div class=\"slide-contents-search-input-wrapper\">\r\n        <div class=\"slide-contents-search-icon\">\r\n          <span class=\"icon-search\"></span>\r\n        </div>\r\n        <input\r\n          class=\"slide-contents-search-input\"\r\n          type=\"text\"\r\n          :placeholder=\"$t('book.searchHint')\"\r\n          @click=\"showSearchPage()\"\r\n          v-model=\"searchText\"\r\n          @keyup.enter=\"search()\"\r\n          ref=\"searchInput\"\r\n        />\r\n      </div>\r\n      <div\r\n        class=\"slide-contents-search-cancel\"\r\n        v-if=\"searchVisible\"\r\n        @click=\"hideSearchPage()\"\r\n      >\r\n        {{ $t(\"book.cancel\") }}\r\n      </div>\r\n    </div>\r\n    <div class=\"slide-contents-book-wrapper\" v-show=\"!searchVisible\">\r\n      <div class=\"slide-contents-book-img-wrapper\">\r\n        <img :src=\"cover\" class=\"slide-contents-book-img\" />\r\n      </div>\r\n      <div class=\"slide-contents-book-info-wrapper\">\r\n        <div class=\"slide-contents-book-title\">\r\n          <span class=\"slide-contents-book-title-text\">{{\r\n            metadata.title\r\n          }}</span>\r\n        </div>\r\n        <div class=\"slide-contents-book-author\">\r\n          <span class=\"slide-contents-book-author-text\">{{\r\n            metadata.creator\r\n          }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"slide-contents-book-progress-wrapper\">\r\n        <div class=\"slide-contents-book-progress\">\r\n          <span class=\"progress\">{{ progress + \"%\" }}</span>\r\n          <span class=\"progress-text\">{{ $t(\"book.haveRead2\") }}</span>\r\n        </div>\r\n        <div class=\"slide-contents-book-time\">{{ getReadTimeText() }}</div>\r\n      </div>\r\n    </div>\r\n    <scroll\r\n      class=\"slide-contents-list\"\r\n      :top=\"156\"\r\n      :bottom=\"48\"\r\n      ref=\"scroll\"\r\n      v-show=\"!searchVisible\"\r\n    >\r\n      <div\r\n        class=\"slide-contents-item\"\r\n        v-for=\"(item, index) in navigation\"\r\n        :key=\"index\"\r\n        @click=\"displayNav(item.href)\"\r\n      >\r\n        <span\r\n          class=\"slide-contents-item-label\"\r\n          :class=\"{ selected: section === index }\"\r\n          :style=\"contentItemStyle(item)\"\r\n          >{{ item.label.trim() }}</span\r\n        >\r\n        <span class=\"slide-contents-item-page\">{{ item.page }}</span>\r\n      </div>\r\n    </scroll>\r\n    <scroll\r\n      class=\"slide-search-list\"\r\n      :top=\"66\"\r\n      :bottom=\"48\"\r\n      ref=\"scroll\"\r\n      v-show=\"searchVisible\"\r\n    >\r\n      <div\r\n        class=\"slide-search-item\"\r\n        v-for=\"(item, index) in searchList\"\r\n        :key=\"index\"\r\n        v-html=\"item.excerpt\"\r\n        @click=\"displaySearch(item.cfi)\"\r\n      >\r\n        {{ item.excerpt }}\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ebookMixin } from \"../../utils/mixin\";\r\nimport Scroll from \"../common/Scroll\";\r\nimport { px2rem } from \"../../utils/utils\";\r\n\r\nexport default {\r\n  mixins: [ebookMixin],\r\n  components: {\r\n    Scroll\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: \"\",\r\n      searchVisible: false,\r\n      searchList: {}\r\n    };\r\n  },\r\n  methods: {\r\n    displayNav(target) {\r\n      this.display(target, () => {\r\n        this.hideTitleAndMenu();\r\n      });\r\n    },\r\n    displaySearch(target) {\r\n      this.display(target, () => {\r\n        this.hideTitleAndMenu();\r\n      });\r\n    },\r\n    contentItemStyle(item) {\r\n      return {\r\n        marginLeft: `${px2rem(item.level * 15)}rem`\r\n      };\r\n    },\r\n    showSearchPage() {\r\n      this.searchVisible = true;\r\n    },\r\n    hideSearchPage() {\r\n      this.searchVisible = false;\r\n      this.searchText = \"\";\r\n      this.searchList = null;\r\n    },\r\n    search() {\r\n      this.doSearch(this.searchText).then(result => {\r\n        this.searchList = result.map(item => {\r\n          item.excerpt = item.excerpt.replace(\r\n            this.searchText,\r\n            `<span class=\"content-search-text\">${this.searchText}</span>`\r\n          );\r\n          return item;\r\n        });\r\n        this.$refs.searchInput.blur();\r\n      });\r\n    },\r\n    doSearch(q) {\r\n      //搜索算法\r\n      return Promise.all(\r\n        this.currentBook.spine.spineItems.map(item =>\r\n          item\r\n            .load(this.currentBook.load.bind(this.currentBook))\r\n            .then(item.find.bind(item, q))\r\n            .finally(item.unload.bind(item))\r\n        )\r\n      ).then(results => Promise.resolve([].concat.apply([], results)));\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n.ebook-slide-contents {\r\n  width: 100%;\r\n  font-size: 0;\r\n  .slide-contents-search-wrapper {\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(36);\r\n    margin: px2rem(20) 0 px2rem(10) 0;\r\n    padding: 0 px2rem(15);\r\n    box-sizing: border-box;\r\n    .slide-contents-search-input-wrapper {\r\n      flex: 1;\r\n      border-radius: px2rem(3);\r\n      @include center;\r\n      .slide-contents-search-icon {\r\n        flex: 0 0 px2rem(28);\r\n        @include center;\r\n        .icon-search {\r\n          font-size: px2rem(12);\r\n        }\r\n      }\r\n      .slide-contents-search-input {\r\n        flex: 1;\r\n        width: 100%;\r\n        height: px2rem(32);\r\n        font-size: px2rem(14);\r\n        background: transparent;\r\n        border: none;\r\n        &:focus {\r\n          outline: none;\r\n        }\r\n      }\r\n    }\r\n    .slide-contents-search-cancel {\r\n      flex: 0 0 px2rem(50);\r\n      font-size: px2rem(14);\r\n      @include right;\r\n    }\r\n  }\r\n  .slide-contents-book-wrapper {\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(90);\r\n    padding: px2rem(10) px2rem(15) px2rem(20) px2rem(15);\r\n    box-sizing: border-box;\r\n    .slide-contents-book-img-wrapper {\r\n      flex: 0 0 px2rem(45);\r\n      box-sizing: border-box;\r\n      .slide-contents-book-img {\r\n        width: px2rem(45);\r\n        height: px2rem(60);\r\n      }\r\n    }\r\n    .slide-contents-book-info-wrapper {\r\n      flex: 1;\r\n      // @include columnLeft;\r\n      .slide-contents-book-title {\r\n        width: px2rem(153.75);\r\n        font-size: px2rem(14);\r\n        line-height: px2rem(16);\r\n        padding: 0 px2rem(10);\r\n        box-sizing: border-box;\r\n        @include ellipsis2(2);\r\n        @include left;\r\n        .slide-contents-book-title-text {\r\n          @include ellipsis2(3);\r\n        }\r\n      }\r\n      .slide-contents-book-author {\r\n        font-size: px2rem(12);\r\n        line-height: px2rem(14);\r\n        padding: 0 px2rem(10);\r\n        box-sizing: border-box;\r\n        margin-top: px2rem(5);\r\n        @include left;\r\n        .slide-contents-book-author-text {\r\n          @include ellipsis2(1);\r\n        }\r\n      }\r\n    }\r\n    .slide-contents-book-progress-wrapper {\r\n      flex: 0 0 px2rem(70);\r\n      //@include columnLeft;\r\n      .slide-contents-book-progress {\r\n        .progress {\r\n          font-size: px2rem(14);\r\n          line-height: px2rem(16);\r\n        }\r\n        .progress-text {\r\n          font-size: px2rem(12);\r\n          line-height: px2rem(14);\r\n          margin-left: px2rem(2);\r\n        }\r\n      }\r\n      .slide-contents-book-time {\r\n        font-size: px2rem(12);\r\n        line-height: px2rem(14);\r\n        margin-top: px2rem(5);\r\n      }\r\n    }\r\n  }\r\n  .slide-contents-list {\r\n    padding: 0 px2rem(15);\r\n    box-sizing: border-box;\r\n    .slide-contents-item {\r\n      display: flex;\r\n      padding: px2rem(20) 0;\r\n      box-sizing: border-box;\r\n      .slide-contents-item-label {\r\n        flex: 1;\r\n        font-size: px2rem(14);\r\n        line-height: px2rem(16);\r\n        @include ellipsis;\r\n      }\r\n      .slide-contents-item-page {\r\n        flex: 0 0 px2rem(30);\r\n        font-size: px2rem(10);\r\n        @include right;\r\n      }\r\n    }\r\n  }\r\n  .slide-search-list {\r\n    padding: 0 px2rem(15);\r\n    box-sizing: border-box;\r\n    .slide-search-item {\r\n      font-size: px2rem(14);\r\n      line-height: px2rem(16);\r\n      padding: px2rem(20) 0;\r\n      box-sizing: border-box;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}