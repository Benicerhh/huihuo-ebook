{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\speak\\SpeakMask.vue?vue&type=style&index=0&id=90471c68&lang=scss&rel=stylesheet%2Fscss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\speak\\SpeakMask.vue","mtime":1540735191000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi8uLi9hc3NldHMvc3R5bGVzL2dsb2JhbCI7CgouYm9vay1zcGVhay1tYXNrLXdyYXBwZXIgewogIHBvc2l0aW9uOiBmaXhlZDsKICBsZWZ0OiAwOwogIHRvcDogMDsKICB6LWluZGV4OiAxMjA7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjUpOwogIC5ib29rLXNwZWFrLW1hc2stY2FyZC13cmFwcGVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvdHRvbTogMDsKICAgIGxlZnQ6IDA7CiAgICB6LWluZGV4OiAxMjA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogOTAlOwogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiBweDJyZW0oMTApIHB4MnJlbSgxMCkgMCAwOwogICAgLnB1bGxkb3duLWljb24td3JhcHBlciB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IHB4MnJlbSg0MCk7CiAgICAgIGNvbG9yOiAjY2NjOwogICAgICBmb250LXNpemU6IHB4MnJlbSg0MCk7CiAgICAgIEBpbmNsdWRlIGNlbnRlcjsKICAgIH0KICAgIC5jYXJkLXRpdGxlLXdyYXBwZXIgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgaGVpZ2h0OiBweDJyZW0oNTQpOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBwYWRkaW5nOiAwIHB4MnJlbSgxNSk7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIC5pY29uLXNwZWFrLXdyYXBwZXIgewogICAgICAgIGZsZXg6IDAgMCBweDJyZW0oNDApOwogICAgICAgIEBpbmNsdWRlIGxlZnQ7CiAgICAgICAgLmljb24tc3BlYWsgewogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMjQpOwogICAgICAgICAgY29sb3I6ICM5OTk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5zcGVhay10aXRsZS13cmFwcGVyIHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIEBpbmNsdWRlIGxlZnQ7CiAgICAgICAgLnNwZWFrLXRpdGxlIHsKICAgICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDE2KTsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5yZWFkLWZ1bGx0ZXh0LXdyYXBwZXIgewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgQGluY2x1ZGUgcmlnaHQ7CiAgICAgICAgLnJlYWQtZnVsbHRleHQgewogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTIpOwogICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWU7CiAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDc0LCAxNzEsIDI1NSwgLjIpOwogICAgICAgICAgcGFkZGluZzogcHgycmVtKDUpIHB4MnJlbSgxMCk7CiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogcHgycmVtKDIwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC5jYXJkLXNlY3Rpb24tdGl0bGUtd3JhcHBlciB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IHB4MnJlbSg0Nik7CiAgICAgIHBhZGRpbmc6IDAgcHgycmVtKDE1KTsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgQGluY2x1ZGUgY29sdW1uQ2VudGVyOwogICAgICAuY2FyZC1zZWN0aW9uLXRpdGxlLXRleHQgewogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDE2KTsKICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgfQogICAgICAuY2FyZC1zZWN0aW9uLXN1Yi10aXRsZS10ZXh0IHsKICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxMik7CiAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDUpOwogICAgICB9CiAgICB9CiAgICAuc2V0dGluZy1wcm9ncmVzcyB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IHB4MnJlbSg0OCk7CiAgICAgIEBpbmNsdWRlIGNvbHVtblRvcDsKICAgICAgLnByb2dyZXNzLXdyYXBwZXIgewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgQGluY2x1ZGUgY2VudGVyOwogICAgICAgIHBhZGRpbmc6IDAgcHgycmVtKDMwKTsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIC5wcm9ncmVzcyB7CiAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgIGhlaWdodDogcHgycmVtKDIpOwogICAgICAgICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoJGNvbG9yLWJsdWUsICRjb2xvci1ibHVlKSBuby1yZXBlYXQsIHJnYmEoNzQsIDE3MSwgMjU1LCAuMik7CiAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDAgMTAwJTsKICAgICAgICAgICY6Zm9jdXMgewogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgfQogICAgICAgICAgJjo6LXdlYmtpdC1zbGlkZXItdGh1bWIgewogICAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgICAgIGhlaWdodDogcHgycmVtKDIwKTsKICAgICAgICAgICAgd2lkdGg6IHB4MnJlbSgyMCk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogJGNvbG9yLWJsdWU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNHB4IDAgcmdiYSgwLCAwLCAwLCAuMTUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICAucHJvZ3Jlc3MtdGV4dCB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBwYWRkaW5nOiAwIHB4MnJlbSgzMCk7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAucHJvZ3Jlc3MtdGV4dC1jdXJyZW50IHsKICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTApOwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICAgIC5wcm9ncmVzcy10ZXh0LWxlZnQgewogICAgICAgICAgZmxleDogMTsKICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTApOwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAucGxheWluZy13cmFwcGVyIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogcHgycmVtKDYwKTsKICAgICAgQGluY2x1ZGUgY2VudGVyOwogICAgICAuaWNvbi1zZXR0aW5ncy13cmFwcGVyIHsKICAgICAgICBmbGV4OiAxOwogICAgICAgIEBpbmNsdWRlIGNvbHVtbkNlbnRlcjsKICAgICAgICAuaWNvbi1zZXR0aW5ncyB7CiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxOCk7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICB9CiAgICAgICAgLnNldHRpbmdzLXRleHQgewogICAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDUpOwogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTApOwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5pY29uLXBsYXlfYmFja3dhcmQgewogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDMwKTsKICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWU7CiAgICAgICAgJjphY3RpdmUgewogICAgICAgICAgb3BhY2l0eTogLjU7CiAgICAgICAgfQogICAgICAgICYubm90LXVzZSB7CiAgICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWUtdHJhbnNwYXJlbnQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5pY29uLXBsYXktd3JhcHBlciB7CiAgICAgICAgZmxleDogMCAwIHB4MnJlbSgxMDApOwogICAgICAgIEBpbmNsdWRlIGNlbnRlcjsKICAgICAgICAmOmFjdGl2ZSB7CiAgICAgICAgICBvcGFjaXR5OiAuNTsKICAgICAgICB9CiAgICAgICAgLmljb24tcGxheV9nbyB7CiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSg1MCk7CiAgICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWU7CiAgICAgICAgfQogICAgICAgIC5pY29uLXBsYXlfcGF1c2UgewogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oNTApOwogICAgICAgICAgY29sb3I6ICRjb2xvci1ibHVlOwogICAgICAgIH0KICAgICAgfQogICAgICAuaWNvbi1wbGF5X2ZvcndhcmQgewogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDMwKTsKICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWU7CiAgICAgICAgJjphY3RpdmUgewogICAgICAgICAgb3BhY2l0eTogLjU7CiAgICAgICAgfQogICAgICAgICYubm90LXVzZSB7CiAgICAgICAgICBjb2xvcjogJGNvbG9yLWJsdWUtdHJhbnNwYXJlbnQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5pY29uLWNsb2NrLXdyYXBwZXIgewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgQGluY2x1ZGUgY29sdW1uQ2VudGVyOwogICAgICAgIC5pY29uLWNsb2NrMiB7CiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxOCk7CiAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICB9CiAgICAgICAgLmNsb2NrLXRleHQgewogICAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDUpOwogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTApOwogICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAucmVhZC1hcHBseS13cmFwcGVyIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogcHgycmVtKDIwKTsKICAgICAgZm9udC1zaXplOiBweDJyZW0oMTApOwogICAgICBjb2xvcjogJGNvbG9yLWdyZWVuOwogICAgICBAaW5jbHVkZSBjZW50ZXI7CiAgICB9CiAgICAucmVhZC10aXRsZS13cmFwcGVyIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogcHgycmVtKDI0KTsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgQGluY2x1ZGUgY2VudGVyOwogICAgICAubGluZSB7CiAgICAgICAgZmxleDogMTsKICAgICAgICBib3JkZXItdG9wOiBweDJyZW0oMSkgc29saWQgI2VlZTsKICAgICAgICBoZWlnaHQ6IDA7CiAgICAgIH0KICAgICAgLnJlYWQtdGl0bGUtdGV4dCB7CiAgICAgICAgZmxleDogMCAwIHB4MnJlbSgxMzApOwogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDE0KTsKICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIH0KICAgIH0KICAgIC5ib29rLXdyYXBwZXIgewogICAgICAjcmVhZCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["SpeakMask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpeakMask.vue","sourceRoot":"src/components/speak","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <div class=\"book-speak-mask-wrapper\" @click.stop.prevent=\"hide\" v-show=\"visible\">\n      <transition name=\"popup-slide-up\">\n        <div class=\"book-speak-mask-card-wrapper\" v-show=\"speakCardVisible\" @click.stop.prevent=\"hide\">\n          <div class=\"pulldown-icon-wrapper\" @click=\"hide\">\n            <span class=\"icon-pull_down\"></span>\n          </div>\n          <div class=\"card-title-wrapper\">\n            <div class=\"icon-speak-wrapper\">\n              <span class=\"icon-speak\"></span>\n            </div>\n            <div class=\"speak-title-wrapper\">\n              <span class=\"speak-title\">{{$t('speak.voice')}}</span>\n            </div>\n            <div class=\"read-fulltext-wrapper\">\n              <span class=\"read-fulltext\">{{$t('speak.read')}}</span>\n            </div>\n          </div>\n          <div class=\"card-section-title-wrapper\">\n            <div class=\"card-section-title-text\">{{title}}</div>\n            <div class=\"card-section-sub-title-text\" v-if=\"currentSectionIndex\">{{currentSectionIndex}} /\n              {{currentSectionTotal}}\n            </div>\n          </div>\n          <div class=\"setting-progress\">\n            <div class=\"progress-wrapper\">\n              <input class=\"progress\" type=\"range\"\n                     max=\"100\"\n                     min=\"0\"\n                     step=\"1\"\n                     @change=\"onProgressChange($event.target.value)\"\n                     @input=\"onProgressInput($event.target.value)\"\n                     :value=\"progress\"\n                     ref=\"progress\">\n            </div>\n            <div class=\"progress-text\">\n              <div class=\"progress-text-current\">{{playInfo ? playInfo.currentMinute : '00'}}:{{playInfo ?\n                playInfo.currentSecond : '00'}}\n              </div>\n              <div class=\"progress-text-left\">-{{playInfo ? playInfo.leftMinute : '00'}}:{{playInfo ?\n                playInfo.leftSecond : '00'}}\n              </div>\n            </div>\n          </div>\n          <div class=\"playing-wrapper\">\n            <div class=\"icon-settings-wrapper\">\n              <span class=\"icon-settings\"></span>\n              <div class=\"settings-text\">{{$t('speak.settings')}}</div>\n            </div>\n            <span class=\"icon-play_backward\" :class=\"{'not-use': currentSectionIndex <= 1}\" @click.stop.prevent=\"prev\"></span>\n            <div class=\"icon-play-wrapper\" @click.stop.prevent=\"togglePlay\">\n              <span class=\"icon-play_go\" v-if=\"!isPlaying\"></span>\n              <span class=\"icon-play_pause\" v-else></span>\n            </div>\n            <span class=\"icon-play_forward\" :class=\"{'not-use': currentSectionIndex >= currentSectionTotal}\"\n                  @click.stop.prevent=\"next\"></span>\n            <div class=\"icon-clock-wrapper\">\n              <span class=\"icon-clock\"></span>\n              <div class=\"clock-text\">{{$t('speak.timing')}}</div>\n            </div>\n          </div>\n          <div class=\"read-apply-wrapper\">\n            {{$t('speak.apply')}}\n          </div>\n          <div class=\"read-title-wrapper\">\n            <span class=\"line\"></span>\n            <div class=\"read-title-text\">{{$t('speak.current')}}</div>\n            <span class=\"line\"></span>\n          </div>\n          <div class=\"book-wrapper\" ref=\"bookWrapper\">\n            <div id=\"book-read\"></div>\n          </div>\n        </div>\n      </transition>\n    </div>\n  </transition>\n</template>\n\n<script>\n  import { realPx } from '@/utils/utils'\n\n  export default {\n    props: {\n      title: String,\n      book: Object,\n      section: Object,\n      currentSectionIndex: Number,\n      currentSectionTotal: Number,\n      isPlaying: Boolean,\n      playInfo: Object\n    },\n    data() {\n      return {\n        visible: false,\n        speakCardVisible: false,\n        progress: 0,\n        readHeight: 0\n      }\n    },\n    methods: {\n      refreshProgress(p) {\n        this.progress = p\n        this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n      },\n      updateText(promise) {\n        promise.then(() => {\n          const currentPage = this.rendition.currentLocation()\n          const cfibase = this.section.cfiBase\n          const cfistart = currentPage.start.cfi.replace(/.*!/, '').replace(/\\)/, '')\n          const cfiend = currentPage.end.cfi.replace(/.*!/, '').replace(/\\)/, '')\n          this.book.getRange(`epubcfi(${cfibase}!,${cfistart},${cfiend})`).then(range => {\n            let text = range.toString()\n            text = text.replace(/\\s(2,)/g, '')\n            text = text.replace(/\\r/g, '')\n            text = text.replace(/\\n/g, '')\n            text = text.replace(/\\t/g, '')\n            text = text.replace(/\\f/g, '')\n            this.$emit('updateText', text)\n          })\n        })\n      },\n      togglePlay() {\n        this.$parent.togglePlay()\n      },\n      prev() {\n        if (this.currentSectionIndex > 1) {\n          this.updateText(this.rendition.prev())\n          this.$emit('update:currentSectionIndex', this.currentSectionIndex - 1)\n          this.$parent.resetPlay()\n          setTimeout(() => {\n            this.$parent.togglePlay()\n          }, 500)\n        }\n      },\n      next() {\n        if (this.currentSectionIndex < this.currentSectionTotal) {\n          this.updateText(this.rendition.next())\n          this.$emit('update:currentSectionIndex', this.currentSectionIndex + 1)\n          this.$parent.resetPlay()\n          setTimeout(() => {\n            this.$parent.togglePlay()\n          }, 500)\n        }\n      },\n      display() {\n        if (!this.rendition) {\n          this.rendition = this.book.renderTo('book-read', {\n            width: window.innerWidth > 640 ? 640 : window.innerWidth,\n            height: this.readHeight,\n            method: 'default'\n          })\n          this.displayed = this.rendition.display(this.section.href)\n        } else {\n          this.displayed = this.rendition.display(this.section.href)\n        }\n      },\n      onProgressChange(progress) {\n      },\n      onProgressInput(progress) {\n        this.progress = progress\n        this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n      },\n      hide() {\n        this.speakCardVisible = false\n        this.visible = false\n      },\n      show() {\n        this.visible = true\n        this.speakCardVisible = true\n        this.refresh()\n        this.$nextTick(() => {\n          this.display()\n        })\n      },\n      refresh() {\n        this.readHeight = window.innerHeight * 0.9 - realPx(40) - realPx(54) - realPx(46) - realPx(48) - realPx(60) - realPx(44)\n        // console.log(this.readHeight)\n        this.$refs.bookWrapper.style.height = this.readHeight + 'px'\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n\n  .book-speak-mask-wrapper {\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 120;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .5);\n    .book-speak-mask-card-wrapper {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      z-index: 120;\n      width: 100%;\n      height: 90%;\n      background: white;\n      border-radius: px2rem(10) px2rem(10) 0 0;\n      .pulldown-icon-wrapper {\n        width: 100%;\n        height: px2rem(40);\n        color: #ccc;\n        font-size: px2rem(40);\n        @include center;\n      }\n      .card-title-wrapper {\n        width: 100%;\n        height: px2rem(54);\n        display: flex;\n        padding: 0 px2rem(15);\n        box-sizing: border-box;\n        .icon-speak-wrapper {\n          flex: 0 0 px2rem(40);\n          @include left;\n          .icon-speak {\n            font-size: px2rem(24);\n            color: #999;\n          }\n        }\n        .speak-title-wrapper {\n          flex: 1;\n          @include left;\n          .speak-title {\n            font-size: px2rem(16);\n            font-weight: bold;\n            color: #666;\n          }\n        }\n        .read-fulltext-wrapper {\n          flex: 1;\n          @include right;\n          .read-fulltext {\n            font-size: px2rem(12);\n            font-weight: bold;\n            color: $color-blue;\n            background: rgba(74, 171, 255, .2);\n            padding: px2rem(5) px2rem(10);\n            box-sizing: border-box;\n            border-radius: px2rem(20);\n          }\n        }\n      }\n      .card-section-title-wrapper {\n        width: 100%;\n        height: px2rem(46);\n        padding: 0 px2rem(15);\n        box-sizing: border-box;\n        @include columnCenter;\n        .card-section-title-text {\n          font-size: px2rem(16);\n          color: #333;\n          font-weight: bold;\n        }\n        .card-section-sub-title-text {\n          font-size: px2rem(12);\n          color: #666;\n          margin-top: px2rem(5);\n        }\n      }\n      .setting-progress {\n        width: 100%;\n        height: px2rem(48);\n        @include columnTop;\n        .progress-wrapper {\n          flex: 1;\n          width: 100%;\n          @include center;\n          padding: 0 px2rem(30);\n          box-sizing: border-box;\n          .progress {\n            width: 100%;\n            -webkit-appearance: none;\n            height: px2rem(2);\n            background: -webkit-linear-gradient($color-blue, $color-blue) no-repeat, rgba(74, 171, 255, .2);\n            background-size: 0 100%;\n            &:focus {\n              outline: none;\n            }\n            &::-webkit-slider-thumb {\n              -webkit-appearance: none;\n              height: px2rem(20);\n              width: px2rem(20);\n              border-radius: 50%;\n              background: $color-blue;\n              border: none;\n              box-shadow: 0 4px 4px 0 rgba(0, 0, 0, .15);\n            }\n          }\n        }\n        .progress-text {\n          display: flex;\n          width: 100%;\n          padding: 0 px2rem(30);\n          box-sizing: border-box;\n          .progress-text-current {\n            flex: 1;\n            text-align: left;\n            font-size: px2rem(10);\n            color: #666;\n          }\n          .progress-text-left {\n            flex: 1;\n            text-align: right;\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n      }\n      .playing-wrapper {\n        width: 100%;\n        height: px2rem(60);\n        @include center;\n        .icon-settings-wrapper {\n          flex: 1;\n          @include columnCenter;\n          .icon-settings {\n            font-size: px2rem(18);\n            color: #666;\n          }\n          .settings-text {\n            margin-top: px2rem(5);\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n        .icon-play_backward {\n          font-size: px2rem(30);\n          color: $color-blue;\n          &:active {\n            opacity: .5;\n          }\n          &.not-use {\n            color: $color-blue-transparent;\n          }\n        }\n        .icon-play-wrapper {\n          flex: 0 0 px2rem(100);\n          @include center;\n          &:active {\n            opacity: .5;\n          }\n          .icon-play_go {\n            font-size: px2rem(50);\n            color: $color-blue;\n          }\n          .icon-play_pause {\n            font-size: px2rem(50);\n            color: $color-blue;\n          }\n        }\n        .icon-play_forward {\n          font-size: px2rem(30);\n          color: $color-blue;\n          &:active {\n            opacity: .5;\n          }\n          &.not-use {\n            color: $color-blue-transparent;\n          }\n        }\n        .icon-clock-wrapper {\n          flex: 1;\n          @include columnCenter;\n          .icon-clock2 {\n            font-size: px2rem(18);\n            color: #666;\n          }\n          .clock-text {\n            margin-top: px2rem(5);\n            font-size: px2rem(10);\n            color: #666;\n          }\n        }\n      }\n      .read-apply-wrapper {\n        width: 100%;\n        height: px2rem(20);\n        font-size: px2rem(10);\n        color: $color-green;\n        @include center;\n      }\n      .read-title-wrapper {\n        width: 100%;\n        height: px2rem(24);\n        box-sizing: border-box;\n        @include center;\n        .line {\n          flex: 1;\n          border-top: px2rem(1) solid #eee;\n          height: 0;\n        }\n        .read-title-text {\n          flex: 0 0 px2rem(130);\n          font-size: px2rem(14);\n          color: #666;\n          text-align: center;\n        }\n      }\n      .book-wrapper {\n        #read {\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n  }\n</style>\n"]}]}