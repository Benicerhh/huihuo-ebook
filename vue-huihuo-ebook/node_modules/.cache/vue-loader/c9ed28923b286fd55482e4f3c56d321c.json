{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfItem.vue","mtime":1588732695778},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiwgaG9tZU1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nCmltcG9ydCB7IGdvdG9TdG9yZUhvbWUgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yZScKaW1wb3J0IFNoZWxmQm9vayBmcm9tICcuL1NoZWxmSXRlbUJvb2snCmltcG9ydCBTaGVsZkNhdGVnb3J5IGZyb20gJy4vU2hlbGZJdGVtQ2F0ZWdvcnknCmltcG9ydCBTaGVsZkFkZCBmcm9tICcuL1NoZWxmSXRlbUFkZCcKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3N0b3JlU2hlbGZNaXhpbiwgaG9tZU1peGluXSwKICBwcm9wczogewogICAgZGF0YTogT2JqZWN0CiAgfSwKICBjb21wdXRlZDogewogICAgaXRlbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS50eXBlID09PSAxCiAgICAgICAgPyB0aGlzLmJvb2sKICAgICAgICA6IHRoaXMuZGF0YS50eXBlID09PSAyCiAgICAgICAgPyB0aGlzLmNhdGVnb3J5CiAgICAgICAgOiB0aGlzLmFkZAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IFNoZWxmQm9vaywKICAgICAgY2F0ZWdvcnk6IFNoZWxmQ2F0ZWdvcnksCiAgICAgIGFkZDogU2hlbGZBZGQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uSXRlbUNsaWNrKCkgewogICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7CiAgICAgICAgdGhpcy5kYXRhLnNlbGVjdGVkID0gIXRoaXMuZGF0YS5zZWxlY3RlZAogICAgICAgIGlmICh0aGlzLmRhdGEuc2VsZWN0ZWQpIHsKICAgICAgICAgIHRoaXMuc2hlbGZTZWxlY3RlZC5wdXNoV2l0aG91dER1cGxpY2F0ZSh0aGlzLmRhdGEpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0U2hlbGZTZWxlY3RlZCgKICAgICAgICAgICAgdGhpcy5zaGVsZlNlbGVjdGVkLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IHRoaXMuZGF0YS5pZCkKICAgICAgICAgICkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAxKSB7CiAgICAgICAgICB0aGlzLnNob3dCb29rRGV0YWlsKHRoaXMuZGF0YSkKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50eXBlID09PSAyKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcvc3RvcmUvY2F0ZWdvcnknLAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmRhdGEudGl0bGUKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZ290b1N0b3JlSG9tZSh0aGlzKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["ShelfItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShelfItem.vue","sourceRoot":"src/components/shelf","sourcesContent":["<template>\r\n  <div\r\n    class=\"shelf-item\"\r\n    :class=\"{'shelf-item-shadow':data.type!==3}\"\r\n    @click=\"onItemClick\"\r\n  >\r\n    <component\r\n      :is=\"item\"\r\n      :data=\"data\"\r\n      class=\"shelf-item-comp\"\r\n      :class=\"{'is-edit':isEditMode &&  data.type===2}\"\r\n    ></component>\r\n    <div\r\n      class=\"icon-selected\"\r\n      :class=\"{'is-selected':data.selected}\"\r\n      v-show=\"isEditMode && data.type===1\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { storeShelfMixin, homeMixin } from '../../utils/mixin'\r\n  import { gotoStoreHome } from '../../utils/store'\r\n  import ShelfBook from './ShelfItemBook'\r\n  import ShelfCategory from './ShelfItemCategory'\r\n  import ShelfAdd from './ShelfItemAdd'\r\n  export default {\r\n    mixins: [storeShelfMixin, homeMixin],\r\n    props: {\r\n      data: Object\r\n    },\r\n    computed: {\r\n      item() {\r\n        return this.data.type === 1\r\n          ? this.book\r\n          : this.data.type === 2\r\n          ? this.category\r\n          : this.add\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        book: ShelfBook,\r\n        category: ShelfCategory,\r\n        add: ShelfAdd\r\n      }\r\n    },\r\n    methods: {\r\n      onItemClick() {\r\n        if (this.isEditMode) {\r\n          this.data.selected = !this.data.selected\r\n          if (this.data.selected) {\r\n            this.shelfSelected.pushWithoutDuplicate(this.data)\r\n          } else {\r\n            this.setShelfSelected(\r\n              this.shelfSelected.filter(item => item.id !== this.data.id)\r\n            )\r\n          }\r\n        } else {\r\n          if (this.data.type === 1) {\r\n            this.showBookDetail(this.data)\r\n          } else if (this.data.type === 2) {\r\n            this.$router.push({\r\n              path: '/store/category',\r\n              query: {\r\n                title: this.data.title\r\n              }\r\n            })\r\n          } else {\r\n            gotoStoreHome(this)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .shelf-item {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    &.shelf-item-shadow {\r\n      box-shadow: px2rem(2) px2rem(2) px2rem(6) px2rem(2) rgba(200, 200, 200, 0.3);\r\n    }\r\n    .shelf-item-comp {\r\n      opacity: 1;\r\n      &.is-edit {\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n    .icon-selected {\r\n      position: absolute;\r\n      bottom: px2rem(2);\r\n      right: px2rem(2);\r\n      font-size: px2rem(18);\r\n      color: rgba(0, 0, 0, 0.4);\r\n      &.is-selected {\r\n        color: $color-blue;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}