{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\Ebook\\EbookSlideContent.vue?vue&type=style&index=0&id=00b521d5&lang=scss&rel=stylesheet%2Fscss&scoped=true&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\Ebook\\EbookSlideContent.vue","mtime":1588584564368},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgJy4uLy4uL2Fzc2V0cy9zdHlsZXMvZ2xvYmFsJzsKLmVib29rLXNsaWRlLWNvbnRlbnRzIHsKICB3aWR0aDogMTAwJTsKICBmb250LXNpemU6IDA7CiAgLnNsaWRlLWNvbnRlbnRzLXNlYXJjaC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogcHgycmVtKDM2KTsKICAgIG1hcmdpbjogcHgycmVtKDIwKSAwIHB4MnJlbSgxMCkgMDsKICAgIHBhZGRpbmc6IDAgcHgycmVtKDE1KTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAuc2xpZGUtY29udGVudHMtc2VhcmNoLWlucHV0LXdyYXBwZXIgewogICAgICBmbGV4OiAxOwogICAgICBib3JkZXItcmFkaXVzOiBweDJyZW0oMyk7CiAgICAgIEBpbmNsdWRlIGNlbnRlcjsKICAgICAgLnNsaWRlLWNvbnRlbnRzLXNlYXJjaC1pY29uIHsKICAgICAgICBmbGV4OiAwIDAgcHgycmVtKDI4KTsKICAgICAgICBAaW5jbHVkZSBjZW50ZXI7CiAgICAgICAgLmljb24tc2VhcmNoIHsKICAgICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDEyKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLnNsaWRlLWNvbnRlbnRzLXNlYXJjaC1pbnB1dCB7CiAgICAgICAgZmxleDogMTsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IHB4MnJlbSgzMik7CiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOwogICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAmOmZvY3VzIHsKICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuc2xpZGUtY29udGVudHMtc2VhcmNoLWNhbmNlbCB7CiAgICAgIGZsZXg6IDAgMCBweDJyZW0oNTApOwogICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7CiAgICAgIEBpbmNsdWRlIHJpZ2h0OwogICAgfQogIH0KICAuc2xpZGUtY29udGVudHMtYm9vay13cmFwcGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogcHgycmVtKDkwKTsKICAgIHBhZGRpbmc6IHB4MnJlbSgxMCkgcHgycmVtKDE1KSBweDJyZW0oMjApIHB4MnJlbSgxNSk7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgLnNsaWRlLWNvbnRlbnRzLWJvb2staW1nLXdyYXBwZXIgewogICAgICBmbGV4OiAwIDAgcHgycmVtKDQ1KTsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgLnNsaWRlLWNvbnRlbnRzLWJvb2staW1nIHsKICAgICAgICB3aWR0aDogcHgycmVtKDQ1KTsKICAgICAgICBoZWlnaHQ6IHB4MnJlbSg2MCk7CiAgICAgIH0KICAgIH0KICAgIC5zbGlkZS1jb250ZW50cy1ib29rLWluZm8td3JhcHBlciB7CiAgICAgIGZsZXg6IDE7CiAgICAgIC8vIEBpbmNsdWRlIGNvbHVtbkxlZnQ7CiAgICAgIC5zbGlkZS1jb250ZW50cy1ib29rLXRpdGxlIHsKICAgICAgICB3aWR0aDogcHgycmVtKDE1My43NSk7CiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOwogICAgICAgIGxpbmUtaGVpZ2h0OiBweDJyZW0oMTYpOwogICAgICAgIHBhZGRpbmc6IDAgcHgycmVtKDEwKTsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIEBpbmNsdWRlIGVsbGlwc2lzMigyKTsKICAgICAgICBAaW5jbHVkZSBsZWZ0OwogICAgICAgIC5zbGlkZS1jb250ZW50cy1ib29rLXRpdGxlLXRleHQgewogICAgICAgICAgQGluY2x1ZGUgZWxsaXBzaXMyKDMpOwogICAgICAgIH0KICAgICAgfQogICAgICAuc2xpZGUtY29udGVudHMtYm9vay1hdXRob3IgewogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDEyKTsKICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE0KTsKICAgICAgICBwYWRkaW5nOiAwIHB4MnJlbSgxMCk7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICBtYXJnaW4tdG9wOiBweDJyZW0oNSk7CiAgICAgICAgQGluY2x1ZGUgbGVmdDsKICAgICAgICAuc2xpZGUtY29udGVudHMtYm9vay1hdXRob3ItdGV4dCB7CiAgICAgICAgICBAaW5jbHVkZSBlbGxpcHNpczIoMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuc2xpZGUtY29udGVudHMtYm9vay1wcm9ncmVzcy13cmFwcGVyIHsKICAgICAgZmxleDogMCAwIHB4MnJlbSg3MCk7CiAgICAgIC8vQGluY2x1ZGUgY29sdW1uTGVmdDsKICAgICAgLnNsaWRlLWNvbnRlbnRzLWJvb2stcHJvZ3Jlc3MgewogICAgICAgIC5wcm9ncmVzcyB7CiAgICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxNCk7CiAgICAgICAgICBsaW5lLWhlaWdodDogcHgycmVtKDE2KTsKICAgICAgICB9CiAgICAgICAgLnByb2dyZXNzLXRleHQgewogICAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTIpOwogICAgICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgxNCk7CiAgICAgICAgICBtYXJnaW4tbGVmdDogcHgycmVtKDIpOwogICAgICAgIH0KICAgICAgfQogICAgICAuc2xpZGUtY29udGVudHMtYm9vay10aW1lIHsKICAgICAgICBmb250LXNpemU6IHB4MnJlbSgxMik7CiAgICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgxNCk7CiAgICAgICAgbWFyZ2luLXRvcDogcHgycmVtKDUpOwogICAgICB9CiAgICB9CiAgfQogIC5zbGlkZS1jb250ZW50cy1saXN0IHsKICAgIHBhZGRpbmc6IDAgcHgycmVtKDE1KTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAuc2xpZGUtY29udGVudHMtaXRlbSB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIHBhZGRpbmc6IHB4MnJlbSgyMCkgMDsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgLnNsaWRlLWNvbnRlbnRzLWl0ZW0tbGFiZWwgewogICAgICAgIGZsZXg6IDE7CiAgICAgICAgZm9udC1zaXplOiBweDJyZW0oMTQpOwogICAgICAgIGxpbmUtaGVpZ2h0OiBweDJyZW0oMTYpOwogICAgICAgIEBpbmNsdWRlIGVsbGlwc2lzOwogICAgICB9CiAgICAgIC5zbGlkZS1jb250ZW50cy1pdGVtLXBhZ2UgewogICAgICAgIGZsZXg6IDAgMCBweDJyZW0oMzApOwogICAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDEwKTsKICAgICAgICBAaW5jbHVkZSByaWdodDsKICAgICAgfQogICAgfQogIH0KICAuc2xpZGUtc2VhcmNoLWxpc3QgewogICAgcGFkZGluZzogMCBweDJyZW0oMTUpOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIC5zbGlkZS1zZWFyY2gtaXRlbSB7CiAgICAgIGZvbnQtc2l6ZTogcHgycmVtKDE0KTsKICAgICAgbGluZS1oZWlnaHQ6IHB4MnJlbSgxNik7CiAgICAgIHBhZGRpbmc6IHB4MnJlbSgyMCkgMDsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["EbookSlideContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EbookSlideContent.vue","sourceRoot":"src/components/Ebook","sourcesContent":["<template>\r\n  <div class=\"ebook-slide-contents\">\r\n    <div class=\"slide-contents-search-wrapper\">\r\n      <div class=\"slide-contents-search-input-wrapper\">\r\n        <div class=\"slide-contents-search-icon\">\r\n          <span class=\"icon-search\"></span>\r\n        </div>\r\n        <input\r\n          class=\"slide-contents-search-input\"\r\n          type=\"text\"\r\n          :placeholder=\"$t('book.searchHint')\"\r\n          @click=\"showSearchPage()\"\r\n          v-model=\"searchText\"\r\n          @keyup.enter=\"search()\"\r\n          ref=\"searchInput\"\r\n        />\r\n      </div>\r\n      <div\r\n        class=\"slide-contents-search-cancel\"\r\n        v-if=\"searchVisible\"\r\n        @click=\"hideSearchPage()\"\r\n      >{{$t('book.cancel')}}</div>\r\n    </div>\r\n    <div class=\"slide-contents-book-wrapper\" v-show=\"!searchVisible\">\r\n      <div class=\"slide-contents-book-img-wrapper\">\r\n        <img :src=\"cover\" class=\"slide-contents-book-img\" />\r\n      </div>\r\n      <div class=\"slide-contents-book-info-wrapper\">\r\n        <div class=\"slide-contents-book-title\">\r\n          <span class=\"slide-contents-book-title-text\">{{metadata.title}}</span>\r\n        </div>\r\n        <div class=\"slide-contents-book-author\">\r\n          <span class=\"slide-contents-book-author-text\">{{metadata.creator}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"slide-contents-book-progress-wrapper\">\r\n        <div class=\"slide-contents-book-progress\">\r\n          <span class=\"progress\">{{progress + '%'}}</span>\r\n          <span class=\"progress-text\">{{$t('book.haveRead2')}}</span>\r\n        </div>\r\n        <div class=\"slide-contents-book-time\">{{getReadTimeText()}}</div>\r\n      </div>\r\n    </div>\r\n    <scroll\r\n      class=\"slide-contents-list\"\r\n      :top=\"156\"\r\n      :bottom=\"48\"\r\n      ref=\"scroll\"\r\n      v-show=\"!searchVisible\"\r\n    >\r\n      <div\r\n        class=\"slide-contents-item\"\r\n        v-for=\"(item, index) in navigation\"\r\n        :key=\"index\"\r\n        @click=\"displayNav(item.href)\"\r\n      >\r\n        <span\r\n          class=\"slide-contents-item-label\"\r\n          :class=\"{'selected': section === index}\"\r\n          :style=\"contentItemStyle(item)\"\r\n        >{{item.label.trim()}}</span>\r\n        <span class=\"slide-contents-item-page\">{{item.page}}</span>\r\n      </div>\r\n    </scroll>\r\n    <scroll\r\n      class=\"slide-search-list\"\r\n      :top=\"66\"\r\n      :bottom=\"48\"\r\n      ref=\"scroll\"\r\n      v-show=\"searchVisible\"\r\n    >\r\n      <div\r\n        class=\"slide-search-item\"\r\n        v-for=\"(item, index) in searchList\"\r\n        :key=\"index\"\r\n        v-html=\"item.excerpt\"\r\n        @click=\"displaySearch(item.cfi)\"\r\n      >{{item.excerpt}}</div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { ebookMixin } from '../../utils/mixin'\r\n  import Scroll from '../common/Scroll'\r\n  import { px2rem } from '../../utils/utils'\r\n\r\n  export default {\r\n    mixins: [ebookMixin],\r\n    components: {\r\n      Scroll\r\n    },\r\n    data() {\r\n      return {\r\n        searchText: '',\r\n        searchVisible: false,\r\n        searchList: null\r\n      }\r\n    },\r\n    methods: {\r\n      displayNav(target) {\r\n        this.display(target, () => {\r\n          this.hideTitleAndMenu()\r\n        })\r\n      },\r\n      displaySearch(target) {\r\n        this.display(target, () => {\r\n          this.hideTitleAndMenu()\r\n        })\r\n      },\r\n      contentItemStyle(item) {\r\n        return {\r\n          marginLeft: `${px2rem(item.level * 15)}rem`\r\n        }\r\n      },\r\n      showSearchPage() {\r\n        this.searchVisible = true\r\n      },\r\n      hideSearchPage() {\r\n        this.searchVisible = false\r\n        this.searchText = ''\r\n        this.searchList = null\r\n      },\r\n      search() {\r\n        this.doSearch(this.searchText).then(result => {\r\n          this.searchList = result.map(item => {\r\n            item.excerpt = item.excerpt.replace(\r\n              this.searchText,\r\n              `<span class=\"content-search-text\">${this.searchText}</span>`\r\n            )\r\n            return item\r\n          })\r\n          this.$refs.searchInput.blur()\r\n        })\r\n      },\r\n      doSearch(q) {\r\n        //搜索算法\r\n        return Promise.all(\r\n          this.currentBook.spine.spineItems.map(item =>\r\n            item\r\n              .load(this.currentBook.load.bind(this.currentBook))\r\n              .then(item.find.bind(item, q))\r\n              .finally(item.unload.bind(item))\r\n          )\r\n        ).then(results => Promise.resolve([].concat.apply([], results)))\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n  @import '../../assets/styles/global';\r\n  .ebook-slide-contents {\r\n    width: 100%;\r\n    font-size: 0;\r\n    .slide-contents-search-wrapper {\r\n      display: flex;\r\n      width: 100%;\r\n      height: px2rem(36);\r\n      margin: px2rem(20) 0 px2rem(10) 0;\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      .slide-contents-search-input-wrapper {\r\n        flex: 1;\r\n        border-radius: px2rem(3);\r\n        @include center;\r\n        .slide-contents-search-icon {\r\n          flex: 0 0 px2rem(28);\r\n          @include center;\r\n          .icon-search {\r\n            font-size: px2rem(12);\r\n          }\r\n        }\r\n        .slide-contents-search-input {\r\n          flex: 1;\r\n          width: 100%;\r\n          height: px2rem(32);\r\n          font-size: px2rem(14);\r\n          background: transparent;\r\n          border: none;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n      }\r\n      .slide-contents-search-cancel {\r\n        flex: 0 0 px2rem(50);\r\n        font-size: px2rem(14);\r\n        @include right;\r\n      }\r\n    }\r\n    .slide-contents-book-wrapper {\r\n      display: flex;\r\n      width: 100%;\r\n      height: px2rem(90);\r\n      padding: px2rem(10) px2rem(15) px2rem(20) px2rem(15);\r\n      box-sizing: border-box;\r\n      .slide-contents-book-img-wrapper {\r\n        flex: 0 0 px2rem(45);\r\n        box-sizing: border-box;\r\n        .slide-contents-book-img {\r\n          width: px2rem(45);\r\n          height: px2rem(60);\r\n        }\r\n      }\r\n      .slide-contents-book-info-wrapper {\r\n        flex: 1;\r\n        // @include columnLeft;\r\n        .slide-contents-book-title {\r\n          width: px2rem(153.75);\r\n          font-size: px2rem(14);\r\n          line-height: px2rem(16);\r\n          padding: 0 px2rem(10);\r\n          box-sizing: border-box;\r\n          @include ellipsis2(2);\r\n          @include left;\r\n          .slide-contents-book-title-text {\r\n            @include ellipsis2(3);\r\n          }\r\n        }\r\n        .slide-contents-book-author {\r\n          font-size: px2rem(12);\r\n          line-height: px2rem(14);\r\n          padding: 0 px2rem(10);\r\n          box-sizing: border-box;\r\n          margin-top: px2rem(5);\r\n          @include left;\r\n          .slide-contents-book-author-text {\r\n            @include ellipsis2(1);\r\n          }\r\n        }\r\n      }\r\n      .slide-contents-book-progress-wrapper {\r\n        flex: 0 0 px2rem(70);\r\n        //@include columnLeft;\r\n        .slide-contents-book-progress {\r\n          .progress {\r\n            font-size: px2rem(14);\r\n            line-height: px2rem(16);\r\n          }\r\n          .progress-text {\r\n            font-size: px2rem(12);\r\n            line-height: px2rem(14);\r\n            margin-left: px2rem(2);\r\n          }\r\n        }\r\n        .slide-contents-book-time {\r\n          font-size: px2rem(12);\r\n          line-height: px2rem(14);\r\n          margin-top: px2rem(5);\r\n        }\r\n      }\r\n    }\r\n    .slide-contents-list {\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      .slide-contents-item {\r\n        display: flex;\r\n        padding: px2rem(20) 0;\r\n        box-sizing: border-box;\r\n        .slide-contents-item-label {\r\n          flex: 1;\r\n          font-size: px2rem(14);\r\n          line-height: px2rem(16);\r\n          @include ellipsis;\r\n        }\r\n        .slide-contents-item-page {\r\n          flex: 0 0 px2rem(30);\r\n          font-size: px2rem(10);\r\n          @include right;\r\n        }\r\n      }\r\n    }\r\n    .slide-search-list {\r\n      padding: 0 px2rem(15);\r\n      box-sizing: border-box;\r\n      .slide-search-item {\r\n        font-size: px2rem(14);\r\n        line-height: px2rem(16);\r\n        padding: px2rem(20) 0;\r\n        box-sizing: border-box;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}