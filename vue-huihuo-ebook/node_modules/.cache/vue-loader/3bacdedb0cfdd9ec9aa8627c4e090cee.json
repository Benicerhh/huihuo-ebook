{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue","mtime":1588932804176},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGV0YWlsVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kZXRhaWwvRGV0YWlsVGl0bGUnDQppbXBvcnQgQm9va0luZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kZXRhaWwvQm9va0luZm8nDQppbXBvcnQgU2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1Njcm9sbCcNCmltcG9ydCBTcGVha1BsYXlpbmcgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zcGVhay9TcGVha1BsYXlpbmcnDQppbXBvcnQgQm90dG9tIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3BlYWsvU3BlYWtCb3R0b20nDQppbXBvcnQgU3BlYWtXaW5kb3cgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zcGVhay9TcGVha01hc2snDQppbXBvcnQgeyBmaW5kQm9vaywgZ2V0Q2F0ZWdvcnlOYW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RvcmUnDQppbXBvcnQgeyBmbGF0TGlzdCB9IGZyb20gJy4uLy4uL2FwaS9zdG9yZScNCmltcG9ydCB7IGdldExvY2FsRm9yYWdlIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9jYWxGb3JhZ2UnDQppbXBvcnQgeyByZWFsUHggfSBmcm9tICcuLi8uLi91dGlscy91dGlscycNCmltcG9ydCBFcHViIGZyb20gJ2VwdWJqcycNCmltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnDQoNCmdsb2JhbC5lUHViID0gRXB1Yg0KDQpjb25zdCBBUFBJRCA9ICc1YjRkYTY4YicNCmNvbnN0IEFQSV9TRUNSRVQgPSAnNDg0ODdlMjVkZTgyYTJjMTY3ZWNjZGEzMGY3YTNjNzAnDQpjb25zdCBBUElfS0VZID0gJzcxNTQxNzAyMTllM2U0NDI2MDI1YWZlZjgxMmQwNzBlJw0KbGV0IGlzQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWUvKQ0KbGV0IG5vdFN1cHBvcnRUaXAgPSBpc0Nocm9tZQ0KICA/ICfmgqjnmoTmtY/op4jlmajmmoLml7bkuI3mlK/mjIHkvZPpqozlip/og73vvIzor7fljYfnuqfmgqjnmoTmtY/op4jlmagnDQogIDogJ+aCqOeOsOWcqOS9v+eUqOeahOa1j+iniOWZqOaaguaXtuS4jeaUr+aMgeS9k+mqjOWKn+iDve+8jDxiciAvPuaOqOiNkOS9v+eUqOiwt+atjOa1j+iniOWZqENocm9tZScNCg0KZnVuY3Rpb24gZ2V0V2Vic29ja2V0VXJsKCkgew0KICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgIHZhciBhcGlLZXkgPSBBUElfS0VZDQogICAgdmFyIGFwaVNlY3JldCA9IEFQSV9TRUNSRVQNCiAgICB2YXIgdXJsID0gJ3dzczovL3R0cy1hcGkueGZ5dW4uY24vdjIvdHRzJw0KICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdA0KICAgIHZhciBkYXRlID0gbmV3IERhdGUoKS50b0dNVFN0cmluZygpDQogICAgdmFyIGFsZ29yaXRobSA9ICdobWFjLXNoYTI1NicNCiAgICB2YXIgaGVhZGVycyA9ICdob3N0IGRhdGUgcmVxdWVzdC1saW5lJw0KICAgIHZhciBzaWduYXR1cmVPcmlnaW4gPSBgaG9zdDogJHtob3N0fVxuZGF0ZTogJHtkYXRlfVxuR0VUIC92Mi90dHMgSFRUUC8xLjFgDQogICAgdmFyIHNpZ25hdHVyZVNoYSA9IENyeXB0b0pTLkhtYWNTSEEyNTYoc2lnbmF0dXJlT3JpZ2luLCBhcGlTZWNyZXQpDQogICAgdmFyIHNpZ25hdHVyZSA9IENyeXB0b0pTLmVuYy5CYXNlNjQuc3RyaW5naWZ5KHNpZ25hdHVyZVNoYSkNCiAgICB2YXIgYXV0aG9yaXphdGlvbk9yaWdpbiA9IGBhcGlfa2V5PSIke2FwaUtleX0iLCBhbGdvcml0aG09IiR7YWxnb3JpdGhtfSIsIGhlYWRlcnM9IiR7aGVhZGVyc30iLCBzaWduYXR1cmU9IiR7c2lnbmF0dXJlfSJgDQogICAgdmFyIGF1dGhvcml6YXRpb24gPSBidG9hKGF1dGhvcml6YXRpb25PcmlnaW4pDQogICAgdXJsID0gYCR7dXJsfT9hdXRob3JpemF0aW9uPSR7YXV0aG9yaXphdGlvbn0mZGF0ZT0ke2RhdGV9Jmhvc3Q9JHtob3N0fWANCiAgICByZXNvbHZlKHVybCkNCiAgfSkNCn0NCg0KbGV0IGF1ZGlvQ3R4DQpsZXQgc291cmNlDQpsZXQgYnRuU3RhdGUgPSB7DQogIHVuVFRTOiAn56uL5Y2z5ZCI5oiQJywNCiAgdHRzaW5nOiAn5q2j5Zyo5ZCI5oiQJywNCiAgZW5kVFRTOiAn56uL5Y2z5pKt5pS+JywNCiAgcGxheTogJ+WBnOatouaSreaUvicsDQogIHBhdXNlOiAn57un57ut5pKt5pS+JywNCiAgZW5kUGxheTogJ+mHjeaWsOaSreaUvicsDQogIGVycm9yVFRTOiAn5ZCI5oiQ5aSx6LSlJw0KfQ0KDQpjbGFzcyBFeHBlcmllbmNlIHsNCiAgY29uc3RydWN0b3Ioew0KICAgIHNwZWVkID0gNTAsDQogICAgdm9pY2UgPSA1MCwNCiAgICBwaXRjaCA9IDUwLA0KICAgIHRleHQgPSAnJywNCiAgICBlbmdpbmVUeXBlID0gJ2Fpc291bmQnLA0KICAgIHZvaWNlTmFtZSA9ICd4aWFveWFuJywNCiAgICBwbGF5QnRuID0gJy5qcy1iYXNlLXBsYXknLA0KICAgIGRlZmF1bHRUZXh0ID0gJycNCiAgfSA9IHt9KSB7DQogICAgdGhpcy5zcGVlZCA9IHNwZWVkDQogICAgdGhpcy52b2ljZSA9IHZvaWNlDQogICAgdGhpcy5waXRjaCA9IHBpdGNoDQogICAgdGhpcy50ZXh0ID0gdGV4dA0KICAgIHRoaXMuZGVmYXVsdFRleHQgPSBkZWZhdWx0VGV4dA0KICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGUNCiAgICB0aGlzLnZvaWNlTmFtZSA9IHZvaWNlTmFtZQ0KICAgIHRoaXMucGxheUJ0biA9IHBsYXlCdG4NCiAgICB0aGlzLnBsYXlTdGF0ZSA9ICcnDQogICAgdGhpcy5hdWRpb0RhdGFzID0gW10NCiAgICB0aGlzLnBjbVBsYXlXb3JrID0gbmV3IFdvcmtlcignLi90cmFuc2Zvcm0ud29ya2VyLmpzJykNCiAgICB0aGlzLnBjbVBsYXlXb3JrLm9ubWVzc2FnZSA9IGUgPT4gew0KICAgICAgdGhpcy5vbm1lc3NhZ2VXb3JrKGUpDQogICAgfQ0KICB9DQoNCiAgc2V0Q29uZmlnKHsgc3BlZWQsIHZvaWNlLCBwaXRjaCwgdGV4dCwgZGVmYXVsdFRleHQsIGVuZ2luZVR5cGUsIHZvaWNlTmFtZSB9KSB7DQogICAgc3BlZWQgJiYgKHRoaXMuc3BlZWQgPSBzcGVlZCkNCiAgICB2b2ljZSAmJiAodGhpcy52b2ljZSA9IHZvaWNlKQ0KICAgIHBpdGNoICYmICh0aGlzLnBpdGNoID0gcGl0Y2gpDQogICAgdGV4dCAmJiAodGhpcy50ZXh0ID0gdGV4dCkNCiAgICBkZWZhdWx0VGV4dCAmJiAodGhpcy5kZWZhdWx0VGV4dCA9IGRlZmF1bHRUZXh0KQ0KICAgIGVuZ2luZVR5cGUgJiYgKHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGUpDQogICAgdm9pY2VOYW1lICYmICh0aGlzLnZvaWNlTmFtZSA9IHZvaWNlTmFtZSkNCiAgICB0aGlzLnJlc2V0QXVkaW8oKQ0KICB9DQoNCiAgb25tZXNzYWdlV29yayhlKSB7DQogICAgc3dpdGNoIChlLmRhdGEuY29tbWFuZCkgew0KICAgICAgY2FzZSAnbmV3QXVkaW9EYXRhJzogew0KICAgICAgICB0aGlzLmF1ZGlvRGF0YXMucHVzaChlLmRhdGEuZGF0YSkNCiAgICAgICAgaWYgKHRoaXMucGxheVN0YXRlID09PSAndHRzaW5nJyAmJiB0aGlzLmF1ZGlvRGF0YXMubGVuZ3RoID09PSAxKSB7DQogICAgICAgICAgdGhpcy5wbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5hdWRpb1BsYXkoKQ0KICAgICAgICAgIH0sIDEwMDApDQogICAgICAgIH0NCiAgICAgICAgYnJlYWsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICBzZXRCdG5TdGF0ZShzdGF0ZSkgew0KICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucGxheVN0YXRlDQogICAgdGhpcy5wbGF5U3RhdGUgPSBzdGF0ZQ0KICB9DQoNCiAgZ2V0QXVkaW8oKSB7DQogICAgdGhpcy5zZXRCdG5TdGF0ZSgndHRzaW5nJykNCiAgICBnZXRXZWJzb2NrZXRVcmwoKS50aGVuKHVybCA9PiB7DQogICAgICB0aGlzLmNvbm5lY3RXZWJzb2NrZXQodXJsKQ0KICAgIH0pDQogIH0NCg0KICBjb25uZWN0V2Vic29ja2V0KHVybCkgew0KICAgIGlmICgnV2ViU29ja2V0JyBpbiB3aW5kb3cpIHsNCiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh1cmwpDQogICAgfSBlbHNlIGlmICgnTW96V2ViU29ja2V0JyBpbiB3aW5kb3cpIHsNCiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IE1veldlYlNvY2tldCh1cmwpDQogICAgfSBlbHNlIHsNCiAgICAgIGFsZXJ0KG5vdFN1cHBvcnRUaXApDQogICAgICByZXR1cm4NCiAgICB9DQogICAgbGV0IHNlbGYgPSB0aGlzDQogICAgdGhpcy53ZWJzb2NrZXQub25vcGVuID0gZSA9PiB7DQogICAgICB2YXIgcGFyYW1zID0gew0KICAgICAgICBjb21tb246IHsNCiAgICAgICAgICBhcHBfaWQ6IEFQUElEIC8vIEFQUElEDQogICAgICAgIH0sDQogICAgICAgIGJ1c2luZXNzOiB7DQogICAgICAgICAgZW50OiBzZWxmLmVuZ2luZVR5cGUsDQogICAgICAgICAgYXVlOiAncmF3JywNCiAgICAgICAgICBhdWY6ICdhdWRpby9MMTY7cmF0ZT0xNjAwMCcsDQogICAgICAgICAgdmNuOiBzZWxmLnZvaWNlTmFtZSwNCiAgICAgICAgICBzcGVlZDogc2VsZi5zcGVlZCwNCiAgICAgICAgICB2b2x1bWU6IHNlbGYudm9pY2UgKiAxMCwNCiAgICAgICAgICBwaXRjaDogc2VsZi5waXRjaCwNCiAgICAgICAgICAvLydiZ3MnOiAxLA0KICAgICAgICAgIHR0ZTogJ1VURjgnDQogICAgICAgIH0sDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICBzdGF0dXM6IDIsDQogICAgICAgICAgdGV4dDogQmFzZTY0LmVuY29kZShzZWxmLnRleHQgfHwgc2VsZi5kZWZhdWx0VGV4dCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbXMpKQ0KICAgIH0NCiAgICB0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2UgPSBlID0+IHsNCiAgICAgIGxldCBqc29uRGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKQ0KICAgICAgLy8g5ZCI5oiQ5aSx6LSlDQogICAgICBpZiAoanNvbkRhdGEuY29kZSAhPT0gMCkgew0KICAgICAgICBhbGVydChgJHtqc29uRGF0YS5jb2RlfToke2pzb25EYXRhLm1lc3NhZ2V9YCkNCiAgICAgICAgc2VsZi5yZXNldEF1ZGlvKCkNCiAgICAgICAgdGhpcy53ZWJzb2NrZXQuY2xvc2UoKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHNlbGYucGNtUGxheVdvcmsucG9zdE1lc3NhZ2Uoew0KICAgICAgICBjb21tYW5kOiAndHJhbnNEYXRhJywNCiAgICAgICAgZGF0YToganNvbkRhdGEuZGF0YS5hdWRpbw0KICAgICAgfSkNCg0KICAgICAgaWYgKGpzb25EYXRhLmNvZGUgPT09IDAgJiYganNvbkRhdGEuZGF0YS5zdGF0dXMgPT09IDIpIHsNCiAgICAgICAgdGhpcy53ZWJzb2NrZXQuY2xvc2UoKQ0KICAgICAgfQ0KICAgIH0NCiAgICB0aGlzLndlYnNvY2tldC5vbmVycm9yID0gZSA9PiB7DQogICAgICAvL2NvbnNvbGUubG9nKGUpDQogICAgICAvL2NvbnNvbGUubG9nKGUuZGF0YSkNCiAgICB9DQogICAgdGhpcy53ZWJzb2NrZXQub25jbG9zZSA9IGUgPT4gew0KICAgICAgLy9jb25zb2xlLmxvZyhlKQ0KICAgIH0NCiAgfQ0KDQogIHJlc2V0QXVkaW8oKSB7DQogICAgdGhpcy5hdWRpb1BhdXNlKCkNCiAgICB0aGlzLnNldEJ0blN0YXRlKCd1blRUUycpDQogICAgdGhpcy5hdWRpb0RhdGFzSW5kZXggPSAwDQogICAgdGhpcy5hdWRpb0RhdGFzID0gW10NCiAgICB0aGlzLndlYnNvY2tldCAmJiB0aGlzLndlYnNvY2tldC5jbG9zZSgpDQogICAgY2xlYXJUaW1lb3V0KHRoaXMucGxheVRpbWVvdXQpDQogIH0NCg0KICBhdWRpb1BsYXkoKSB7DQogICAgdHJ5IHsNCiAgICAgIGlmICghYXVkaW9DdHgpIHsNCiAgICAgICAgYXVkaW9DdHggPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCkoKQ0KICAgICAgfQ0KICAgICAgaWYgKCFhdWRpb0N0eCkgew0KICAgICAgICBhbGVydChub3RTdXBwb3J0VGlwKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICB9IGNhdGNoIChlKSB7DQogICAgICBhbGVydChub3RTdXBwb3J0VGlwKQ0KICAgICAgcmV0dXJuDQogICAgfQ0KICAgIHRoaXMuYXVkaW9EYXRhc0luZGV4ID0gMA0KICAgIGlmICh0aGlzLmF1ZGlvRGF0YXMubGVuZ3RoKSB7DQogICAgICB0aGlzLnBsYXlTb3VyY2UoKQ0KICAgICAgdGhpcy5zZXRCdG5TdGF0ZSgncGxheScpDQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMuZ2V0QXVkaW8oKQ0KICAgIH0NCiAgfQ0KDQogIGF1ZGlvUGF1c2Uoc3RhdGUpIHsNCiAgICBpZiAodGhpcy5wbGF5U3RhdGUgPT09ICdwbGF5Jykgew0KICAgICAgdGhpcy5zZXRCdG5TdGF0ZShzdGF0ZSB8fCAnZW5kUGxheScpDQogICAgfQ0KICAgIGNsZWFyVGltZW91dCh0aGlzLnBsYXlUaW1lb3V0KQ0KICAgIHRyeSB7DQogICAgICBzb3VyY2UgJiYgc291cmNlLnN0b3AoKQ0KICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgIC8vY29uc29sZS5sb2coZSkNCiAgICB9DQogIH0NCg0KICBwbGF5U291cmNlKCkgew0KICAgIGxldCBidWZmZXJMZW5ndGggPSAwDQogICAgbGV0IGRhdGFMZW5ndGggPSB0aGlzLmF1ZGlvRGF0YXMubGVuZ3RoDQogICAgZm9yIChsZXQgaSA9IHRoaXMuYXVkaW9EYXRhc0luZGV4OyBpIDwgZGF0YUxlbmd0aDsgaSsrKSB7DQogICAgICBidWZmZXJMZW5ndGggKz0gdGhpcy5hdWRpb0RhdGFzW2ldLmxlbmd0aA0KICAgIH0NCiAgICBsZXQgYXVkaW9CdWZmZXIgPSBhdWRpb0N0eC5jcmVhdGVCdWZmZXIoMSwgYnVmZmVyTGVuZ3RoLCAyMjA1MCkNCiAgICBsZXQgb2Zmc2V0ID0gMA0KICAgIGxldCBub3dCdWZmZXJpbmcgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSgwKQ0KICAgIGZvciAobGV0IGkgPSB0aGlzLmF1ZGlvRGF0YXNJbmRleDsgaSA8IGRhdGFMZW5ndGg7IGkrKykgew0KICAgICAgbGV0IGF1ZGlvRGF0YSA9IHRoaXMuYXVkaW9EYXRhc1tpXQ0KICAgICAgaWYgKGF1ZGlvQnVmZmVyLmNvcHlUb0NoYW5uZWwpIHsNCiAgICAgICAgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbChhdWRpb0RhdGEsIDAsIG9mZnNldCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXVkaW9EYXRhLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgbm93QnVmZmVyaW5nW29mZnNldCArIGpdID0gYXVkaW9EYXRhW2pdDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIG9mZnNldCArPSBhdWRpb0RhdGEubGVuZ3RoDQogICAgICB0aGlzLmF1ZGlvRGF0YXNJbmRleCsrDQogICAgfQ0KDQogICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCkNCiAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9CdWZmZXINCiAgICBzb3VyY2UuY29ubmVjdChhdWRpb0N0eC5kZXN0aW5hdGlvbikNCiAgICBzb3VyY2Uuc3RhcnQoKQ0KICAgIHNvdXJjZS5vbmVuZGVkID0gZXZlbnQgPT4gew0KICAgICAgaWYgKHRoaXMucGxheVN0YXRlICE9PSAncGxheScpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAodGhpcy5hdWRpb0RhdGFzSW5kZXggPCB0aGlzLmF1ZGlvRGF0YXMubGVuZ3RoKSB7DQogICAgICAgIHRoaXMucGxheVNvdXJjZSgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmF1ZGlvUGF1c2UoJ2VuZFBsYXknKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0KDQpsZXQgZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKHsNCiAgc3BlZWQ6IDUwLA0KICB2b2ljZTogNTAsDQogIHBpdGNoOiA1MCwNCiAgcGxheUJ0bjogYC5hdWRpby1jdHJsLWJ0bmANCn0pDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIERldGFpbFRpdGxlLA0KICAgIEJvb2tJbmZvLA0KICAgIFNjcm9sbCwNCiAgICBTcGVha1BsYXlpbmcsDQogICAgQm90dG9tLA0KICAgIFNwZWFrV2luZG93DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8g6Z+z6aKR5b2T5YmN5pKt5pS+55qE5YiG6ZKf5pWwDQogICAgY3VycmVudE1pbnV0ZSgpIHsNCiAgICAgIGNvbnN0IG0gPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC8gNjApDQogICAgICByZXR1cm4gbSA8IDEwID8gJzAnICsgbSA6IG0NCiAgICB9LA0KICAgIC8vIOmfs+mikeW9k+WJjeaSreaUvueahOenkuaVsA0KICAgIGN1cnJlbnRTZWNvbmQoKSB7DQogICAgICBjb25zdCBzID0gTWF0aC5mbG9vcigNCiAgICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLSBwYXJzZUludCh0aGlzLmN1cnJlbnRNaW51dGUpICogNjANCiAgICAgICkNCiAgICAgIHJldHVybiBzIDwgMTAgPyAnMCcgKyBzIDogcw0KICAgIH0sDQogICAgLy8g6Z+z6aKR55qE5oC75pe26ZW/DQogICAgdG90YWxNaW51dGUoKSB7DQogICAgICBjb25zdCBtID0gTWF0aC5mbG9vcih0aGlzLnRvdGFsUGxheWluZ1RpbWUgLyA2MCkNCiAgICAgIHJldHVybiBtIDwgMTAgPyAnMCcgKyBtIDogbQ0KICAgIH0sDQogICAgLy8g6Z+z6aKR55qE5oC756eS5pWwDQogICAgdG90YWxTZWNvbmQoKSB7DQogICAgICBjb25zdCBzID0gTWF0aC5mbG9vcigNCiAgICAgICAgdGhpcy50b3RhbFBsYXlpbmdUaW1lIC0gcGFyc2VJbnQodGhpcy50b3RhbE1pbnV0ZSkgKiA2MA0KICAgICAgKQ0KICAgICAgcmV0dXJuIHMgPCAxMCA/ICcwJyArIHMgOiBzDQogICAgfSwNCiAgICAvLyDpn7PpopHnmoTliankvZnliIbpkp/mlbANCiAgICBsZWZ0TWludXRlKCkgew0KICAgICAgY29uc3QgbSA9IE1hdGguZmxvb3IoDQogICAgICAgICh0aGlzLnRvdGFsUGxheWluZ1RpbWUgLSB0aGlzLmN1cnJlbnRQbGF5aW5nVGltZSkgLyA2MA0KICAgICAgKQ0KICAgICAgcmV0dXJuIG0gPCAxMCA/ICcwJyArIG0gOiBtDQogICAgfSwNCiAgICAvLyDpn7PpopHnmoTliankvZnnp5LmlbANCiAgICBsZWZ0U2Vjb25kKCkgew0KICAgICAgY29uc3QgcyA9IE1hdGguZmxvb3IoDQogICAgICAgIHRoaXMudG90YWxQbGF5aW5nVGltZSAtDQogICAgICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLQ0KICAgICAgICAgIHBhcnNlSW50KHRoaXMubGVmdE1pbnV0ZSkgKiA2MA0KICAgICAgKQ0KICAgICAgcmV0dXJuIHMgPCAxMCA/ICcwJyArIHMgOiBzDQogICAgfSwNCiAgICAvLyDmkq3mlL7kv6Hmga/lr7nosaENCiAgICBwbGF5SW5mbygpIHsNCiAgICAgIGlmICh0aGlzLmF1ZGlvQ2FuUGxheSkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIGN1cnJlbnRNaW51dGU6IHRoaXMuY3VycmVudE1pbnV0ZSwNCiAgICAgICAgICBjdXJyZW50U2Vjb25kOiB0aGlzLmN1cnJlbnRTZWNvbmQsDQogICAgICAgICAgdG90YWxNaW51dGU6IHRoaXMudG90YWxNaW51dGUsDQogICAgICAgICAgdG90YWxTZWNvbmQ6IHRoaXMudG90YWxTZWNvbmQsDQogICAgICAgICAgbGVmdE1pbnV0ZTogdGhpcy5sZWZ0TWludXRlLA0KICAgICAgICAgIGxlZnRTZWNvbmQ6IHRoaXMubGVmdFNlY29uZA0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g55S15a2Q5Lmm55qE6K+t56eNDQogICAgbGFuZygpIHsNCiAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhID8gdGhpcy5tZXRhZGF0YS5sYW5ndWFnZSA6ICcnDQogICAgfSwNCiAgICAvLyDlvZPmkq3mlL7pnaLmnb/mmL7npLrml7bvvIznpoHnlKjmu5rliqjmnaHvvIjop6PlhrPkuovku7bnqb/pgI/pl67popjvvIkNCiAgICBkaXNhYmxlU2Nyb2xsKCkgew0KICAgICAgaWYgKHRoaXMuJHJlZnMuc3BlYWtXaW5kb3cpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuJHJlZnMuc3BlYWtXaW5kb3cudmlzaWJsZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmmK/lkKblupXpg6jnmoTmkq3mlL7pnaLmnb8NCiAgICBzaG93UGxheSgpIHsNCiAgICAgIHJldHVybiB0aGlzLnBsYXlpbmdJbmRleCA+PSAwDQogICAgfSwNCiAgICAvLyDmu5rliqjmnaHot53lupXpg6jot53nprvvvIzlvZPmmL7npLrmkq3mlL7pnaLmnb/ml7bkuLoxMTblg4/ntKDvvIzkuI3mmL7npLrml7bkuLo1MuWDj+e0oA0KICAgIHNjcm9sbEJvdHRvbSgpIHsNCiAgICAgIHJldHVybiB0aGlzLnNob3dQbGF5ID8gMTE2IDogNTINCiAgICB9LA0KICAgIC8vIOW9k+WJjeeroOiKguS/oeaBrw0KICAgIGNoYXB0ZXIoKSB7DQogICAgICByZXR1cm4gdGhpcy5mbGF0TmF2aWdhdGlvblt0aGlzLnBsYXlpbmdJbmRleF0NCiAgICB9LA0KICAgIC8vIOeUteWtkOS5puaRmOimgeS/oeaBrw0KICAgIGRlc2MoKSB7DQogICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgew0KICAgICAgICByZXR1cm4gdGhpcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgMTAwKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICcnDQogICAgICB9DQogICAgfSwNCiAgICAvLyDkuIDnu7TmlbDnu4TnmoTnm67lvZUNCiAgICBmbGF0TmF2aWdhdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLm5hdmlnYXRpb24pIHsNCiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoDQogICAgICAgICAgW10sDQogICAgICAgICAgQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseSgNCiAgICAgICAgICAgIFtdLA0KICAgICAgICAgICAgdGhpcy5kb0ZsYXROYXZpZ2F0aW9uKHRoaXMubmF2aWdhdGlvbi50b2MpDQogICAgICAgICAgKQ0KICAgICAgICApDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gW10NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOeUteWtkOS5puWIhuexuw0KICAgIGNhdGVnb3J5KCkgew0KICAgICAgcmV0dXJuIHRoaXMuYm9va0l0ZW0gPyBnZXRDYXRlZ29yeU5hbWUodGhpcy5ib29rSXRlbS5jYXRlZ29yeSkgOiAnJw0KICAgIH0sDQogICAgLy8g55S15a2Q5Lmm5Lmm5ZCNDQogICAgdGl0bGUoKSB7DQogICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YSA/IHRoaXMubWV0YWRhdGEudGl0bGUgOiAnJw0KICAgIH0sDQogICAgLy8g55S15a2Q5Lmm5L2c6ICFDQogICAgYXV0aG9yKCkgew0KICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGEgPyB0aGlzLm1ldGFkYXRhLmNyZWF0b3IgOiAnJw0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYm9va0l0ZW06IG51bGwsDQogICAgICBib29rOiBudWxsLA0KICAgICAgcmVuZGl0aW9uOiBudWxsLA0KICAgICAgbWV0YWRhdGE6IG51bGwsDQogICAgICBjb3ZlcjogbnVsbCwNCiAgICAgIG5hdmlnYXRpb246IG51bGwsDQogICAgICBkZXNjcmlwdGlvbjogbnVsbCwNCiAgICAgIGlmU2hvd0NvbnRlbnQ6IHRydWUsDQogICAgICBwbGF5aW5nSW5kZXg6IC0xLA0KICAgICAgcGFyYWdyYXBoOiBudWxsLA0KICAgICAgY3VycmVudFNlY3Rpb25JbmRleDogbnVsbCwNCiAgICAgIGN1cnJlbnRTZWN0aW9uVG90YWw6IG51bGwsDQogICAgICBzZWN0aW9uOiBudWxsLA0KICAgICAgaXNQbGF5aW5nOiBmYWxzZSwNCiAgICAgIGF1ZGlvOiBudWxsLA0KICAgICAgYXVkaW9DYW5QbGF5OiBmYWxzZSwNCiAgICAgIGN1cnJlbnRQbGF5aW5nVGltZTogMCwNCiAgICAgIHRvdGFsUGxheWluZ1RpbWU6IDAsDQogICAgICBwbGF5U3RhdHVzOiAwLCAvLyAwIC0g5pyq5pKt5pS+77yMMSAtIOaSreaUvuS4re+8jDIgLSDmmoLlgZzkuK0NCiAgICAgIHRvYXN0VGV4dDogJycsDQogICAgICBpc09ubGluZTogZmFsc2UNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDlnKjnur/or63pn7PlkIjmiJANCiAgICBjcmVhdGVWb2ljZSh0ZXh0KSB7DQogICAgICBjb25zb2xlLmxvZygn5Zyo57q/6K+t6Z+z5ZCI5oiQJywgdGV4dCkNCiAgICAgIGlmICh0ZXh0ICE9PSBleHBlcmllbmNlLnRleHQpIHsNCiAgICAgICAgZXhwZXJpZW5jZS5zZXRDb25maWcoew0KICAgICAgICAgIHRleHQNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIC8vY29uc29sZS5sb2coZXhwZXJpZW5jZSkNCiAgICAgIGlmIChleHBlcmllbmNlLnBsYXlTdGF0ZSA9PT0gJ3BsYXknKSB7DQogICAgICAgIGV4cGVyaWVuY2UuYXVkaW9QYXVzZSgpDQogICAgICAgIHRoaXMucmVzZXRQbGF5KCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGV4cGVyaWVuY2UuYXVkaW9QbGF5KCkNCiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlDQogICAgICAgIHRoaXMucGxheVN0YXR1cyA9IDENCiAgICAgIH0NCiAgICAgIC8vIGNvbnN0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKQ0KICAgICAgLy8gLy8g5Yib5bu6SFRUUOivt+axgu+8jOWQjOatpeaOpeaUtue7k+aenA0KICAgICAgLy8geG1saHR0cC5vcGVuKCdHRVQnLCBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1ZPSUNFX1VSTH0vdm9pY2U/dGV4dD0ke3RleHR9Jmxhbmc9JHt0aGlzLmxhbmcudG9Mb3dlckNhc2UoKX1gLCBmYWxzZSkNCiAgICAgIC8vIC8vIOWPkemAgeivt+axgg0KICAgICAgLy8geG1saHR0cC5zZW5kKCkNCiAgICAgIC8vIC8vIOiOt+WPluWTjeW6lOWGheWuuQ0KICAgICAgLy8gY29uc3QgeG1sRG9jID0geG1saHR0cC5yZXNwb25zZVRleHQNCiAgICAgIC8vIGlmICh4bWxEb2MpIHsNCiAgICAgIC8vICAgLy8g6Kej5p6Q5ZON5bqU5YaF5a65DQogICAgICAvLyAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHhtbERvYykNCiAgICAgIC8vICAgaWYgKGpzb24ucGF0aCkgew0KICAgICAgLy8gICAgIC8vIHBhdGjkuLror63pn7PlkIjmiJDnlJ/miJDnmoRNUDPmlofku7bkuIvovb3ot6/lvoTvvIzlsIbor6Xot6/lvoTotYvlgLxhdWRpby5zcmMNCiAgICAgIC8vICAgICAvLyBhdWRpb+aOp+S7tuS8muiHquWKqOWKoOi9vemfs+mikeaWh+S7tg0KICAgICAgLy8gICAgIHRoaXMuJHJlZnMuYXVkaW8uc3JjID0ganNvbi5wYXRoDQogICAgICAvLyAgICAgLy8g6Ieq5Yqo5pKt5pS+TVAzDQogICAgICAvLyAgICAgdGhpcy5jb250aW51ZVBsYXkoKQ0KICAgICAgLy8gICB9IGVsc2Ugew0KICAgICAgLy8gICAgIHRoaXMuc2hvd1RvYXN0KCfmkq3mlL7lpLHotKXvvIzmnKrnlJ/miJDpk77mjqUnKQ0KICAgICAgLy8gICB9DQogICAgICAvLyB9IGVsc2Ugew0KICAgICAgLy8gICB0aGlzLnNob3dUb2FzdCgn5pKt5pS+5aSx6LSlJykNCiAgICAgIC8vIH0NCiAgICB9LA0KICAgIC8vIOWIh+aNouaSreaUvueKtuaAge+8jOWmguaenOWkhOS6juaSreaUvueKtuaAgeWImeaaguWBnO+8jOWmguaenOWkhOS6juaaguWBnOeKtuaAge+8jOWImeaSreaUvg0KICAgIC8vIOazqOaEj+eKtuaAgTDlkoznirbmgIEy5piv5LiN6YCa55qEDQogICAgLy8g54q25oCBMCDooajnpLrov5jmnKrmkq3mlL7vvIzmiYDku6XpnIDopoHlhYjov5vooYzor63pn7PlkIjmiJANCiAgICAvLyDnirbmgIEyIOihqOekuuW3sue7j+WQiOaIkO+8jOaJgOS7peebtOaOpei/m+ihjOaSreaUvuWNs+WPrw0KICAgIHRvZ2dsZVBsYXkoKSB7DQogICAgICBpZiAoIXRoaXMuaXNQbGF5aW5nKSB7DQogICAgICAgIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09IDApIHsNCiAgICAgICAgICB0aGlzLnBsYXkoKQ0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheVN0YXR1cyA9PT0gMikgew0KICAgICAgICAgIHRoaXMuY29udGludWVQbGF5KCkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5wYXVzZVBsYXkoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g55Sf5oiQ6K+t6Z+z5ZCI5oiQ55qE5paH5pys5L+h5oGvDQogICAgc3BlYWsoaXRlbSwgaW5kZXgpIHsNCiAgICAgIC8vIOmHjee9ruaSreaUvueKtuaAge+8jOWBnOatouS4gOWIh+aSreaUvg0KICAgICAgdGhpcy5yZXNldFBsYXkoKQ0KICAgICAgdGhpcy5wbGF5aW5nSW5kZXggPSBpbmRleA0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkNCiAgICAgICAgaWYgKHRoaXMuY2hhcHRlcikgew0KICAgICAgICAgIC8vIOiOt+WPluW9k+WJjeeCueWHu+eahOeroOiKguS/oeaBrw0KICAgICAgICAgIHRoaXMuc2VjdGlvbiA9IHRoaXMuYm9vay5zcGluZS5nZXQodGhpcy5jaGFwdGVyLmhyZWYpDQogICAgICAgICAgLy8g5riy5p+T56ug6IqCDQogICAgICAgICAgdGhpcy5yZW5kaXRpb24uZGlzcGxheSh0aGlzLnNlY3Rpb24uaHJlZikudGhlbihzZWN0aW9uID0+IHsNCiAgICAgICAgICAgIC8vIOiOt+WPluW9k+WJjeS9jee9ruWvueixoQ0KICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLnJlbmRpdGlvbi5jdXJyZW50TG9jYXRpb24oKQ0KICAgICAgICAgICAgY29uc3QgY2ZpYmFzZSA9IHNlY3Rpb24uY2ZpQmFzZQ0KICAgICAgICAgICAgY29uc3QgY2Zpc3RhcnQgPSBjdXJyZW50UGFnZS5zdGFydC5jZmkNCiAgICAgICAgICAgICAgLnJlcGxhY2UoLy4qIS8sICcnKQ0KICAgICAgICAgICAgICAucmVwbGFjZSgvXCkvLCAnJykNCiAgICAgICAgICAgIGNvbnN0IGNmaWVuZCA9IGN1cnJlbnRQYWdlLmVuZC5jZmkNCiAgICAgICAgICAgICAgLnJlcGxhY2UoLy4qIS8sICcnKQ0KICAgICAgICAgICAgICAucmVwbGFjZSgvXCkvLCAnJykNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlY3Rpb25JbmRleCA9IGN1cnJlbnRQYWdlLnN0YXJ0LmRpc3BsYXllZC5wYWdlDQogICAgICAgICAgICB0aGlzLmN1cnJlbnRTZWN0aW9uVG90YWwgPSBjdXJyZW50UGFnZS5zdGFydC5kaXNwbGF5ZWQudG90YWwNCiAgICAgICAgICAgIC8vIOWQiOaIkGNmaeS/oeaBrw0KICAgICAgICAgICAgY29uc3QgY2ZpID0gYGVwdWJjZmkoJHtjZmliYXNlfSEsJHtjZmlzdGFydH0sJHtjZmllbmR9KWANCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlLCBjZmksIGNmaWJhc2UsIGNmaXN0YXJ0LCBjZmllbmQpDQogICAgICAgICAgICAvLyDpgJrov4dCb29rLmdldFJhbmdlKGNmaSnmlrnms5Xojrflj5bmjIflrprniYfmrrXnmoRjZmnlr7nlupTnmoTmlofmnKwNCiAgICAgICAgICAgIHRoaXMuYm9vay5nZXRSYW5nZShjZmkpLnRoZW4ocmFuZ2UgPT4gew0KICAgICAgICAgICAgICAvLyDojrflj5bnq6DoioLniYfmrrXnmoTmlofmnKzkv6Hmga8NCiAgICAgICAgICAgICAgbGV0IHRleHQgPSByYW5nZS50b0xvY2FsZVN0cmluZygpDQogICAgICAgICAgICAgIC8vIOWvueaWh+acrOS/oeaBr+i/m+ihjOi/h+a7pO+8jOWOu+mZpOWFtuS4reeahOepuuagvO+8iOazqOaEj+aYrzLkuKrnqbrmoLzvvIwx5Liq56m65qC85piv5ZCI55CG55qE77yJ44CB5o2i6KGM56ym562J54m55q6K5a2X56ymDQogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xzKDIsKS9nLCAnJykNCiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXHIvZywgJycpDQogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xuL2csICcnKQ0KICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cdC9nLCAnJykNCiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXGYvZywgJycpDQogICAgICAgICAgICAgIC8vIOabtOaWsOivremfs+WQiOaIkOeahOaWh+acrOS/oeaBrw0KICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodGV4dCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOmHjee9ruaSreaUvueKtuaAgQ0KICAgIHJlc2V0UGxheSgpIHsNCiAgICAgIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09IDEpIHsNCiAgICAgICAgdGhpcy5wYXVzZVBsYXkoKQ0KICAgICAgfQ0KICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZQ0KICAgICAgdGhpcy5wbGF5U3RhdHVzID0gMA0KICAgIH0sDQogICAgLy8g5LuO5aS05byA5aeL6K+t6Z+z5ZCI5oiQ5bm25pKt5pS+DQogICAgcGxheSgpIHsNCiAgICAgIHRoaXMuY3JlYXRlVm9pY2UodGhpcy5wYXJhZ3JhcGgpDQogICAgfSwNCiAgICAvLyDnu6fnu63mkq3mlL4NCiAgICBjb250aW51ZVBsYXkoKSB7DQogICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBsYXkoKS50aGVuKCgpID0+IHsNCiAgICAgICAgLy8g5pi+56S65pKt5pS+5Yqo55S7DQogICAgICAgIHRoaXMuJHJlZnMuc3BlYWtQbGF5aW5nWzBdLnN0YXJ0QW5pbWF0aW9uKCkNCiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlDQogICAgICAgIHRoaXMucGxheVN0YXR1cyA9IDENCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDmmoLlgZzmkq3mlL4NCiAgICBwYXVzZVBsYXkoKSB7DQogICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBhdXNlKCkNCiAgICAgIC8vIOaaguWBnOaSreaUvuWKqOeUuw0KICAgICAgdGhpcy4kcmVmcy5zcGVha1BsYXlpbmdbMF0uc3RvcEFuaW1hdGlvbigpDQogICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlDQogICAgICB0aGlzLnBsYXlTdGF0dXMgPSAyDQogICAgfSwNCiAgICAvLyDlvZPmkq3mlL7nu5PmnZ/ml7bvvIzliLfmlrDmkq3mlL7kv6Hmga8NCiAgICBvbkF1ZGlvRW5kZWQoKSB7DQogICAgICB0aGlzLnJlc2V0UGxheSgpDQogICAgICB0aGlzLmN1cnJlbnRQbGF5aW5nVGltZSA9IHRoaXMuJHJlZnMuYXVkaW8uY3VycmVudFRpbWUNCiAgICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLmZsb29yKA0KICAgICAgICAodGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLyB0aGlzLnRvdGFsUGxheWluZ1RpbWUpICogMTAwDQogICAgICApDQogICAgICB0aGlzLiRyZWZzLnNwZWFrV2luZG93LnJlZnJlc2hQcm9ncmVzcyhwZXJjZW50KQ0KICAgIH0sDQogICAgLy8g5b2T5pKt5pS+6L+b6KGM5pe277yM5Yi35paw5pKt5pS+5L+h5oGvDQogICAgb25UaW1lVXBkYXRlKCkgew0KICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmN1cnJlbnRUaW1lDQogICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5mbG9vcigNCiAgICAgICAgKHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC8gdGhpcy50b3RhbFBsYXlpbmdUaW1lKSAqIDEwMA0KICAgICAgKQ0KICAgICAgdGhpcy4kcmVmcy5zcGVha1dpbmRvdy5yZWZyZXNoUHJvZ3Jlc3MocGVyY2VudCkNCiAgICB9LA0KICAgIC8vIOiwg+eUqGF1ZGlvLnNyY+aXtu+8jGF1ZGlv5o6n5Lu25Lya6LCD55SoY2FucGxheeS6i+S7tg0KICAgIC8vIOatpOaXtuaIkeS7rOWPr+S7peiOt+WPluaAu+aSreaUvuaXtumVv+WSjOW9k+WJjeaSreaUvuaXtumVvw0KICAgIG9uQ2FuUGxheSgpIHsNCiAgICAgIHRoaXMuYXVkaW9DYW5QbGF5ID0gdHJ1ZQ0KICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmN1cnJlbnRUaW1lDQogICAgICB0aGlzLnRvdGFsUGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmR1cmF0aW9uDQogICAgfSwNCiAgICAvLyDpgJrov4dBUEnmib7liLDlvZPliY3nlLXlrZDkuabnmoTor6bmg4XmlbDmja4NCiAgICBmaW5kQm9va0Zyb21MaXN0KGZpbGVOYW1lKSB7DQogICAgICBmbGF0TGlzdCgpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICBjb25zdCBib29rTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maWx0ZXIoDQogICAgICAgICAgICBpdGVtID0+IGl0ZW0uZmlsZU5hbWUgPT09IGZpbGVOYW1lDQogICAgICAgICAgKQ0KICAgICAgICAgIGlmIChib29rTGlzdCAmJiBib29rTGlzdC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLmJvb2tJdGVtID0gYm9va0xpc3RbMF0NCiAgICAgICAgICAgIHRoaXMuaW5pdCgpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyW5Y+C5pWw5L+h5oGvDQogICAgaW5pdCgpIHsNCiAgICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy4kcm91dGUucXVlcnkuZmlsZU5hbWUNCiAgICAgIGlmICghdGhpcy5ib29rSXRlbSkgew0KICAgICAgICB0aGlzLmJvb2tJdGVtID0gZmluZEJvb2soZmlsZU5hbWUpDQogICAgICB9DQogICAgICBpZiAodGhpcy5ib29rSXRlbSkgew0KICAgICAgICAvLyDlpoLmnpznlLXlrZDkuablt7Lnu4/nvJPlrZjvvIzliJnnm7TmjqXku45JbmRleGVkRELmlbDmja7lupPkuK3ojrflj5YNCiAgICAgICAgZ2V0TG9jYWxGb3JhZ2UoZmlsZU5hbWUsIChlcnIsIGJsb2IpID0+IHsNCiAgICAgICAgICBpZiAoZXJyIHx8ICFibG9iKSB7DQogICAgICAgICAgICAvLyDlpoLmnpzojrflj5bnvJPlrZjlpLHotKXvvIzliJnmi7zmjqVvcGbmlofku7bmnaXojrflj5bnlLXlrZDkuaYNCiAgICAgICAgICAgIHRoaXMuaXNPbmxpbmUgPSB0cnVlDQogICAgICAgICAgICBjb25zdCBvcGYgPSB0aGlzLiRyb3V0ZS5xdWVyeS5vcGYNCiAgICAgICAgICAgIGlmIChvcGYpIHsNCiAgICAgICAgICAgICAgdGhpcy5wYXJzZUJvb2sob3BmKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmlzT25saW5lID0gZmFsc2UNCiAgICAgICAgICAgIC8vIOino+aekOeUteWtkOS5pg0KICAgICAgICAgICAgdGhpcy5wYXJzZUJvb2soYmxvYikNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmZpbmRCb29rRnJvbUxpc3QoZmlsZU5hbWUpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDop6PmnpDnlLXlrZDkuaYNCiAgICBwYXJzZUJvb2soYmxvYikgew0KICAgICAgLy8g6Kej5p6Q55S15a2Q5LmmDQogICAgICB0aGlzLmJvb2sgPSBuZXcgRXB1YihibG9iKQ0KICAgICAgLy8g6I635Y+W55S15a2Q5Lmm55qEbWV0YWRhdGENCiAgICAgIHRoaXMuYm9vay5sb2FkZWQubWV0YWRhdGEudGhlbihtZXRhZGF0YSA9PiB7DQogICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YQ0KICAgICAgfSkNCiAgICAgIC8vIOWmguaenOaYr+WcqOe6v+iOt+WPlueahOeUteWtkOS5pu+8jOWImemAmui/h0Jvb2suY292ZXJVcmwoKeaWueazleiOt+WPluWwgemdoumTvuaOpQ0KICAgICAgaWYgKHRoaXMuaXNPbmxpbmUpIHsNCiAgICAgICAgdGhpcy5ib29rLmNvdmVyVXJsKCkudGhlbih1cmwgPT4gew0KICAgICAgICAgIHRoaXMuY292ZXIgPSB1cmwNCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOWmguaenOaYr+acrOWcsOiOt+WPlueahOeUteWtkOS5pu+8jOmAmui/h0Jvb2subG9hZGVkLmNvdmVy5pa55rOV6I635Y+W5bCB6Z2i6ZO+5o6l77yI5Yqg5b+r5bCB6Z2i6I635Y+W6YCf5bqm77yJDQogICAgICAgIHRoaXMuYm9vay5sb2FkZWQuY292ZXIudGhlbihjb3ZlciA9PiB7DQogICAgICAgICAgdGhpcy5ib29rLmFyY2hpdmUuY3JlYXRlVXJsKGNvdmVyKS50aGVuKHVybCA9PiB7DQogICAgICAgICAgICB0aGlzLmNvdmVyID0gdXJsDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIC8vIOiOt+WPlueUteWtkOS5pueahOebruW9leS/oeaBrw0KICAgICAgdGhpcy5ib29rLmxvYWRlZC5uYXZpZ2F0aW9uLnRoZW4obmF2ID0+IHsNCiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uID0gbmF2DQogICAgICB9KQ0KICAgICAgLy8g5riy5p+T55S15a2Q5LmmDQogICAgICB0aGlzLmRpc3BsYXkoKQ0KICAgIH0sDQogICAgYmFjaygpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkNCiAgICB9LA0KICAgIC8vIOWkhOeQhua7muWKqOadoeeahOS6i+S7tu+8jOWGs+Wumuagh+mimOmYtOW9seaYr+WQpuWxleekug0KICAgIG9uU2Nyb2xsKG9mZnNldFkpIHsNCiAgICAgIGlmIChvZmZzZXRZID4gcmVhbFB4KDQyKSkgew0KICAgICAgICB0aGlzLiRyZWZzLnRpdGxlLnNob3dTaGFkb3coKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5oaWRlU2hhZG93KCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHRvZ2dsZUNvbnRlbnQoKSB7DQogICAgICB0aGlzLmlmU2hvd0NvbnRlbnQgPSAhdGhpcy5pZlNob3dDb250ZW50DQogICAgfSwNCiAgICAvLyDmuLLmn5PnlLXlrZDkuaYNCiAgICBkaXNwbGF5KCkgew0KICAgICAgY29uc3QgaGVpZ2h0ID0NCiAgICAgICAgd2luZG93LmlubmVySGVpZ2h0ICogMC45IC0NCiAgICAgICAgcmVhbFB4KDQwKSAtDQogICAgICAgIHJlYWxQeCg1NCkgLQ0KICAgICAgICByZWFsUHgoNDYpIC0NCiAgICAgICAgcmVhbFB4KDQ4KSAtDQogICAgICAgIHJlYWxQeCg2MCkgLQ0KICAgICAgICByZWFsUHgoNDQpDQogICAgICB0aGlzLnJlbmRpdGlvbiA9IHRoaXMuYm9vay5yZW5kZXJUbygncmVhZCcsIHsNCiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLA0KICAgICAgICBoZWlnaHQ6IGhlaWdodCwNCiAgICAgICAgbWV0aG9kOiAnZGVmYXVsdCcNCiAgICAgIH0pDQogICAgICB0aGlzLnJlbmRpdGlvbi5kaXNwbGF5KCkNCiAgICB9LA0KICAgIGRvRmxhdE5hdmlnYXRpb24oY29udGVudCwgZGVlcCA9IDEpIHsNCiAgICAgIGNvbnN0IGFyciA9IFtdDQogICAgICBjb250ZW50LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIGl0ZW0uZGVlcCA9IGRlZXANCiAgICAgICAgYXJyLnB1c2goaXRlbSkNCiAgICAgICAgaWYgKGl0ZW0uc3ViaXRlbXMgJiYgaXRlbS5zdWJpdGVtcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgYXJyLnB1c2godGhpcy5kb0ZsYXROYXZpZ2F0aW9uKGl0ZW0uc3ViaXRlbXMsIGRlZXAgKyAxKSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiBhcnINCiAgICB9LA0KICAgIHNob3dUb2FzdCh0ZXh0KSB7DQogICAgICB0aGlzLnNpbXBsZVRvYXN0KHRleHQpDQogICAgfSwNCiAgICBvblBsYXlpbmdDYXJkQ2xpY2soKSB7DQogICAgICB0aGlzLiRyZWZzLnNwZWFrV2luZG93LnNob3coKQ0KICAgIH0sDQogICAgdXBkYXRlVGV4dCh0ZXh0KSB7DQogICAgICB0aGlzLnBhcmFncmFwaCA9IHRleHQNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["StoreSpeaking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StoreSpeaking.vue","sourceRoot":"src/views/store","sourcesContent":["<!-- 听书组件 -->\r\n<template>\r\n  <div class=\"book-speaking\">\r\n    <!-- title -->\r\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\r\n    <scroll\r\n      class=\"content-wrapper\"\r\n      :top=\"42\"\r\n      :bottom=\"scrollBottom\"\r\n      :ifNoScroll=\"disableScroll\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <!-- 图书详情 -->\r\n      <book-info\r\n        :cover=\"cover\"\r\n        :title=\"title\"\r\n        :author=\"author\"\r\n        :desc=\"desc\"\r\n      ></book-info>\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{ $t(\"speak.voice\") }}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span\r\n            :class=\"{ 'icon-down2': !ifShowContent, 'icon-up': ifShowContent }\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <!-- 图书章节详情 -->\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{ $t(\"detail.loading\") }}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div\r\n              class=\"book-detail-content-item\"\r\n              v-for=\"(item, index) in flatNavigation\"\r\n              :key=\"index\"\r\n              @click=\"speak(item, index)\"\r\n            >\r\n              <!-- 播放动画 -->\r\n              <speak-playing\r\n                v-if=\"playingIndex === index\"\r\n                :number=\"5\"\r\n                ref=\"speakPlaying\"\r\n              ></speak-playing>\r\n              <div\r\n                class=\"book-detail-content-navigation-text\"\r\n                :class=\"{ 'is-playing': playingIndex === index }\"\r\n                v-if=\"item.label\"\r\n              >\r\n                {{ item.label }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 播放器 -->\r\n      <audio\r\n        @canplay=\"onCanPlay\"\r\n        @timeupdate=\"onTimeUpdate\"\r\n        @ended=\"onAudioEnded\"\r\n        ref=\"audio\"\r\n      ></audio>\r\n    </scroll>\r\n    <!-- 播放面板-->\r\n    <bottom\r\n      :chapter=\"chapter\"\r\n      :currentSectionIndex=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :showPlay=\"showPlay\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @onPlayingCardClick=\"onPlayingCardClick\"\r\n      :bookItem=\"bookItem\"\r\n    ></bottom>\r\n    <!-- 挂载电子书-->\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window\r\n      :title=\"this.chapter ? this.chapter.label : ''\"\r\n      :book=\"book\"\r\n      :section=\"section\"\r\n      :currentSectionIndex.sync=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @updateText=\"updateText\"\r\n      ref=\"speakWindow\"\r\n    ></speak-window>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport DetailTitle from '../../components/detail/DetailTitle'\r\nimport BookInfo from '../../components/detail/BookInfo'\r\nimport Scroll from '../../components/common/Scroll'\r\nimport SpeakPlaying from '../../components/speak/SpeakPlaying'\r\nimport Bottom from '../../components/speak/SpeakBottom'\r\nimport SpeakWindow from '../../components/speak/SpeakMask'\r\nimport { findBook, getCategoryName } from '../../utils/store'\r\nimport { flatList } from '../../api/store'\r\nimport { getLocalForage } from '../../utils/localForage'\r\nimport { realPx } from '../../utils/utils'\r\nimport Epub from 'epubjs'\r\nimport CryptoJS from 'crypto-js'\r\n\r\nglobal.ePub = Epub\r\n\r\nconst APPID = '5b4da68b'\r\nconst API_SECRET = '48487e25de82a2c167eccda30f7a3c70'\r\nconst API_KEY = '7154170219e3e4426025afef812d070e'\r\nlet isChrome = navigator.userAgent.toLowerCase().match(/chrome/)\r\nlet notSupportTip = isChrome\r\n  ? '您的浏览器暂时不支持体验功能，请升级您的浏览器'\r\n  : '您现在使用的浏览器暂时不支持体验功能，<br />推荐使用谷歌浏览器Chrome'\r\n\r\nfunction getWebsocketUrl() {\r\n  return new Promise((resolve, reject) => {\r\n    var apiKey = API_KEY\r\n    var apiSecret = API_SECRET\r\n    var url = 'wss://tts-api.xfyun.cn/v2/tts'\r\n    var host = location.host\r\n    var date = new Date().toGMTString()\r\n    var algorithm = 'hmac-sha256'\r\n    var headers = 'host date request-line'\r\n    var signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET /v2/tts HTTP/1.1`\r\n    var signatureSha = CryptoJS.HmacSHA256(signatureOrigin, apiSecret)\r\n    var signature = CryptoJS.enc.Base64.stringify(signatureSha)\r\n    var authorizationOrigin = `api_key=\"${apiKey}\", algorithm=\"${algorithm}\", headers=\"${headers}\", signature=\"${signature}\"`\r\n    var authorization = btoa(authorizationOrigin)\r\n    url = `${url}?authorization=${authorization}&date=${date}&host=${host}`\r\n    resolve(url)\r\n  })\r\n}\r\n\r\nlet audioCtx\r\nlet source\r\nlet btnState = {\r\n  unTTS: '立即合成',\r\n  ttsing: '正在合成',\r\n  endTTS: '立即播放',\r\n  play: '停止播放',\r\n  pause: '继续播放',\r\n  endPlay: '重新播放',\r\n  errorTTS: '合成失败'\r\n}\r\n\r\nclass Experience {\r\n  constructor({\r\n    speed = 50,\r\n    voice = 50,\r\n    pitch = 50,\r\n    text = '',\r\n    engineType = 'aisound',\r\n    voiceName = 'xiaoyan',\r\n    playBtn = '.js-base-play',\r\n    defaultText = ''\r\n  } = {}) {\r\n    this.speed = speed\r\n    this.voice = voice\r\n    this.pitch = pitch\r\n    this.text = text\r\n    this.defaultText = defaultText\r\n    this.engineType = engineType\r\n    this.voiceName = voiceName\r\n    this.playBtn = playBtn\r\n    this.playState = ''\r\n    this.audioDatas = []\r\n    this.pcmPlayWork = new Worker('./transform.worker.js')\r\n    this.pcmPlayWork.onmessage = e => {\r\n      this.onmessageWork(e)\r\n    }\r\n  }\r\n\r\n  setConfig({ speed, voice, pitch, text, defaultText, engineType, voiceName }) {\r\n    speed && (this.speed = speed)\r\n    voice && (this.voice = voice)\r\n    pitch && (this.pitch = pitch)\r\n    text && (this.text = text)\r\n    defaultText && (this.defaultText = defaultText)\r\n    engineType && (this.engineType = engineType)\r\n    voiceName && (this.voiceName = voiceName)\r\n    this.resetAudio()\r\n  }\r\n\r\n  onmessageWork(e) {\r\n    switch (e.data.command) {\r\n      case 'newAudioData': {\r\n        this.audioDatas.push(e.data.data)\r\n        if (this.playState === 'ttsing' && this.audioDatas.length === 1) {\r\n          this.playTimeout = setTimeout(() => {\r\n            this.audioPlay()\r\n          }, 1000)\r\n        }\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  setBtnState(state) {\r\n    let oldState = this.playState\r\n    this.playState = state\r\n  }\r\n\r\n  getAudio() {\r\n    this.setBtnState('ttsing')\r\n    getWebsocketUrl().then(url => {\r\n      this.connectWebsocket(url)\r\n    })\r\n  }\r\n\r\n  connectWebsocket(url) {\r\n    if ('WebSocket' in window) {\r\n      this.websocket = new WebSocket(url)\r\n    } else if ('MozWebSocket' in window) {\r\n      this.websocket = new MozWebSocket(url)\r\n    } else {\r\n      alert(notSupportTip)\r\n      return\r\n    }\r\n    let self = this\r\n    this.websocket.onopen = e => {\r\n      var params = {\r\n        common: {\r\n          app_id: APPID // APPID\r\n        },\r\n        business: {\r\n          ent: self.engineType,\r\n          aue: 'raw',\r\n          auf: 'audio/L16;rate=16000',\r\n          vcn: self.voiceName,\r\n          speed: self.speed,\r\n          volume: self.voice * 10,\r\n          pitch: self.pitch,\r\n          //'bgs': 1,\r\n          tte: 'UTF8'\r\n        },\r\n        data: {\r\n          status: 2,\r\n          text: Base64.encode(self.text || self.defaultText)\r\n        }\r\n      }\r\n      this.websocket.send(JSON.stringify(params))\r\n    }\r\n    this.websocket.onmessage = e => {\r\n      let jsonData = JSON.parse(e.data)\r\n      // 合成失败\r\n      if (jsonData.code !== 0) {\r\n        alert(`${jsonData.code}:${jsonData.message}`)\r\n        self.resetAudio()\r\n        this.websocket.close()\r\n        return\r\n      }\r\n      self.pcmPlayWork.postMessage({\r\n        command: 'transData',\r\n        data: jsonData.data.audio\r\n      })\r\n\r\n      if (jsonData.code === 0 && jsonData.data.status === 2) {\r\n        this.websocket.close()\r\n      }\r\n    }\r\n    this.websocket.onerror = e => {\r\n      //console.log(e)\r\n      //console.log(e.data)\r\n    }\r\n    this.websocket.onclose = e => {\r\n      //console.log(e)\r\n    }\r\n  }\r\n\r\n  resetAudio() {\r\n    this.audioPause()\r\n    this.setBtnState('unTTS')\r\n    this.audioDatasIndex = 0\r\n    this.audioDatas = []\r\n    this.websocket && this.websocket.close()\r\n    clearTimeout(this.playTimeout)\r\n  }\r\n\r\n  audioPlay() {\r\n    try {\r\n      if (!audioCtx) {\r\n        audioCtx = new (window.AudioContext || window.webkitAudioContext)()\r\n      }\r\n      if (!audioCtx) {\r\n        alert(notSupportTip)\r\n        return\r\n      }\r\n    } catch (e) {\r\n      alert(notSupportTip)\r\n      return\r\n    }\r\n    this.audioDatasIndex = 0\r\n    if (this.audioDatas.length) {\r\n      this.playSource()\r\n      this.setBtnState('play')\r\n    } else {\r\n      this.getAudio()\r\n    }\r\n  }\r\n\r\n  audioPause(state) {\r\n    if (this.playState === 'play') {\r\n      this.setBtnState(state || 'endPlay')\r\n    }\r\n    clearTimeout(this.playTimeout)\r\n    try {\r\n      source && source.stop()\r\n    } catch (e) {\r\n      //console.log(e)\r\n    }\r\n  }\r\n\r\n  playSource() {\r\n    let bufferLength = 0\r\n    let dataLength = this.audioDatas.length\r\n    for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n      bufferLength += this.audioDatas[i].length\r\n    }\r\n    let audioBuffer = audioCtx.createBuffer(1, bufferLength, 22050)\r\n    let offset = 0\r\n    let nowBuffering = audioBuffer.getChannelData(0)\r\n    for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n      let audioData = this.audioDatas[i]\r\n      if (audioBuffer.copyToChannel) {\r\n        audioBuffer.copyToChannel(audioData, 0, offset)\r\n      } else {\r\n        for (let j = 0; j < audioData.length; j++) {\r\n          nowBuffering[offset + j] = audioData[j]\r\n        }\r\n      }\r\n      offset += audioData.length\r\n      this.audioDatasIndex++\r\n    }\r\n\r\n    source = audioCtx.createBufferSource()\r\n    source.buffer = audioBuffer\r\n    source.connect(audioCtx.destination)\r\n    source.start()\r\n    source.onended = event => {\r\n      if (this.playState !== 'play') {\r\n        return\r\n      }\r\n      if (this.audioDatasIndex < this.audioDatas.length) {\r\n        this.playSource()\r\n      } else {\r\n        this.audioPause('endPlay')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nlet experience = new Experience({\r\n  speed: 50,\r\n  voice: 50,\r\n  pitch: 50,\r\n  playBtn: `.audio-ctrl-btn`\r\n})\r\n\r\nexport default {\r\n  components: {\r\n    DetailTitle,\r\n    BookInfo,\r\n    Scroll,\r\n    SpeakPlaying,\r\n    Bottom,\r\n    SpeakWindow\r\n  },\r\n  computed: {\r\n    // 音频当前播放的分钟数\r\n    currentMinute() {\r\n      const m = Math.floor(this.currentPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频当前播放的秒数\r\n    currentSecond() {\r\n      const s = Math.floor(\r\n        this.currentPlayingTime - parseInt(this.currentMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 音频的总时长\r\n    totalMinute() {\r\n      const m = Math.floor(this.totalPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频的总秒数\r\n    totalSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime - parseInt(this.totalMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 音频的剩余分钟数\r\n    leftMinute() {\r\n      const m = Math.floor(\r\n        (this.totalPlayingTime - this.currentPlayingTime) / 60\r\n      )\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频的剩余秒数\r\n    leftSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime -\r\n          this.currentPlayingTime -\r\n          parseInt(this.leftMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 播放信息对象\r\n    playInfo() {\r\n      if (this.audioCanPlay) {\r\n        return {\r\n          currentMinute: this.currentMinute,\r\n          currentSecond: this.currentSecond,\r\n          totalMinute: this.totalMinute,\r\n          totalSecond: this.totalSecond,\r\n          leftMinute: this.leftMinute,\r\n          leftSecond: this.leftSecond\r\n        }\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    // 电子书的语种\r\n    lang() {\r\n      return this.metadata ? this.metadata.language : ''\r\n    },\r\n    // 当播放面板显示时，禁用滚动条（解决事件穿透问题）\r\n    disableScroll() {\r\n      if (this.$refs.speakWindow) {\r\n        return this.$refs.speakWindow.visible\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    // 是否底部的播放面板\r\n    showPlay() {\r\n      return this.playingIndex >= 0\r\n    },\r\n    // 滚动条距底部距离，当显示播放面板时为116像素，不显示时为52像素\r\n    scrollBottom() {\r\n      return this.showPlay ? 116 : 52\r\n    },\r\n    // 当前章节信息\r\n    chapter() {\r\n      return this.flatNavigation[this.playingIndex]\r\n    },\r\n    // 电子书摘要信息\r\n    desc() {\r\n      if (this.description) {\r\n        return this.description.substring(0, 100)\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 一维数组的目录\r\n    flatNavigation() {\r\n      if (this.navigation) {\r\n        return Array.prototype.concat.apply(\r\n          [],\r\n          Array.prototype.concat.apply(\r\n            [],\r\n            this.doFlatNavigation(this.navigation.toc)\r\n          )\r\n        )\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    // 电子书分类\r\n    category() {\r\n      return this.bookItem ? getCategoryName(this.bookItem.category) : ''\r\n    },\r\n    // 电子书书名\r\n    title() {\r\n      return this.metadata ? this.metadata.title : ''\r\n    },\r\n    // 电子书作者\r\n    author() {\r\n      return this.metadata ? this.metadata.creator : ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      bookItem: null,\r\n      book: null,\r\n      rendition: null,\r\n      metadata: null,\r\n      cover: null,\r\n      navigation: null,\r\n      description: null,\r\n      ifShowContent: true,\r\n      playingIndex: -1,\r\n      paragraph: null,\r\n      currentSectionIndex: null,\r\n      currentSectionTotal: null,\r\n      section: null,\r\n      isPlaying: false,\r\n      audio: null,\r\n      audioCanPlay: false,\r\n      currentPlayingTime: 0,\r\n      totalPlayingTime: 0,\r\n      playStatus: 0, // 0 - 未播放，1 - 播放中，2 - 暂停中\r\n      toastText: '',\r\n      isOnline: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 在线语音合成\r\n    createVoice(text) {\r\n      console.log('在线语音合成', text)\r\n      if (text !== experience.text) {\r\n        experience.setConfig({\r\n          text\r\n        })\r\n      }\r\n      //console.log(experience)\r\n      if (experience.playState === 'play') {\r\n        experience.audioPause()\r\n        this.resetPlay()\r\n      } else {\r\n        experience.audioPlay()\r\n        this.isPlaying = true\r\n        this.playStatus = 1\r\n      }\r\n      // const xmlhttp = new XMLHttpRequest()\r\n      // // 创建HTTP请求，同步接收结果\r\n      // xmlhttp.open('GET', `${process.env.VUE_APP_VOICE_URL}/voice?text=${text}&lang=${this.lang.toLowerCase()}`, false)\r\n      // // 发送请求\r\n      // xmlhttp.send()\r\n      // // 获取响应内容\r\n      // const xmlDoc = xmlhttp.responseText\r\n      // if (xmlDoc) {\r\n      //   // 解析响应内容\r\n      //   const json = JSON.parse(xmlDoc)\r\n      //   if (json.path) {\r\n      //     // path为语音合成生成的MP3文件下载路径，将该路径赋值audio.src\r\n      //     // audio控件会自动加载音频文件\r\n      //     this.$refs.audio.src = json.path\r\n      //     // 自动播放MP3\r\n      //     this.continuePlay()\r\n      //   } else {\r\n      //     this.showToast('播放失败，未生成链接')\r\n      //   }\r\n      // } else {\r\n      //   this.showToast('播放失败')\r\n      // }\r\n    },\r\n    // 切换播放状态，如果处于播放状态则暂停，如果处于暂停状态，则播放\r\n    // 注意状态0和状态2是不通的\r\n    // 状态0 表示还未播放，所以需要先进行语音合成\r\n    // 状态2 表示已经合成，所以直接进行播放即可\r\n    togglePlay() {\r\n      if (!this.isPlaying) {\r\n        if (this.playStatus === 0) {\r\n          this.play()\r\n        } else if (this.playStatus === 2) {\r\n          this.continuePlay()\r\n        }\r\n      } else {\r\n        this.pausePlay()\r\n      }\r\n    },\r\n    // 生成语音合成的文本信息\r\n    speak(item, index) {\r\n      // 重置播放状态，停止一切播放\r\n      this.resetPlay()\r\n      this.playingIndex = index\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh()\r\n        if (this.chapter) {\r\n          // 获取当前点击的章节信息\r\n          this.section = this.book.spine.get(this.chapter.href)\r\n          // 渲染章节\r\n          this.rendition.display(this.section.href).then(section => {\r\n            // 获取当前位置对象\r\n            const currentPage = this.rendition.currentLocation()\r\n            const cfibase = section.cfiBase\r\n            const cfistart = currentPage.start.cfi\r\n              .replace(/.*!/, '')\r\n              .replace(/\\)/, '')\r\n            const cfiend = currentPage.end.cfi\r\n              .replace(/.*!/, '')\r\n              .replace(/\\)/, '')\r\n            this.currentSectionIndex = currentPage.start.displayed.page\r\n            this.currentSectionTotal = currentPage.start.displayed.total\r\n            // 合成cfi信息\r\n            const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\r\n            // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\r\n            // 通过Book.getRange(cfi)方法获取指定片段的cfi对应的文本\r\n            this.book.getRange(cfi).then(range => {\r\n              // 获取章节片段的文本信息\r\n              let text = range.toLocaleString()\r\n              // 对文本信息进行过滤，去除其中的空格（注意是2个空格，1个空格是合理的）、换行符等特殊字符\r\n              text = text.replace(/\\s(2,)/g, '')\r\n              text = text.replace(/\\r/g, '')\r\n              text = text.replace(/\\n/g, '')\r\n              text = text.replace(/\\t/g, '')\r\n              text = text.replace(/\\f/g, '')\r\n              // 更新语音合成的文本信息\r\n              this.updateText(text)\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 重置播放状态\r\n    resetPlay() {\r\n      if (this.playStatus === 1) {\r\n        this.pausePlay()\r\n      }\r\n      this.isPlaying = false\r\n      this.playStatus = 0\r\n    },\r\n    // 从头开始语音合成并播放\r\n    play() {\r\n      this.createVoice(this.paragraph)\r\n    },\r\n    // 继续播放\r\n    continuePlay() {\r\n      this.$refs.audio.play().then(() => {\r\n        // 显示播放动画\r\n        this.$refs.speakPlaying[0].startAnimation()\r\n        this.isPlaying = true\r\n        this.playStatus = 1\r\n      })\r\n    },\r\n    // 暂停播放\r\n    pausePlay() {\r\n      this.$refs.audio.pause()\r\n      // 暂停播放动画\r\n      this.$refs.speakPlaying[0].stopAnimation()\r\n      this.isPlaying = false\r\n      this.playStatus = 2\r\n    },\r\n    // 当播放结束时，刷新播放信息\r\n    onAudioEnded() {\r\n      this.resetPlay()\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    // 当播放进行时，刷新播放信息\r\n    onTimeUpdate() {\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    // 调用audio.src时，audio控件会调用canplay事件\r\n    // 此时我们可以获取总播放时长和当前播放时长\r\n    onCanPlay() {\r\n      this.audioCanPlay = true\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      this.totalPlayingTime = this.$refs.audio.duration\r\n    },\r\n    // 通过API找到当前电子书的详情数据\r\n    findBookFromList(fileName) {\r\n      flatList().then(response => {\r\n        if (response.status === 200) {\r\n          const bookList = response.data.data.filter(\r\n            item => item.fileName === fileName\r\n          )\r\n          if (bookList && bookList.length > 0) {\r\n            this.bookItem = bookList[0]\r\n            this.init()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 初始化参数信息\r\n    init() {\r\n      const fileName = this.$route.query.fileName\r\n      if (!this.bookItem) {\r\n        this.bookItem = findBook(fileName)\r\n      }\r\n      if (this.bookItem) {\r\n        // 如果电子书已经缓存，则直接从IndexedDB数据库中获取\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err || !blob) {\r\n            // 如果获取缓存失败，则拼接opf文件来获取电子书\r\n            this.isOnline = true\r\n            const opf = this.$route.query.opf\r\n            if (opf) {\r\n              this.parseBook(opf)\r\n            }\r\n          } else {\r\n            this.isOnline = false\r\n            // 解析电子书\r\n            this.parseBook(blob)\r\n          }\r\n        })\r\n      } else {\r\n        this.findBookFromList(fileName)\r\n      }\r\n    },\r\n    // 解析电子书\r\n    parseBook(blob) {\r\n      // 解析电子书\r\n      this.book = new Epub(blob)\r\n      // 获取电子书的metadata\r\n      this.book.loaded.metadata.then(metadata => {\r\n        this.metadata = metadata\r\n      })\r\n      // 如果是在线获取的电子书，则通过Book.coverUrl()方法获取封面链接\r\n      if (this.isOnline) {\r\n        this.book.coverUrl().then(url => {\r\n          this.cover = url\r\n        })\r\n      } else {\r\n        // 如果是本地获取的电子书，通过Book.loaded.cover方法获取封面链接（加快封面获取速度）\r\n        this.book.loaded.cover.then(cover => {\r\n          this.book.archive.createUrl(cover).then(url => {\r\n            this.cover = url\r\n          })\r\n        })\r\n      }\r\n      // 获取电子书的目录信息\r\n      this.book.loaded.navigation.then(nav => {\r\n        this.navigation = nav\r\n      })\r\n      // 渲染电子书\r\n      this.display()\r\n    },\r\n    back() {\r\n      this.$router.go(-1)\r\n    },\r\n    // 处理滚动条的事件，决定标题阴影是否展示\r\n    onScroll(offsetY) {\r\n      if (offsetY > realPx(42)) {\r\n        this.$refs.title.showShadow()\r\n      } else {\r\n        this.$refs.title.hideShadow()\r\n      }\r\n    },\r\n    toggleContent() {\r\n      this.ifShowContent = !this.ifShowContent\r\n    },\r\n    // 渲染电子书\r\n    display() {\r\n      const height =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44)\r\n      this.rendition = this.book.renderTo('read', {\r\n        width: window.innerWidth,\r\n        height: height,\r\n        method: 'default'\r\n      })\r\n      this.rendition.display()\r\n    },\r\n    doFlatNavigation(content, deep = 1) {\r\n      const arr = []\r\n      content.forEach(item => {\r\n        item.deep = deep\r\n        arr.push(item)\r\n        if (item.subitems && item.subitems.length > 0) {\r\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1))\r\n        }\r\n      })\r\n      return arr\r\n    },\r\n    showToast(text) {\r\n      this.simpleToast(text)\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$refs.speakWindow.show()\r\n    },\r\n    updateText(text) {\r\n      this.paragraph = text\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.book-speaking {\r\n  font-size: px2rem(16);\r\n  width: 100%;\r\n  background: white;\r\n\r\n  .content-wrapper {\r\n    width: 100%;\r\n\r\n    .book-speak-title-wrapper {\r\n      display: flex;\r\n      padding: px2rem(15);\r\n      box-sizing: border-box;\r\n      border-bottom: px2rem(1) solid #eee;\r\n\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n\r\n      .icon-down-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include right;\r\n\r\n        .icon-up {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n\r\n        .icon-down2 {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n\r\n    .book-detail-content-wrapper {\r\n      width: 100%;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      box-sizing: border-box;\r\n\r\n      .book-detail-content-list-wrapper {\r\n        padding: px2rem(10) px2rem(15);\r\n\r\n        .loading-text-wrapper {\r\n          width: 100%;\r\n\r\n          .loading-text {\r\n            font-size: px2rem(14);\r\n            color: #999;\r\n          }\r\n        }\r\n\r\n        .book-detail-content-item-wrapper {\r\n          .book-detail-content-item {\r\n            display: flex;\r\n            padding: px2rem(15) 0;\r\n            font-size: px2rem(14);\r\n            line-height: px2rem(16);\r\n            color: #333;\r\n            border-bottom: px2rem(1) solid #eee;\r\n\r\n            &:last-child {\r\n              border-bottom: none;\r\n            }\r\n\r\n            .book-detail-content-navigation-text {\r\n              flex: 1;\r\n              width: 100%;\r\n              @include ellipsis;\r\n\r\n              &.is-playing {\r\n                color: $color-blue;\r\n                font-weight: bold;\r\n                margin-left: px2rem(10);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .book-wrapper {\r\n    position: absolute;\r\n    bottom: -100%;\r\n    z-index: 100;\r\n  }\r\n}\r\n</style>\r\n"]}]}