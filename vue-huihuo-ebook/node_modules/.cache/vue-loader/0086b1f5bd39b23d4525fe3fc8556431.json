{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreHome.vue","mtime":1588584594878},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWFyY2hCYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9ob21lL1NlYXJjaEJhcicKaW1wb3J0IFNjcm9sbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9TY3JvbGwnCmltcG9ydCBGbGFwQ2FyZCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2hvbWUvRmxhcENhcmQnCmltcG9ydCB7IGhvbWVNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJwppbXBvcnQgeyBob21lIH0gZnJvbSAnLi4vLi4vYXBpL3N0b3JlJwppbXBvcnQgR3Vlc3NZb3VMaWtlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvaG9tZS9HdWVzc1lvdUxpa2UnCmltcG9ydCBSZWNvbW1lbmQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9ob21lL1JlY29tbWVuZCcKaW1wb3J0IEZlYXR1cmVkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvaG9tZS9GZWF0dXJlZCcKaW1wb3J0IENhdGVnb3J5Qm9vayBmcm9tICcuLi8uLi9jb21wb25lbnRzL2hvbWUvQ2F0ZWdvcnlCb29rJwppbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9ob21lL0NhdGVnb3J5JwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2hvbWVNaXhpbl0sCiAgY29tcG9uZW50czogewogICAgU2VhcmNoQmFyLAogICAgU2Nyb2xsLAogICAgRmxhcENhcmQsCiAgICBHdWVzc1lvdUxpa2UsCiAgICBDYXRlZ29yeSwKICAgIENhdGVnb3J5Qm9vaywKICAgIEZlYXR1cmVkLAogICAgUmVjb21tZW5kLAogICAgR3Vlc3NZb3VMaWtlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2Nyb2xsVG9wOiA5NCwKICAgICAgcmFuZG9tOiBudWxsLAogICAgICBiYW5uZXI6IG51bGwsCiAgICAgIGd1ZXNzWW91TGlrZTogbnVsbCwKICAgICAgcmVjb21tZW5kOiBudWxsLAogICAgICBmZWF0dXJlZDogbnVsbCwKICAgICAgY2F0ZWdvcnlMaXN0OiBudWxsLAogICAgICBjYXRlZ29yaWVzOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNjcm9sbChvZmZzZXRZKSB7CiAgICAgIHRoaXMuc2V0T2Zmc2V0WShvZmZzZXRZKQogICAgICBpZiAob2Zmc2V0WSA+IDApIHsKICAgICAgICB0aGlzLnNjcm9sbFRvcCA9IDUyCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSA5NAogICAgICB9CiAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGhvbWUoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRhdGEucmFuZG9tLmxlbmd0aCkKICAgICAgICB0aGlzLnJhbmRvbSA9IGRhdGEucmFuZG9tW3JhbmRvbUluZGV4XQogICAgICAgIHRoaXMuYmFubmVyID0gZGF0YS5iYW5uZXIKICAgICAgICB0aGlzLmd1ZXNzWW91TGlrZSA9IGRhdGEuZ3Vlc3NZb3VMaWtlCiAgICAgICAgdGhpcy5yZWNvbW1lbmQgPSBkYXRhLnJlY29tbWVuZAogICAgICAgIHRoaXMuZmVhdHVyZWQgPSBkYXRhLmZlYXR1cmVkCiAgICAgICAgdGhpcy5jYXRlZ29yeUxpc3QgPSBkYXRhLmNhdGVnb3J5TGlzdAogICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IGRhdGEuY2F0ZWdvcmllcwogICAgICB9CiAgICB9KQogIH0KfQo="},{"version":3,"sources":["StoreHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StoreHome.vue","sourceRoot":"src/views/store","sourcesContent":["<template>\r\n  <div class=\"store-home\">\r\n    <search-bar></search-bar>\r\n    <flap-card :data=\"random\"></flap-card>\r\n    <scroll :top=\"scrollTop\" @onScroll=\"onScroll\" ref=\"scroll\">\r\n      <div class=\"banner-wrapper\">\r\n        <div class=\"banner-img\" :style=\"{backgroundImage:`url('${banner}')`}\"></div>\r\n      </div>\r\n      <guess-you-like :data=\"guessYouLike\"></guess-you-like>\r\n      <recommend :data=\"recommend\" class=\"recommend\"></recommend>\r\n      <featured\r\n        :data=\"featured\"\r\n        :titleText=\"$t('home.featured')\"\r\n        :btnText=\"$t('home.seeAll')\"\r\n        class=\"featured\"\r\n      ></featured>\r\n      <div\r\n        class=\"category-list-wrapper\"\r\n        v-for=\"(item, index) in categoryList\"\r\n        :key=\"index\"\r\n      >\r\n        <category-book :data=\"item\"></category-book>\r\n      </div>\r\n      <category class=\"categories\" :data=\"categories\"></category>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n<script>\r\n  import SearchBar from '../../components/home/SearchBar'\r\n  import Scroll from '../../components/common/Scroll'\r\n  import FlapCard from '../../components/home/FlapCard'\r\n  import { homeMixin } from '../../utils/mixin'\r\n  import { home } from '../../api/store'\r\n  import GuessYouLike from '../../components/home/GuessYouLike'\r\n  import Recommend from '../../components/home/Recommend'\r\n  import Featured from '../../components/home/Featured'\r\n  import CategoryBook from '../../components/home/CategoryBook'\r\n  import Category from '../../components/home/Category'\r\n\r\n  export default {\r\n    mixins: [homeMixin],\r\n    components: {\r\n      SearchBar,\r\n      Scroll,\r\n      FlapCard,\r\n      GuessYouLike,\r\n      Category,\r\n      CategoryBook,\r\n      Featured,\r\n      Recommend,\r\n      GuessYouLike\r\n    },\r\n    data() {\r\n      return {\r\n        scrollTop: 94,\r\n        random: null,\r\n        banner: null,\r\n        guessYouLike: null,\r\n        recommend: null,\r\n        featured: null,\r\n        categoryList: null,\r\n        categories: null\r\n      }\r\n    },\r\n    methods: {\r\n      onScroll(offsetY) {\r\n        this.setOffsetY(offsetY)\r\n        if (offsetY > 0) {\r\n          this.scrollTop = 52\r\n        } else {\r\n          this.scrollTop = 94\r\n        }\r\n        this.$refs.scroll.refresh()\r\n      }\r\n    },\r\n    mounted() {\r\n      home().then(response => {\r\n        if (response && response.status === 200) {\r\n          const data = response.data\r\n          const randomIndex = Math.floor(Math.random() * data.random.length)\r\n          this.random = data.random[randomIndex]\r\n          this.banner = data.banner\r\n          this.guessYouLike = data.guessYouLike\r\n          this.recommend = data.recommend\r\n          this.featured = data.featured\r\n          this.categoryList = data.categoryList\r\n          this.categories = data.categories\r\n        }\r\n      })\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .store-home {\r\n    width: 100%;\r\n    height: 100%;\r\n    .banner-wrapper {\r\n      width: 100%;\r\n      padding: px2rem(10);\r\n      box-sizing: border-box;\r\n      //@include center;\r\n      .banner-img {\r\n        width: 100%;\r\n        height: px2rem(150);\r\n        background-repeat: no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n    .recommend {\r\n      margin-top: px2rem(20);\r\n    }\r\n    .featured {\r\n      margin-top: px2rem(20);\r\n    }\r\n    .category-list-wrapper {\r\n      margin-top: px2rem(20);\r\n    }\r\n    .categories {\r\n      margin-top: px2rem(20);\r\n    }\r\n  }\r\n</style>\r\n"]}]}