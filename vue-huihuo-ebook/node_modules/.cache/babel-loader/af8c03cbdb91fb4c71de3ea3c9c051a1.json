{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreShelf.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreShelf.vue","mtime":1588664314229},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNoZWxmVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZlRpdGxlJzsKaW1wb3J0IFNoZWxmU2VhcmNoIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc2hlbGYvU2hlbGZTZWFyY2gnOwppbXBvcnQgU2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1Njcm9sbCc7CmltcG9ydCBTaGVsZkxpc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZkxpc3QnOwppbXBvcnQgU2hlbGZGb290ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZkZvb3Rlcic7CmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJzsKaW1wb3J0IHsgc2hlbGYgfSBmcm9tICcuLi8uLi9hcGkvc3RvcmUnOwppbXBvcnQgeyBhcHBlbmRBZGRUb1NoZWxmIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbc3RvcmVTaGVsZk1peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2Nyb2xsQm90dG9tOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGlzRWRpdE1vZGU6IGZ1bmN0aW9uIGlzRWRpdE1vZGUoX2lzRWRpdE1vZGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc2Nyb2xsQm90dG9tID0gX2lzRWRpdE1vZGUgPyA0OCA6IDA7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFNoZWxmVGl0bGU6IFNoZWxmVGl0bGUsCiAgICBTaGVsZlNlYXJjaDogU2hlbGZTZWFyY2gsCiAgICBTY3JvbGw6IFNjcm9sbCwKICAgIFNoZWxmTGlzdDogU2hlbGZMaXN0LAogICAgU2hlbGZGb290ZXI6IFNoZWxmRm9vdGVyCiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwob2Zmc2V0WSkgewogICAgICB0aGlzLnNldE9mZnNldFkob2Zmc2V0WSk7CiAgICB9LAogICAgZ2V0U2hlbGZMaXN0OiBmdW5jdGlvbiBnZXRTaGVsZkxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2hlbGYoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuYm9va0xpc3QpIHsKICAgICAgICAgIF90aGlzMi5zZXRTaGVsZkxpc3QoYXBwZW5kQWRkVG9TaGVsZihyZXNwb25zZS5kYXRhLmJvb2tMaXN0KSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFNoZWxmTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["StoreShelf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAiBA,OAAA,UAAA,MAAA,mCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,SAAA,MAAA,kCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AACA,SAAA,eAAA,QAAA,mBAAA;AACA,SAAA,KAAA,QAAA,iBAAA;AACA,SAAA,gBAAA,QAAA,mBAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,UADA,sBACA,WADA,EACA;AAAA;;AACA,WAAA,YAAA,GAAA,WAAA,GAAA,EAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,OAFA;AAGA;AANA,GAPA;AAeA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA,WAFA;AAGA,IAAA,MAAA,EAAA,MAHA;AAIA,IAAA,SAAA,EAAA,SAJA;AAKA,IAAA,WAAA,EAAA;AALA,GAfA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,OADA,EACA;AACA,WAAA,UAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AAAA;;AACA,MAAA,KAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YACA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,QAAA,CAAA,IADA,IAEA,QAAA,CAAA,IAAA,CAAA,QAHA,EAIA;AACA,UAAA,MAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AACA;AACA,OARA;AASA;AAdA,GAtBA;AAsCA,EAAA,OAtCA,qBAsCA;AACA,SAAA,YAAA;AACA;AAxCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"store-shelf\">\r\n    <shelf-title></shelf-title>\r\n    <scroll\r\n      class=\"shelf-scroll-wrapper\"\r\n      :top=\"0\"\r\n      :bottom=\"scrollBottom\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <shelf-search></shelf-search>\r\n      <shelf-list></shelf-list>\r\n    </scroll>\r\n    <shelf-footer></shelf-footer>\r\n  </div>\r\n</template>\r\n<script>\r\n  import ShelfTitle from '../../components/shelf/ShelfTitle'\r\n  import ShelfSearch from '../../components/shelf/ShelfSearch'\r\n  import Scroll from '../../components/common/Scroll'\r\n  import ShelfList from '../../components/shelf/ShelfList'\r\n  import ShelfFooter from '../../components/shelf/ShelfFooter'\r\n  import { storeShelfMixin } from '../../utils/mixin'\r\n  import { shelf } from '../../api/store'\r\n  import { appendAddToShelf } from '../../utils/store'\r\n  export default {\r\n    mixins: [storeShelfMixin],\r\n    data() {\r\n      return {\r\n        scrollBottom: 0\r\n      }\r\n    },\r\n    watch: {\r\n      isEditMode(isEditMode) {\r\n        this.scrollBottom = isEditMode ? 48 : 0\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n        })\r\n      }\r\n    },\r\n    components: {\r\n      ShelfTitle,\r\n      ShelfSearch,\r\n      Scroll,\r\n      ShelfList,\r\n      ShelfFooter\r\n    },\r\n    methods: {\r\n      onScroll(offsetY) {\r\n        this.setOffsetY(offsetY)\r\n      },\r\n      getShelfList() {\r\n        shelf().then(response => {\r\n          if (\r\n            response.status === 200 &&\r\n            response.data &&\r\n            response.data.bookList\r\n          ) {\r\n            this.setShelfList(appendAddToShelf(response.data.bookList))\r\n          }\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getShelfList()\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .store-shelf {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: white;\r\n    z-index: 100;\r\n    position: relative;\r\n    .shelf-scroll-wrapper {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 101;\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/views/store"}]}