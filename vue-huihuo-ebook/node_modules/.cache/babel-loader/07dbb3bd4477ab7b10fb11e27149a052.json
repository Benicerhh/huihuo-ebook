{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\utils\\mixin.js","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\utils\\mixin.js","mtime":1588676681815},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkU6XFxKb2RQcmVwYXJhdGlvblxcUHJhY3RpY2VcXFx1OTg3OVx1NzZFRVxcaHVpaHVvLWVib29rXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkU6XFxKb2RQcmVwYXJhdGlvblxcUHJhY3RpY2VcXFx1OTg3OVx1NzZFRVxcaHVpaHVvLWVib29rXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyB0aGVtZUxpc3QgYXMgX3RoZW1lTGlzdCwgYWRkQ3NzLCByZW1vdmVBbGxDc3MsIGdldFJlYWRUaW1lQnlNaW51dGUgfSBmcm9tICcuL2Jvb2snOwppbXBvcnQgeyBzYXZlTG9jYXRpb24sIGdldExvY2F0aW9uLCBnZXRCb29rbWFyaywgZ2V0Qm9va1NoZWxmIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UnOwpleHBvcnQgdmFyIGVib29rTWl4aW4gPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJmaWxlTmFtZSIsICJtZW51VmlzaWJsZSIsICJkZWZhdWx0Rm9udFNpemUiLCAic2V0dGluZ1Zpc2libGUiLCAiZGVmYXVsdEZvbnRGYW1pbHkiLCAiZm9udEZhbWlseVZpc2libGUiLCAiZGVmYXVsdFRoZW1lIiwgImJvb2tBdmFpbGFibGUiLCAicHJvZ3Jlc3MiLCAic2VjdGlvbiIsICJpc1BhZ2luYXRpbmciLCAiY3VycmVudEJvb2siLCAibmF2aWdhdGlvbiIsICJjb3ZlciIsICJtZXRhZGF0YSIsICJwYWdpbmF0ZSIsICJwYWdlbGlzdCIsICJvZmZzZXRZIiwgImlzQm9va21hcmsiLCAic3BlYWtpbmdJY29uQm90dG9tIl0pLCB7CiAgICB0aGVtZUxpc3Q6IGZ1bmN0aW9uIHRoZW1lTGlzdCgpIHsKICAgICAgcmV0dXJuIF90aGVtZUxpc3QodGhpcyk7CiAgICB9LAogICAgZ2V0U2VjdGlvbk5hbWU6IGZ1bmN0aW9uIGdldFNlY3Rpb25OYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5zZWN0aW9uID8gdGhpcy5uYXZpZ2F0aW9uW3RoaXMuc2VjdGlvbl0ubGFiZWwgOiAnJzsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsic2V0TWVudVZpc2libGUiLCAic2V0ZmlsZU5hbWUiLCAic2V0U2V0dGluZ1Zpc2libGUiLCAic2V0RGVmYXVsdEZvbnRTaXplIiwgInNldEN1cnJlbnRCb29rIiwgInNldEZvbnRGYW1pbHlWaXNpYmxlIiwgInNldERlZmF1bHRGb250RmFtaWx5IiwgInNldERlZmF1bHRUaGVtZSIsICJzZXRCb29rQXZhaWxhYmxlIiwgInNldFByb2dyZXNzIiwgInNldFNlY3Rpb24iLCAic2V0SXNQYWdpbmF0aW5nIiwgInNldEN1cnJlbnRCb29rIiwgInNldE5hdmlnYXRpb24iLCAic2V0Q292ZXIiLCAic2V0TWV0YWRhdGEiLCAic2V0UGFnaW5hdGUiLCAic2V0UGFnZWxpc3QiLCAic2V0SXNCb29rbWFyayIsICJzZXRPZmZzZXRZIiwgInNldFNwZWFraW5nSWNvbkJvdHRvbSJdKSwgewogICAgaW5pdEdsb2JhbFN0eWxlOiBmdW5jdGlvbiBpbml0R2xvYmFsU3R5bGUoKSB7CiAgICAgIHJlbW92ZUFsbENzcygpOwoKICAgICAgc3dpdGNoICh0aGlzLmRlZmF1bHRUaGVtZSkgewogICAgICAgIGNhc2UgIkRlZmF1bHQiOgogICAgICAgICAgYWRkQ3NzKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFU19VUkwsICIvdGhlbWUvdGhlbWVfZGVmYXVsdC5jc3MiKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiRXllIjoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2V5ZS5jc3MiKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiR29sZCI6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9nb2xkLmNzcyIpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJOaWdodCI6CiAgICAgICAgICBhZGRDc3MoIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVTX1VSTCwgIi90aGVtZS90aGVtZV9uaWdodC5jc3MiKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGFkZENzcygiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9SRVNfVVJMLCAiL3RoZW1lL3RoZW1lX2RlZmF1bHQuY3NzIikpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoTG9jYXRpb246IGZ1bmN0aW9uIHJlZnJlc2hMb2NhdGlvbigpIHsKICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IHRoaXMuY3VycmVudEJvb2sucmVuZGl0aW9uLmN1cnJlbnRMb2NhdGlvbigpOwoKICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiAmJiBjdXJyZW50TG9jYXRpb24uc3RhcnQpIHsKICAgICAgICB2YXIgcHJvZ3Jlc3MgPSB0aGlzLmN1cnJlbnRCb29rLmxvY2F0aW9ucy5wZXJjZW50YWdlRnJvbUNmaShjdXJyZW50TG9jYXRpb24uc3RhcnQuY2ZpKTsKICAgICAgICB0aGlzLnNldFByb2dyZXNzKE1hdGguZmxvb3IocHJvZ3Jlc3MgKiAxMDApKTsKICAgICAgICB0aGlzLnNldFNlY3Rpb24oY3VycmVudExvY2F0aW9uLnN0YXJ0LmluZGV4KTsKICAgICAgICB2YXIgc3RhcnRDZmkgPSBjdXJyZW50TG9jYXRpb24uc3RhcnQuY2ZpOwogICAgICAgIHNhdmVMb2NhdGlvbih0aGlzLmZpbGVOYW1lLCBzdGFydENmaSk7CiAgICAgICAgdmFyIGJvb2ttYXJrID0gZ2V0Qm9va21hcmsodGhpcy5maWxlTmFtZSk7CgogICAgICAgIGlmIChib29rbWFyaykgewogICAgICAgICAgaWYgKGJvb2ttYXJrLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uY2ZpID09PSBzdGFydENmaTsKICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgIHRoaXMuc2V0SXNCb29rbWFyayh0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc2V0SXNCb29rbWFyayhmYWxzZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0SXNCb29rbWFyayhmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGlzcGxheTogZnVuY3Rpb24gZGlzcGxheSh0YXJnZXQsIGNiKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGhpcy5jdXJyZW50Qm9vay5yZW5kaXRpb24uZGlzcGxheSh0YXJnZXQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMucmVmcmVzaExvY2F0aW9uKCk7CgogICAgICAgICAgaWYgKGNiKSBjYigpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRCb29rLnJlbmRpdGlvbi5kaXNwbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5yZWZyZXNoTG9jYXRpb24oKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhpZGVUaXRsZUFuZE1lbnU6IGZ1bmN0aW9uIGhpZGVUaXRsZUFuZE1lbnUoKSB7CiAgICAgIHRoaXMuc2V0TWVudVZpc2libGUoZmFsc2UpOwogICAgICB0aGlzLnNldFNldHRpbmdWaXNpYmxlKC0xKTsKICAgICAgdGhpcy5zZXRGb250RmFtaWx5VmlzaWJsZShmYWxzZSk7CiAgICB9LAogICAgZ2V0UmVhZFRpbWVUZXh0OiBmdW5jdGlvbiBnZXRSZWFkVGltZVRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLiR0KCdib29rLmhhdmVSZWFkJykucmVwbGFjZSgnJDEnLCBnZXRSZWFkVGltZUJ5TWludXRlKHRoaXMuZmlsZU5hbWUpKTsKICAgIH0KICB9KQp9OwpleHBvcnQgdmFyIGhvbWVNaXhpbiA9IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ29mZnNldFknLCAnaG90U2VhcmNoT2Zmc2V0WScsICdmbGFwQ2FyZFZpc2libGUnXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzZXRPZmZzZXRZJywgJ3NldEhvdFNlYXJjaE9mZnNldFknLCAnc2V0RmxhcENhcmRWaXNpYmxlJ10pLCB7CiAgICBzaG93Qm9va0RldGFpbDogZnVuY3Rpb24gc2hvd0Jvb2tEZXRhaWwoYm9vaykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9zdG9yZS9kZXRhaWwnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBmaWxlTmFtZTogYm9vay5maWxlTmFtZSwKICAgICAgICAgIGNhdGVnb3J5OiBib29rLmNhdGVnb3J5VGV4dAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSkKfTsKZXhwb3J0IHZhciBzdG9yZVNoZWxmTWl4aW4gPSB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydpc0VkaXRNb2RlJywgJ3NoZWxmTGlzdCcsICdzaGVsZlNlbGVjdGVkJywgJ3NoZWxmVGl0bGVWaXNpYmxlJywgJ29mZnNldFknLCAnc2hlbGZDYXRlZ29yeScsICdjdXJyZW50VHlwZSddKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ3NldElzRWRpdE1vZGUnLCAnc2V0U2hlbGZMaXN0JywgJ3NldFNoZWxmU2VsZWN0ZWQnLCAnc2V0U2hlbGZUaXRsZVZpc2libGUnLCAnc2V0T2Zmc2V0WScsICdzZXRTaGVsZkNhdGVnb3J5JywgJ3NldEN1cnJlbnRUeXBlJ10pLCB7CiAgICBzaG93Qm9va0RldGFpbDogZnVuY3Rpb24gc2hvd0Jvb2tEZXRhaWwoYm9vaykgewogICAgICBnb3RvQm9va0RldGFpbCh0aGlzLCBib29rKTsKICAgIH0sCiAgICBnZXRDYXRlZ29yeUxpc3Q6IGZ1bmN0aW9uIGdldENhdGVnb3J5TGlzdCh0aXRsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZ2V0U2hlbGZMaXN0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNhdGVnb3J5TGlzdCA9IF90aGlzMi5zaGVsZkxpc3QuZmlsdGVyKGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICByZXR1cm4gYm9vay50eXBlID09PSAyICYmIGJvb2sudGl0bGUgPT09IHRpdGxlOwogICAgICAgIH0pWzBdOwoKICAgICAgICBfdGhpczIuc2V0U2hlbGZDYXRlZ29yeShjYXRlZ29yeUxpc3QpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTaGVsZkxpc3Q6IGZ1bmN0aW9uIGdldFNoZWxmTGlzdCgpIHsKICAgICAgdmFyIHNoZWxmTGlzdCA9IGdldEJvb2tTaGVsZigpOwoKICAgICAgaWYgKCFzaGVsZkxpc3QpIHsKICAgICAgICAvKnNoZWxmKCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5ib29rTGlzdCkgew0KICAgICAgICAgICAgc2hlbGZMaXN0ID0gYXBwZW5kQWRkVG9TaGVsZihyZXNwb25zZS5kYXRhLmJvb2tMaXN0KQ0KICAgICAgICAgICAgc2F2ZUJvb2tTaGVsZihzaGVsZkxpc3QpDQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTaGVsZkxpc3Qoc2hlbGZMaXN0KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkqLwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLnNldFNoZWxmTGlzdChzaGVsZkxpc3QpOwogICAgICB9CiAgICB9LAogICAgbW92ZU91dE9mR3JvdXA6IGZ1bmN0aW9uIG1vdmVPdXRPZkdyb3VwKGYpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNldFNoZWxmTGlzdCh0aGlzLnNoZWxmTGlzdC5tYXAoZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICBpZiAoYm9vay50eXBlID09PSAyICYmIGJvb2suaXRlbUxpc3QpIHsKICAgICAgICAgIGJvb2suaXRlbUxpc3QgPSBib29rLml0ZW1MaXN0LmZpbHRlcihmdW5jdGlvbiAoc3ViQm9vaykgewogICAgICAgICAgICByZXR1cm4gIXN1YkJvb2suc2VsZWN0ZWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBib29rOwogICAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWY7CgogICAgICAgIHZhciBsaXN0ID0gY29tcHV0ZUlkKGFwcGVuZEFkZFRvU2hlbGYoKF9yZWYgPSBbXSkuY29uY2F0LmFwcGx5KF9yZWYsIFtyZW1vdmVBZGRGcm9tU2hlbGYoX3RoaXMzLnNoZWxmTGlzdCldLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMzLnNoZWxmU2VsZWN0ZWQpKSkpKTsKCiAgICAgICAgX3RoaXMzLnNldFNoZWxmTGlzdChsaXN0KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5zaW1wbGVUb2FzdChfdGhpczMuJHQoJ3NoZWxmLm1vdmVCb29rT3V0U3VjY2VzcycpKTsKCiAgICAgICAgICBpZiAoZikgZigpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["E:/JodPreparation/Practice/项目/huihuo-ebook/src/utils/mixin.js"],"names":["mapGetters","mapActions","themeList","addCss","removeAllCss","getReadTimeByMinute","saveLocation","getLocation","getBookmark","getBookShelf","ebookMixin","computed","getSectionName","section","navigation","label","methods","initGlobalStyle","defaultTheme","process","env","VUE_APP_RES_URL","refreshLocation","currentLocation","currentBook","rendition","start","progress","locations","percentageFromCfi","cfi","setProgress","Math","floor","setSection","index","startCfi","fileName","bookmark","some","item","setIsBookmark","display","target","cb","then","hideTitleAndMenu","setMenuVisible","setSettingVisible","setFontFamilyVisible","getReadTimeText","$t","replace","homeMixin","showBookDetail","book","$router","push","path","query","category","categoryText","storeShelfMixin","gotoBookDetail","getCategoryList","title","getShelfList","categoryList","shelfList","filter","type","setShelfCategory","setShelfList","moveOutOfGroup","f","map","itemList","subBook","selected","list","computeId","appendAddToShelf","concat","removeAddFromShelf","shelfSelected","simpleToast"],"mappings":"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","sourcesContent":["import {\r\n  mapGetters,\r\n  mapActions\r\n} from \"vuex\";\r\nimport {\r\n  themeList,\r\n  addCss,\r\n  removeAllCss,\r\n  getReadTimeByMinute\r\n} from './book'\r\nimport {\r\n  saveLocation,\r\n  getLocation,\r\n  getBookmark,\r\n  getBookShelf,\r\n} from './localStorage'\r\n\r\nexport const ebookMixin = {\r\n  computed: {\r\n    ...mapGetters([\"fileName\", \"menuVisible\", \"defaultFontSize\", \"settingVisible\",\r\n      \"defaultFontFamily\",\r\n      \"fontFamilyVisible\",\r\n      \"defaultTheme\",\r\n      \"bookAvailable\",\r\n      \"progress\",\r\n      \"section\",\r\n      \"isPaginating\",\r\n      \"currentBook\",\r\n      \"navigation\",\r\n      \"cover\",\r\n      \"metadata\",\r\n      \"paginate\",\r\n      \"pagelist\",\r\n      \"offsetY\",\r\n      \"isBookmark\",\r\n      \"speakingIconBottom\"\r\n    ]),\r\n    themeList() {\r\n      return themeList(this)\r\n    },\r\n    getSectionName() {\r\n      return this.section ? this.navigation[this.section].label : ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"setMenuVisible\", \"setfileName\", \"setSettingVisible\", \"setDefaultFontSize\", \"setCurrentBook\",\r\n      \"setFontFamilyVisible\",\r\n      \"setDefaultFontFamily\",\r\n      \"setDefaultTheme\",\r\n      \"setBookAvailable\",\r\n      \"setProgress\",\r\n      \"setSection\",\r\n      \"setIsPaginating\",\r\n      \"setCurrentBook\",\r\n      \"setNavigation\",\r\n      \"setCover\",\r\n      \"setMetadata\",\r\n      \"setPaginate\",\r\n      \"setPagelist\",\r\n      \"setIsBookmark\",\r\n      \"setOffsetY\",\r\n      \"setSpeakingIconBottom\"\r\n    ]),\r\n    initGlobalStyle() {\r\n      removeAllCss()\r\n      switch (this.defaultTheme) {\r\n        case \"Default\":\r\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\r\n          break;\r\n        case \"Eye\":\r\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_eye.css`);\r\n          break;\r\n        case \"Gold\":\r\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_gold.css`);\r\n          break;\r\n        case \"Night\":\r\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_night.css`);\r\n          break;\r\n        default:\r\n          addCss(`${process.env.VUE_APP_RES_URL}/theme/theme_default.css`);\r\n          break;\r\n      }\r\n    },\r\n    refreshLocation() {\r\n      const currentLocation = this.currentBook.rendition.currentLocation()\r\n      if (currentLocation && currentLocation.start) {\r\n        const progress = this.currentBook.locations.percentageFromCfi(currentLocation.start.cfi)\r\n        this.setProgress(Math.floor(progress * 100))\r\n        this.setSection(currentLocation.start.index)\r\n        const startCfi = currentLocation.start.cfi\r\n        saveLocation(this.fileName, startCfi)\r\n        const bookmark = getBookmark(this.fileName)\r\n        if (bookmark) {\r\n          if (bookmark.some(item => item.cfi === startCfi)) {\r\n            this.setIsBookmark(true)\r\n          } else {\r\n            this.setIsBookmark(false)\r\n          }\r\n        } else {\r\n          this.setIsBookmark(false)\r\n        }\r\n      }\r\n    },\r\n    display(target, cb) {\r\n      if (target) {\r\n        this.currentBook.rendition.display(target).then(() => {\r\n          this.refreshLocation()\r\n          if (cb) cb()\r\n        })\r\n      } else {\r\n        return this.currentBook.rendition.display().then(() => {\r\n          this.refreshLocation()\r\n        })\r\n      }\r\n    },\r\n    hideTitleAndMenu() {\r\n      this.setMenuVisible(false)\r\n      this.setSettingVisible(-1)\r\n      this.setFontFamilyVisible(false)\r\n    },\r\n    getReadTimeText() {\r\n      return this.$t('book.haveRead').replace('$1', getReadTimeByMinute(this.fileName))\r\n    }\r\n  }\r\n}\r\n\r\nexport const homeMixin = {\r\n  computed: {\r\n    ...mapGetters(['offsetY', 'hotSearchOffsetY', 'flapCardVisible'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['setOffsetY', 'setHotSearchOffsetY', 'setFlapCardVisible']),\r\n    showBookDetail(book) {\r\n      this.$router.push({\r\n        path: '/store/detail',\r\n        query: {\r\n          fileName: book.fileName,\r\n          category: book.categoryText\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const storeShelfMixin = {\r\n  computed: {\r\n    ...mapGetters([\r\n      'isEditMode',\r\n      'shelfList',\r\n      'shelfSelected',\r\n      'shelfTitleVisible',\r\n      'offsetY',\r\n      'shelfCategory',\r\n      'currentType'\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'setIsEditMode',\r\n      'setShelfList',\r\n      'setShelfSelected',\r\n      'setShelfTitleVisible',\r\n      'setOffsetY',\r\n      'setShelfCategory',\r\n      'setCurrentType'\r\n    ]),\r\n    showBookDetail(book) {\r\n      gotoBookDetail(this, book)\r\n    },\r\n    getCategoryList(title) {\r\n      this.getShelfList().then(() => {\r\n        const categoryList = this.shelfList.filter(book => book.type === 2 && book.title === title)[0]\r\n        this.setShelfCategory(categoryList)\r\n      })\r\n    },\r\n    getShelfList() {\r\n      let shelfList = getBookShelf()\r\n      if (!shelfList) {\r\n        /*shelf().then(response => {\r\n          if (response.status === 200 && response.data && response.data.bookList) {\r\n            shelfList = appendAddToShelf(response.data.bookList)\r\n            saveBookShelf(shelfList)\r\n            return this.setShelfList(shelfList)\r\n          }\r\n        })*/\r\n      } else {\r\n        return this.setShelfList(shelfList)\r\n      }\r\n    },\r\n    moveOutOfGroup(f) {\r\n      this.setShelfList(this.shelfList.map(book => {\r\n        if (book.type === 2 && book.itemList) {\r\n          book.itemList = book.itemList.filter(subBook => !subBook.selected)\r\n        }\r\n        return book\r\n      })).then(() => {\r\n        const list = computeId(appendAddToShelf([].concat(\r\n          removeAddFromShelf(this.shelfList), ...this.shelfSelected)))\r\n        this.setShelfList(list).then(() => {\r\n          this.simpleToast(this.$t('shelf.moveBookOutSuccess'))\r\n          if (f) f()\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}]}