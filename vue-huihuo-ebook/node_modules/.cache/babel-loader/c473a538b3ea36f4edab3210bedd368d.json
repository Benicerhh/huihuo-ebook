{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue","mtime":1588932804176},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkU6XFxKb2RQcmVwYXJhdGlvblxcUHJhY3RpY2VcXFx1OTg3OVx1NzZFRVxcaHVpaHVvLWVib29rXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRTpcXEpvZFByZXBhcmF0aW9uXFxQcmFjdGljZVxcXHU5ODc5XHU3NkVFXFxodWlodW8tZWJvb2tcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERldGFpbFRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGV0YWlsL0RldGFpbFRpdGxlJzsKaW1wb3J0IEJvb2tJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGV0YWlsL0Jvb2tJbmZvJzsKaW1wb3J0IFNjcm9sbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9TY3JvbGwnOwppbXBvcnQgU3BlYWtQbGF5aW5nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3BlYWsvU3BlYWtQbGF5aW5nJzsKaW1wb3J0IEJvdHRvbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NwZWFrL1NwZWFrQm90dG9tJzsKaW1wb3J0IFNwZWFrV2luZG93IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3BlYWsvU3BlYWtNYXNrJzsKaW1wb3J0IHsgZmluZEJvb2ssIGdldENhdGVnb3J5TmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0b3JlJzsKaW1wb3J0IHsgZmxhdExpc3QgfSBmcm9tICcuLi8uLi9hcGkvc3RvcmUnOwppbXBvcnQgeyBnZXRMb2NhbEZvcmFnZSB9IGZyb20gJy4uLy4uL3V0aWxzL2xvY2FsRm9yYWdlJzsKaW1wb3J0IHsgcmVhbFB4IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnOwppbXBvcnQgRXB1YiBmcm9tICdlcHVianMnOwppbXBvcnQgQ3J5cHRvSlMgZnJvbSAnY3J5cHRvLWpzJzsKZ2xvYmFsLmVQdWIgPSBFcHViOwp2YXIgQVBQSUQgPSAnNWI0ZGE2OGInOwp2YXIgQVBJX1NFQ1JFVCA9ICc0ODQ4N2UyNWRlODJhMmMxNjdlY2NkYTMwZjdhM2M3MCc7CnZhciBBUElfS0VZID0gJzcxNTQxNzAyMTllM2U0NDI2MDI1YWZlZjgxMmQwNzBlJzsKdmFyIGlzQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWUvKTsKdmFyIG5vdFN1cHBvcnRUaXAgPSBpc0Nocm9tZSA/ICfmgqjnmoTmtY/op4jlmajmmoLml7bkuI3mlK/mjIHkvZPpqozlip/og73vvIzor7fljYfnuqfmgqjnmoTmtY/op4jlmagnIDogJ+aCqOeOsOWcqOS9v+eUqOeahOa1j+iniOWZqOaaguaXtuS4jeaUr+aMgeS9k+mqjOWKn+iDve+8jDxiciAvPuaOqOiNkOS9v+eUqOiwt+atjOa1j+iniOWZqENocm9tZSc7CgpmdW5jdGlvbiBnZXRXZWJzb2NrZXRVcmwoKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBhcGlLZXkgPSBBUElfS0VZOwogICAgdmFyIGFwaVNlY3JldCA9IEFQSV9TRUNSRVQ7CiAgICB2YXIgdXJsID0gJ3dzczovL3R0cy1hcGkueGZ5dW4uY24vdjIvdHRzJzsKICAgIHZhciBob3N0ID0gbG9jYXRpb24uaG9zdDsKICAgIHZhciBkYXRlID0gbmV3IERhdGUoKS50b0dNVFN0cmluZygpOwogICAgdmFyIGFsZ29yaXRobSA9ICdobWFjLXNoYTI1Nic7CiAgICB2YXIgaGVhZGVycyA9ICdob3N0IGRhdGUgcmVxdWVzdC1saW5lJzsKICAgIHZhciBzaWduYXR1cmVPcmlnaW4gPSAiaG9zdDogIi5jb25jYXQoaG9zdCwgIlxuZGF0ZTogIikuY29uY2F0KGRhdGUsICJcbkdFVCAvdjIvdHRzIEhUVFAvMS4xIik7CiAgICB2YXIgc2lnbmF0dXJlU2hhID0gQ3J5cHRvSlMuSG1hY1NIQTI1NihzaWduYXR1cmVPcmlnaW4sIGFwaVNlY3JldCk7CiAgICB2YXIgc2lnbmF0dXJlID0gQ3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkoc2lnbmF0dXJlU2hhKTsKICAgIHZhciBhdXRob3JpemF0aW9uT3JpZ2luID0gImFwaV9rZXk9XCIiLmNvbmNhdChhcGlLZXksICJcIiwgYWxnb3JpdGhtPVwiIikuY29uY2F0KGFsZ29yaXRobSwgIlwiLCBoZWFkZXJzPVwiIikuY29uY2F0KGhlYWRlcnMsICJcIiwgc2lnbmF0dXJlPVwiIikuY29uY2F0KHNpZ25hdHVyZSwgIlwiIik7CiAgICB2YXIgYXV0aG9yaXphdGlvbiA9IGJ0b2EoYXV0aG9yaXphdGlvbk9yaWdpbik7CiAgICB1cmwgPSAiIi5jb25jYXQodXJsLCAiP2F1dGhvcml6YXRpb249IikuY29uY2F0KGF1dGhvcml6YXRpb24sICImZGF0ZT0iKS5jb25jYXQoZGF0ZSwgIiZob3N0PSIpLmNvbmNhdChob3N0KTsKICAgIHJlc29sdmUodXJsKTsKICB9KTsKfQoKdmFyIGF1ZGlvQ3R4Owp2YXIgc291cmNlOwp2YXIgYnRuU3RhdGUgPSB7CiAgdW5UVFM6ICfnq4vljbPlkIjmiJAnLAogIHR0c2luZzogJ+ato+WcqOWQiOaIkCcsCiAgZW5kVFRTOiAn56uL5Y2z5pKt5pS+JywKICBwbGF5OiAn5YGc5q2i5pKt5pS+JywKICBwYXVzZTogJ+e7p+e7reaSreaUvicsCiAgZW5kUGxheTogJ+mHjeaWsOaSreaUvicsCiAgZXJyb3JUVFM6ICflkIjmiJDlpLHotKUnCn07Cgp2YXIgRXhwZXJpZW5jZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRXhwZXJpZW5jZSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LAogICAgICAgIF9yZWYkc3BlZWQgPSBfcmVmLnNwZWVkLAogICAgICAgIHNwZWVkID0gX3JlZiRzcGVlZCA9PT0gdm9pZCAwID8gNTAgOiBfcmVmJHNwZWVkLAogICAgICAgIF9yZWYkdm9pY2UgPSBfcmVmLnZvaWNlLAogICAgICAgIHZvaWNlID0gX3JlZiR2b2ljZSA9PT0gdm9pZCAwID8gNTAgOiBfcmVmJHZvaWNlLAogICAgICAgIF9yZWYkcGl0Y2ggPSBfcmVmLnBpdGNoLAogICAgICAgIHBpdGNoID0gX3JlZiRwaXRjaCA9PT0gdm9pZCAwID8gNTAgOiBfcmVmJHBpdGNoLAogICAgICAgIF9yZWYkdGV4dCA9IF9yZWYudGV4dCwKICAgICAgICB0ZXh0ID0gX3JlZiR0ZXh0ID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkdGV4dCwKICAgICAgICBfcmVmJGVuZ2luZVR5cGUgPSBfcmVmLmVuZ2luZVR5cGUsCiAgICAgICAgZW5naW5lVHlwZSA9IF9yZWYkZW5naW5lVHlwZSA9PT0gdm9pZCAwID8gJ2Fpc291bmQnIDogX3JlZiRlbmdpbmVUeXBlLAogICAgICAgIF9yZWYkdm9pY2VOYW1lID0gX3JlZi52b2ljZU5hbWUsCiAgICAgICAgdm9pY2VOYW1lID0gX3JlZiR2b2ljZU5hbWUgPT09IHZvaWQgMCA/ICd4aWFveWFuJyA6IF9yZWYkdm9pY2VOYW1lLAogICAgICAgIF9yZWYkcGxheUJ0biA9IF9yZWYucGxheUJ0biwKICAgICAgICBwbGF5QnRuID0gX3JlZiRwbGF5QnRuID09PSB2b2lkIDAgPyAnLmpzLWJhc2UtcGxheScgOiBfcmVmJHBsYXlCdG4sCiAgICAgICAgX3JlZiRkZWZhdWx0VGV4dCA9IF9yZWYuZGVmYXVsdFRleHQsCiAgICAgICAgZGVmYXVsdFRleHQgPSBfcmVmJGRlZmF1bHRUZXh0ID09PSB2b2lkIDAgPyAnJyA6IF9yZWYkZGVmYXVsdFRleHQ7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4cGVyaWVuY2UpOwoKICAgIHRoaXMuc3BlZWQgPSBzcGVlZDsKICAgIHRoaXMudm9pY2UgPSB2b2ljZTsKICAgIHRoaXMucGl0Y2ggPSBwaXRjaDsKICAgIHRoaXMudGV4dCA9IHRleHQ7CiAgICB0aGlzLmRlZmF1bHRUZXh0ID0gZGVmYXVsdFRleHQ7CiAgICB0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmVUeXBlOwogICAgdGhpcy52b2ljZU5hbWUgPSB2b2ljZU5hbWU7CiAgICB0aGlzLnBsYXlCdG4gPSBwbGF5QnRuOwogICAgdGhpcy5wbGF5U3RhdGUgPSAnJzsKICAgIHRoaXMuYXVkaW9EYXRhcyA9IFtdOwogICAgdGhpcy5wY21QbGF5V29yayA9IG5ldyBXb3JrZXIoJy4vdHJhbnNmb3JtLndvcmtlci5qcycpOwoKICAgIHRoaXMucGNtUGxheVdvcmsub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMub25tZXNzYWdlV29yayhlKTsKICAgIH07CiAgfQoKICBfY3JlYXRlQ2xhc3MoRXhwZXJpZW5jZSwgW3sKICAgIGtleTogInNldENvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uZmlnKF9yZWYyKSB7CiAgICAgIHZhciBzcGVlZCA9IF9yZWYyLnNwZWVkLAogICAgICAgICAgdm9pY2UgPSBfcmVmMi52b2ljZSwKICAgICAgICAgIHBpdGNoID0gX3JlZjIucGl0Y2gsCiAgICAgICAgICB0ZXh0ID0gX3JlZjIudGV4dCwKICAgICAgICAgIGRlZmF1bHRUZXh0ID0gX3JlZjIuZGVmYXVsdFRleHQsCiAgICAgICAgICBlbmdpbmVUeXBlID0gX3JlZjIuZW5naW5lVHlwZSwKICAgICAgICAgIHZvaWNlTmFtZSA9IF9yZWYyLnZvaWNlTmFtZTsKICAgICAgc3BlZWQgJiYgKHRoaXMuc3BlZWQgPSBzcGVlZCk7CiAgICAgIHZvaWNlICYmICh0aGlzLnZvaWNlID0gdm9pY2UpOwogICAgICBwaXRjaCAmJiAodGhpcy5waXRjaCA9IHBpdGNoKTsKICAgICAgdGV4dCAmJiAodGhpcy50ZXh0ID0gdGV4dCk7CiAgICAgIGRlZmF1bHRUZXh0ICYmICh0aGlzLmRlZmF1bHRUZXh0ID0gZGVmYXVsdFRleHQpOwogICAgICBlbmdpbmVUeXBlICYmICh0aGlzLmVuZ2luZVR5cGUgPSBlbmdpbmVUeXBlKTsKICAgICAgdm9pY2VOYW1lICYmICh0aGlzLnZvaWNlTmFtZSA9IHZvaWNlTmFtZSk7CiAgICAgIHRoaXMucmVzZXRBdWRpbygpOwogICAgfQogIH0sIHsKICAgIGtleTogIm9ubWVzc2FnZVdvcmsiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9ubWVzc2FnZVdvcmsoZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHN3aXRjaCAoZS5kYXRhLmNvbW1hbmQpIHsKICAgICAgICBjYXNlICduZXdBdWRpb0RhdGEnOgogICAgICAgICAgewogICAgICAgICAgICB0aGlzLmF1ZGlvRGF0YXMucHVzaChlLmRhdGEuZGF0YSk7CgogICAgICAgICAgICBpZiAodGhpcy5wbGF5U3RhdGUgPT09ICd0dHNpbmcnICYmIHRoaXMuYXVkaW9EYXRhcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICB0aGlzLnBsYXlUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuYXVkaW9QbGF5KCk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0QnRuU3RhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJ0blN0YXRlKHN0YXRlKSB7CiAgICAgIHZhciBvbGRTdGF0ZSA9IHRoaXMucGxheVN0YXRlOwogICAgICB0aGlzLnBsYXlTdGF0ZSA9IHN0YXRlOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEF1ZGlvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBdWRpbygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNldEJ0blN0YXRlKCd0dHNpbmcnKTsKICAgICAgZ2V0V2Vic29ja2V0VXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgX3RoaXMzLmNvbm5lY3RXZWJzb2NrZXQodXJsKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY29ubmVjdFdlYnNvY2tldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdFdlYnNvY2tldCh1cmwpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAoJ1dlYlNvY2tldCcgaW4gd2luZG93KSB7CiAgICAgICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHVybCk7CiAgICAgIH0gZWxzZSBpZiAoJ01veldlYlNvY2tldCcgaW4gd2luZG93KSB7CiAgICAgICAgdGhpcy53ZWJzb2NrZXQgPSBuZXcgTW96V2ViU29ja2V0KHVybCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQobm90U3VwcG9ydFRpcCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgc2VsZiA9IHRoaXM7CgogICAgICB0aGlzLndlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICBjb21tb246IHsKICAgICAgICAgICAgYXBwX2lkOiBBUFBJRCAvLyBBUFBJRAoKICAgICAgICAgIH0sCiAgICAgICAgICBidXNpbmVzczogewogICAgICAgICAgICBlbnQ6IHNlbGYuZW5naW5lVHlwZSwKICAgICAgICAgICAgYXVlOiAncmF3JywKICAgICAgICAgICAgYXVmOiAnYXVkaW8vTDE2O3JhdGU9MTYwMDAnLAogICAgICAgICAgICB2Y246IHNlbGYudm9pY2VOYW1lLAogICAgICAgICAgICBzcGVlZDogc2VsZi5zcGVlZCwKICAgICAgICAgICAgdm9sdW1lOiBzZWxmLnZvaWNlICogMTAsCiAgICAgICAgICAgIHBpdGNoOiBzZWxmLnBpdGNoLAogICAgICAgICAgICAvLydiZ3MnOiAxLAogICAgICAgICAgICB0dGU6ICdVVEY4JwogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgc3RhdHVzOiAyLAogICAgICAgICAgICB0ZXh0OiBCYXNlNjQuZW5jb2RlKHNlbGYudGV4dCB8fCBzZWxmLmRlZmF1bHRUZXh0KQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIF90aGlzNC53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgfTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpOyAvLyDlkIjmiJDlpLHotKUKCiAgICAgICAgaWYgKGpzb25EYXRhLmNvZGUgIT09IDApIHsKICAgICAgICAgIGFsZXJ0KCIiLmNvbmNhdChqc29uRGF0YS5jb2RlLCAiOiIpLmNvbmNhdChqc29uRGF0YS5tZXNzYWdlKSk7CiAgICAgICAgICBzZWxmLnJlc2V0QXVkaW8oKTsKCiAgICAgICAgICBfdGhpczQud2Vic29ja2V0LmNsb3NlKCk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5wY21QbGF5V29yay5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBjb21tYW5kOiAndHJhbnNEYXRhJywKICAgICAgICAgIGRhdGE6IGpzb25EYXRhLmRhdGEuYXVkaW8KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGpzb25EYXRhLmNvZGUgPT09IDAgJiYganNvbkRhdGEuZGF0YS5zdGF0dXMgPT09IDIpIHsKICAgICAgICAgIF90aGlzNC53ZWJzb2NrZXQuY2xvc2UoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsvL2NvbnNvbGUubG9nKGUpCiAgICAgICAgLy9jb25zb2xlLmxvZyhlLmRhdGEpCiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKGUpIHsvL2NvbnNvbGUubG9nKGUpCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRBdWRpbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRBdWRpbygpIHsKICAgICAgdGhpcy5hdWRpb1BhdXNlKCk7CiAgICAgIHRoaXMuc2V0QnRuU3RhdGUoJ3VuVFRTJyk7CiAgICAgIHRoaXMuYXVkaW9EYXRhc0luZGV4ID0gMDsKICAgICAgdGhpcy5hdWRpb0RhdGFzID0gW107CiAgICAgIHRoaXMud2Vic29ja2V0ICYmIHRoaXMud2Vic29ja2V0LmNsb3NlKCk7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBsYXlUaW1lb3V0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdWRpb1BsYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGF1ZGlvUGxheSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIWF1ZGlvQ3R4KSB7CiAgICAgICAgICBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFhdWRpb0N0eCkgewogICAgICAgICAgYWxlcnQobm90U3VwcG9ydFRpcCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQobm90U3VwcG9ydFRpcCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmF1ZGlvRGF0YXNJbmRleCA9IDA7CgogICAgICBpZiAodGhpcy5hdWRpb0RhdGFzLmxlbmd0aCkgewogICAgICAgIHRoaXMucGxheVNvdXJjZSgpOwogICAgICAgIHRoaXMuc2V0QnRuU3RhdGUoJ3BsYXknKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldEF1ZGlvKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdWRpb1BhdXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdWRpb1BhdXNlKHN0YXRlKSB7CiAgICAgIGlmICh0aGlzLnBsYXlTdGF0ZSA9PT0gJ3BsYXknKSB7CiAgICAgICAgdGhpcy5zZXRCdG5TdGF0ZShzdGF0ZSB8fCAnZW5kUGxheScpOwogICAgICB9CgogICAgICBjbGVhclRpbWVvdXQodGhpcy5wbGF5VGltZW91dCk7CgogICAgICB0cnkgewogICAgICAgIHNvdXJjZSAmJiBzb3VyY2Uuc3RvcCgpOwogICAgICB9IGNhdGNoIChlKSB7Ly9jb25zb2xlLmxvZyhlKQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicGxheVNvdXJjZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheVNvdXJjZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgYnVmZmVyTGVuZ3RoID0gMDsKICAgICAgdmFyIGRhdGFMZW5ndGggPSB0aGlzLmF1ZGlvRGF0YXMubGVuZ3RoOwoKICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYXVkaW9EYXRhc0luZGV4OyBpIDwgZGF0YUxlbmd0aDsgaSsrKSB7CiAgICAgICAgYnVmZmVyTGVuZ3RoICs9IHRoaXMuYXVkaW9EYXRhc1tpXS5sZW5ndGg7CiAgICAgIH0KCiAgICAgIHZhciBhdWRpb0J1ZmZlciA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlcigxLCBidWZmZXJMZW5ndGgsIDIyMDUwKTsKICAgICAgdmFyIG9mZnNldCA9IDA7CiAgICAgIHZhciBub3dCdWZmZXJpbmcgPSBhdWRpb0J1ZmZlci5nZXRDaGFubmVsRGF0YSgwKTsKCiAgICAgIGZvciAodmFyIF9pID0gdGhpcy5hdWRpb0RhdGFzSW5kZXg7IF9pIDwgZGF0YUxlbmd0aDsgX2krKykgewogICAgICAgIHZhciBhdWRpb0RhdGEgPSB0aGlzLmF1ZGlvRGF0YXNbX2ldOwoKICAgICAgICBpZiAoYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbCkgewogICAgICAgICAgYXVkaW9CdWZmZXIuY29weVRvQ2hhbm5lbChhdWRpb0RhdGEsIDAsIG9mZnNldCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXVkaW9EYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIG5vd0J1ZmZlcmluZ1tvZmZzZXQgKyBqXSA9IGF1ZGlvRGF0YVtqXTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIG9mZnNldCArPSBhdWRpb0RhdGEubGVuZ3RoOwogICAgICAgIHRoaXMuYXVkaW9EYXRhc0luZGV4Kys7CiAgICAgIH0KCiAgICAgIHNvdXJjZSA9IGF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpOwogICAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9CdWZmZXI7CiAgICAgIHNvdXJjZS5jb25uZWN0KGF1ZGlvQ3R4LmRlc3RpbmF0aW9uKTsKICAgICAgc291cmNlLnN0YXJ0KCk7CgogICAgICBzb3VyY2Uub25lbmRlZCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChfdGhpczUucGxheVN0YXRlICE9PSAncGxheScpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChfdGhpczUuYXVkaW9EYXRhc0luZGV4IDwgX3RoaXM1LmF1ZGlvRGF0YXMubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczUucGxheVNvdXJjZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczUuYXVkaW9QYXVzZSgnZW5kUGxheScpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICB9XSk7CgogIHJldHVybiBFeHBlcmllbmNlOwp9KCk7Cgp2YXIgZXhwZXJpZW5jZSA9IG5ldyBFeHBlcmllbmNlKHsKICBzcGVlZDogNTAsCiAgdm9pY2U6IDUwLAogIHBpdGNoOiA1MCwKICBwbGF5QnRuOiAiLmF1ZGlvLWN0cmwtYnRuIgp9KTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERldGFpbFRpdGxlOiBEZXRhaWxUaXRsZSwKICAgIEJvb2tJbmZvOiBCb29rSW5mbywKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgU3BlYWtQbGF5aW5nOiBTcGVha1BsYXlpbmcsCiAgICBCb3R0b206IEJvdHRvbSwKICAgIFNwZWFrV2luZG93OiBTcGVha1dpbmRvdwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOmfs+mikeW9k+WJjeaSreaUvueahOWIhumSn+aVsAogICAgY3VycmVudE1pbnV0ZTogZnVuY3Rpb24gY3VycmVudE1pbnV0ZSgpIHsKICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC8gNjApOwogICAgICByZXR1cm4gbSA8IDEwID8gJzAnICsgbSA6IG07CiAgICB9LAogICAgLy8g6Z+z6aKR5b2T5YmN5pKt5pS+55qE56eS5pWwCiAgICBjdXJyZW50U2Vjb25kOiBmdW5jdGlvbiBjdXJyZW50U2Vjb25kKCkgewogICAgICB2YXIgcyA9IE1hdGguZmxvb3IodGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLSBwYXJzZUludCh0aGlzLmN1cnJlbnRNaW51dGUpICogNjApOwogICAgICByZXR1cm4gcyA8IDEwID8gJzAnICsgcyA6IHM7CiAgICB9LAogICAgLy8g6Z+z6aKR55qE5oC75pe26ZW/CiAgICB0b3RhbE1pbnV0ZTogZnVuY3Rpb24gdG90YWxNaW51dGUoKSB7CiAgICAgIHZhciBtID0gTWF0aC5mbG9vcih0aGlzLnRvdGFsUGxheWluZ1RpbWUgLyA2MCk7CiAgICAgIHJldHVybiBtIDwgMTAgPyAnMCcgKyBtIDogbTsKICAgIH0sCiAgICAvLyDpn7PpopHnmoTmgLvnp5LmlbAKICAgIHRvdGFsU2Vjb25kOiBmdW5jdGlvbiB0b3RhbFNlY29uZCgpIHsKICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKHRoaXMudG90YWxQbGF5aW5nVGltZSAtIHBhcnNlSW50KHRoaXMudG90YWxNaW51dGUpICogNjApOwogICAgICByZXR1cm4gcyA8IDEwID8gJzAnICsgcyA6IHM7CiAgICB9LAogICAgLy8g6Z+z6aKR55qE5Ymp5L2Z5YiG6ZKf5pWwCiAgICBsZWZ0TWludXRlOiBmdW5jdGlvbiBsZWZ0TWludXRlKCkgewogICAgICB2YXIgbSA9IE1hdGguZmxvb3IoKHRoaXMudG90YWxQbGF5aW5nVGltZSAtIHRoaXMuY3VycmVudFBsYXlpbmdUaW1lKSAvIDYwKTsKICAgICAgcmV0dXJuIG0gPCAxMCA/ICcwJyArIG0gOiBtOwogICAgfSwKICAgIC8vIOmfs+mikeeahOWJqeS9meenkuaVsAogICAgbGVmdFNlY29uZDogZnVuY3Rpb24gbGVmdFNlY29uZCgpIHsKICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKHRoaXMudG90YWxQbGF5aW5nVGltZSAtIHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC0gcGFyc2VJbnQodGhpcy5sZWZ0TWludXRlKSAqIDYwKTsKICAgICAgcmV0dXJuIHMgPCAxMCA/ICcwJyArIHMgOiBzOwogICAgfSwKICAgIC8vIOaSreaUvuS/oeaBr+WvueixoQogICAgcGxheUluZm86IGZ1bmN0aW9uIHBsYXlJbmZvKCkgewogICAgICBpZiAodGhpcy5hdWRpb0NhblBsYXkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY3VycmVudE1pbnV0ZTogdGhpcy5jdXJyZW50TWludXRlLAogICAgICAgICAgY3VycmVudFNlY29uZDogdGhpcy5jdXJyZW50U2Vjb25kLAogICAgICAgICAgdG90YWxNaW51dGU6IHRoaXMudG90YWxNaW51dGUsCiAgICAgICAgICB0b3RhbFNlY29uZDogdGhpcy50b3RhbFNlY29uZCwKICAgICAgICAgIGxlZnRNaW51dGU6IHRoaXMubGVmdE1pbnV0ZSwKICAgICAgICAgIGxlZnRTZWNvbmQ6IHRoaXMubGVmdFNlY29uZAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlLXlrZDkuabnmoTor63np40KICAgIGxhbmc6IGZ1bmN0aW9uIGxhbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhID8gdGhpcy5tZXRhZGF0YS5sYW5ndWFnZSA6ICcnOwogICAgfSwKICAgIC8vIOW9k+aSreaUvumdouadv+aYvuekuuaXtu+8jOemgeeUqOa7muWKqOadoe+8iOino+WGs+S6i+S7tuepv+mAj+mXrumimO+8iQogICAgZGlzYWJsZVNjcm9sbDogZnVuY3Rpb24gZGlzYWJsZVNjcm9sbCgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuc3BlYWtXaW5kb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy5zcGVha1dpbmRvdy52aXNpYmxlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOaYr+WQpuW6lemDqOeahOaSreaUvumdouadvwogICAgc2hvd1BsYXk6IGZ1bmN0aW9uIHNob3dQbGF5KCkgewogICAgICByZXR1cm4gdGhpcy5wbGF5aW5nSW5kZXggPj0gMDsKICAgIH0sCiAgICAvLyDmu5rliqjmnaHot53lupXpg6jot53nprvvvIzlvZPmmL7npLrmkq3mlL7pnaLmnb/ml7bkuLoxMTblg4/ntKDvvIzkuI3mmL7npLrml7bkuLo1MuWDj+e0oAogICAgc2Nyb2xsQm90dG9tOiBmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3dQbGF5ID8gMTE2IDogNTI7CiAgICB9LAogICAgLy8g5b2T5YmN56ug6IqC5L+h5oGvCiAgICBjaGFwdGVyOiBmdW5jdGlvbiBjaGFwdGVyKCkgewogICAgICByZXR1cm4gdGhpcy5mbGF0TmF2aWdhdGlvblt0aGlzLnBsYXlpbmdJbmRleF07CiAgICB9LAogICAgLy8g55S15a2Q5Lmm5pGY6KaB5L+h5oGvCiAgICBkZXNjOiBmdW5jdGlvbiBkZXNjKCkgewogICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgewogICAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCAxMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIC8vIOS4gOe7tOaVsOe7hOeahOebruW9lQogICAgZmxhdE5hdmlnYXRpb246IGZ1bmN0aW9uIGZsYXROYXZpZ2F0aW9uKCkgewogICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uKSB7CiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIHRoaXMuZG9GbGF0TmF2aWdhdGlvbih0aGlzLm5hdmlnYXRpb24udG9jKSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOeUteWtkOS5puWIhuexuwogICAgY2F0ZWdvcnk6IGZ1bmN0aW9uIGNhdGVnb3J5KCkgewogICAgICByZXR1cm4gdGhpcy5ib29rSXRlbSA/IGdldENhdGVnb3J5TmFtZSh0aGlzLmJvb2tJdGVtLmNhdGVnb3J5KSA6ICcnOwogICAgfSwKICAgIC8vIOeUteWtkOS5puS5puWQjQogICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YSA/IHRoaXMubWV0YWRhdGEudGl0bGUgOiAnJzsKICAgIH0sCiAgICAvLyDnlLXlrZDkuabkvZzogIUKICAgIGF1dGhvcjogZnVuY3Rpb24gYXV0aG9yKCkgewogICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YSA/IHRoaXMubWV0YWRhdGEuY3JlYXRvciA6ICcnOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2tJdGVtOiBudWxsLAogICAgICBib29rOiBudWxsLAogICAgICByZW5kaXRpb246IG51bGwsCiAgICAgIG1ldGFkYXRhOiBudWxsLAogICAgICBjb3ZlcjogbnVsbCwKICAgICAgbmF2aWdhdGlvbjogbnVsbCwKICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgIGlmU2hvd0NvbnRlbnQ6IHRydWUsCiAgICAgIHBsYXlpbmdJbmRleDogLTEsCiAgICAgIHBhcmFncmFwaDogbnVsbCwKICAgICAgY3VycmVudFNlY3Rpb25JbmRleDogbnVsbCwKICAgICAgY3VycmVudFNlY3Rpb25Ub3RhbDogbnVsbCwKICAgICAgc2VjdGlvbjogbnVsbCwKICAgICAgaXNQbGF5aW5nOiBmYWxzZSwKICAgICAgYXVkaW86IG51bGwsCiAgICAgIGF1ZGlvQ2FuUGxheTogZmFsc2UsCiAgICAgIGN1cnJlbnRQbGF5aW5nVGltZTogMCwKICAgICAgdG90YWxQbGF5aW5nVGltZTogMCwKICAgICAgcGxheVN0YXR1czogMCwKICAgICAgLy8gMCAtIOacquaSreaUvu+8jDEgLSDmkq3mlL7kuK3vvIwyIC0g5pqC5YGc5LitCiAgICAgIHRvYXN0VGV4dDogJycsCiAgICAgIGlzT25saW5lOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWcqOe6v+ivremfs+WQiOaIkAogICAgY3JlYXRlVm9pY2U6IGZ1bmN0aW9uIGNyZWF0ZVZvaWNlKHRleHQpIHsKICAgICAgY29uc29sZS5sb2coJ+WcqOe6v+ivremfs+WQiOaIkCcsIHRleHQpOwoKICAgICAgaWYgKHRleHQgIT09IGV4cGVyaWVuY2UudGV4dCkgewogICAgICAgIGV4cGVyaWVuY2Uuc2V0Q29uZmlnKHsKICAgICAgICAgIHRleHQ6IHRleHQKICAgICAgICB9KTsKICAgICAgfSAvL2NvbnNvbGUubG9nKGV4cGVyaWVuY2UpCgoKICAgICAgaWYgKGV4cGVyaWVuY2UucGxheVN0YXRlID09PSAncGxheScpIHsKICAgICAgICBleHBlcmllbmNlLmF1ZGlvUGF1c2UoKTsKICAgICAgICB0aGlzLnJlc2V0UGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGV4cGVyaWVuY2UuYXVkaW9QbGF5KCk7CiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlOwogICAgICAgIHRoaXMucGxheVN0YXR1cyA9IDE7CiAgICAgIH0gLy8gY29uc3QgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpCiAgICAgIC8vIC8vIOWIm+W7ukhUVFDor7fmsYLvvIzlkIzmraXmjqXmlLbnu5PmnpwKICAgICAgLy8geG1saHR0cC5vcGVuKCdHRVQnLCBgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1ZPSUNFX1VSTH0vdm9pY2U/dGV4dD0ke3RleHR9Jmxhbmc9JHt0aGlzLmxhbmcudG9Mb3dlckNhc2UoKX1gLCBmYWxzZSkKICAgICAgLy8gLy8g5Y+R6YCB6K+35rGCCiAgICAgIC8vIHhtbGh0dHAuc2VuZCgpCiAgICAgIC8vIC8vIOiOt+WPluWTjeW6lOWGheWuuQogICAgICAvLyBjb25zdCB4bWxEb2MgPSB4bWxodHRwLnJlc3BvbnNlVGV4dAogICAgICAvLyBpZiAoeG1sRG9jKSB7CiAgICAgIC8vICAgLy8g6Kej5p6Q5ZON5bqU5YaF5a65CiAgICAgIC8vICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoeG1sRG9jKQogICAgICAvLyAgIGlmIChqc29uLnBhdGgpIHsKICAgICAgLy8gICAgIC8vIHBhdGjkuLror63pn7PlkIjmiJDnlJ/miJDnmoRNUDPmlofku7bkuIvovb3ot6/lvoTvvIzlsIbor6Xot6/lvoTotYvlgLxhdWRpby5zcmMKICAgICAgLy8gICAgIC8vIGF1ZGlv5o6n5Lu25Lya6Ieq5Yqo5Yqg6L296Z+z6aKR5paH5Lu2CiAgICAgIC8vICAgICB0aGlzLiRyZWZzLmF1ZGlvLnNyYyA9IGpzb24ucGF0aAogICAgICAvLyAgICAgLy8g6Ieq5Yqo5pKt5pS+TVAzCiAgICAgIC8vICAgICB0aGlzLmNvbnRpbnVlUGxheSgpCiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHRoaXMuc2hvd1RvYXN0KCfmkq3mlL7lpLHotKXvvIzmnKrnlJ/miJDpk77mjqUnKQogICAgICAvLyAgIH0KICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0aGlzLnNob3dUb2FzdCgn5pKt5pS+5aSx6LSlJykKICAgICAgLy8gfQoKICAgIH0sCiAgICAvLyDliIfmjaLmkq3mlL7nirbmgIHvvIzlpoLmnpzlpITkuo7mkq3mlL7nirbmgIHliJnmmoLlgZzvvIzlpoLmnpzlpITkuo7mmoLlgZznirbmgIHvvIzliJnmkq3mlL4KICAgIC8vIOazqOaEj+eKtuaAgTDlkoznirbmgIEy5piv5LiN6YCa55qECiAgICAvLyDnirbmgIEwIOihqOekuui/mOacquaSreaUvu+8jOaJgOS7pemcgOimgeWFiOi/m+ihjOivremfs+WQiOaIkAogICAgLy8g54q25oCBMiDooajnpLrlt7Lnu4/lkIjmiJDvvIzmiYDku6Xnm7TmjqXov5vooYzmkq3mlL7ljbPlj68KICAgIHRvZ2dsZVBsYXk6IGZ1bmN0aW9uIHRvZ2dsZVBsYXkoKSB7CiAgICAgIGlmICghdGhpcy5pc1BsYXlpbmcpIHsKICAgICAgICBpZiAodGhpcy5wbGF5U3RhdHVzID09PSAwKSB7CiAgICAgICAgICB0aGlzLnBsYXkoKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheVN0YXR1cyA9PT0gMikgewogICAgICAgICAgdGhpcy5jb250aW51ZVBsYXkoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXVzZVBsYXkoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOeUn+aIkOivremfs+WQiOaIkOeahOaWh+acrOS/oeaBrwogICAgc3BlYWs6IGZ1bmN0aW9uIHNwZWFrKGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8g6YeN572u5pKt5pS+54q25oCB77yM5YGc5q2i5LiA5YiH5pKt5pS+CiAgICAgIHRoaXMucmVzZXRQbGF5KCk7CiAgICAgIHRoaXMucGxheWluZ0luZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuJHJlZnMuc2Nyb2xsLnJlZnJlc2goKTsKCiAgICAgICAgaWYgKF90aGlzNi5jaGFwdGVyKSB7CiAgICAgICAgICAvLyDojrflj5blvZPliY3ngrnlh7vnmoTnq6DoioLkv6Hmga8KICAgICAgICAgIF90aGlzNi5zZWN0aW9uID0gX3RoaXM2LmJvb2suc3BpbmUuZ2V0KF90aGlzNi5jaGFwdGVyLmhyZWYpOyAvLyDmuLLmn5Pnq6DoioIKCiAgICAgICAgICBfdGhpczYucmVuZGl0aW9uLmRpc3BsYXkoX3RoaXM2LnNlY3Rpb24uaHJlZikudGhlbihmdW5jdGlvbiAoc2VjdGlvbikgewogICAgICAgICAgICAvLyDojrflj5blvZPliY3kvY3nva7lr7nosaEKICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gX3RoaXM2LnJlbmRpdGlvbi5jdXJyZW50TG9jYXRpb24oKTsKCiAgICAgICAgICAgIHZhciBjZmliYXNlID0gc2VjdGlvbi5jZmlCYXNlOwogICAgICAgICAgICB2YXIgY2Zpc3RhcnQgPSBjdXJyZW50UGFnZS5zdGFydC5jZmkucmVwbGFjZSgvLiohLywgJycpLnJlcGxhY2UoL1wpLywgJycpOwogICAgICAgICAgICB2YXIgY2ZpZW5kID0gY3VycmVudFBhZ2UuZW5kLmNmaS5yZXBsYWNlKC8uKiEvLCAnJykucmVwbGFjZSgvXCkvLCAnJyk7CiAgICAgICAgICAgIF90aGlzNi5jdXJyZW50U2VjdGlvbkluZGV4ID0gY3VycmVudFBhZ2Uuc3RhcnQuZGlzcGxheWVkLnBhZ2U7CiAgICAgICAgICAgIF90aGlzNi5jdXJyZW50U2VjdGlvblRvdGFsID0gY3VycmVudFBhZ2Uuc3RhcnQuZGlzcGxheWVkLnRvdGFsOyAvLyDlkIjmiJBjZmnkv6Hmga8KCiAgICAgICAgICAgIHZhciBjZmkgPSAiZXB1YmNmaSgiLmNvbmNhdChjZmliYXNlLCAiISwiKS5jb25jYXQoY2Zpc3RhcnQsICIsIikuY29uY2F0KGNmaWVuZCwgIikiKTsgLy8gY29uc29sZS5sb2coY3VycmVudFBhZ2UsIGNmaSwgY2ZpYmFzZSwgY2Zpc3RhcnQsIGNmaWVuZCkKICAgICAgICAgICAgLy8g6YCa6L+HQm9vay5nZXRSYW5nZShjZmkp5pa55rOV6I635Y+W5oyH5a6a54mH5q6155qEY2Zp5a+55bqU55qE5paH5pysCgogICAgICAgICAgICBfdGhpczYuYm9vay5nZXRSYW5nZShjZmkpLnRoZW4oZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgICAgICAgLy8g6I635Y+W56ug6IqC54mH5q6155qE5paH5pys5L+h5oGvCiAgICAgICAgICAgICAgdmFyIHRleHQgPSByYW5nZS50b0xvY2FsZVN0cmluZygpOyAvLyDlr7nmlofmnKzkv6Hmga/ov5vooYzov4fmu6TvvIzljrvpmaTlhbbkuK3nmoTnqbrmoLzvvIjms6jmhI/mmK8y5Liq56m65qC877yMMeS4quepuuagvOaYr+WQiOeQhueahO+8ieOAgeaNouihjOespuetieeJueauiuWtl+espgoKICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9ccygyLCkvZywgJycpOwogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xyL2csICcnKTsKICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cbi9nLCAnJyk7CiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXHQvZywgJycpOwogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xmL2csICcnKTsgLy8g5pu05paw6K+t6Z+z5ZCI5oiQ55qE5paH5pys5L+h5oGvCgogICAgICAgICAgICAgIF90aGlzNi51cGRhdGVUZXh0KHRleHQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6YeN572u5pKt5pS+54q25oCBCiAgICByZXNldFBsYXk6IGZ1bmN0aW9uIHJlc2V0UGxheSgpIHsKICAgICAgaWYgKHRoaXMucGxheVN0YXR1cyA9PT0gMSkgewogICAgICAgIHRoaXMucGF1c2VQbGF5KCk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CiAgICAgIHRoaXMucGxheVN0YXR1cyA9IDA7CiAgICB9LAogICAgLy8g5LuO5aS05byA5aeL6K+t6Z+z5ZCI5oiQ5bm25pKt5pS+CiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KCkgewogICAgICB0aGlzLmNyZWF0ZVZvaWNlKHRoaXMucGFyYWdyYXBoKTsKICAgIH0sCiAgICAvLyDnu6fnu63mkq3mlL4KICAgIGNvbnRpbnVlUGxheTogZnVuY3Rpb24gY29udGludWVQbGF5KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuYXVkaW8ucGxheSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOaYvuekuuaSreaUvuWKqOeUuwogICAgICAgIF90aGlzNy4kcmVmcy5zcGVha1BsYXlpbmdbMF0uc3RhcnRBbmltYXRpb24oKTsKCiAgICAgICAgX3RoaXM3LmlzUGxheWluZyA9IHRydWU7CiAgICAgICAgX3RoaXM3LnBsYXlTdGF0dXMgPSAxOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmmoLlgZzmkq3mlL4KICAgIHBhdXNlUGxheTogZnVuY3Rpb24gcGF1c2VQbGF5KCkgewogICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBhdXNlKCk7IC8vIOaaguWBnOaSreaUvuWKqOeUuwoKICAgICAgdGhpcy4kcmVmcy5zcGVha1BsYXlpbmdbMF0uc3RvcEFuaW1hdGlvbigpOwogICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlOwogICAgICB0aGlzLnBsYXlTdGF0dXMgPSAyOwogICAgfSwKICAgIC8vIOW9k+aSreaUvue7k+adn+aXtu+8jOWIt+aWsOaSreaUvuS/oeaBrwogICAgb25BdWRpb0VuZGVkOiBmdW5jdGlvbiBvbkF1ZGlvRW5kZWQoKSB7CiAgICAgIHRoaXMucmVzZXRQbGF5KCk7CiAgICAgIHRoaXMuY3VycmVudFBsYXlpbmdUaW1lID0gdGhpcy4kcmVmcy5hdWRpby5jdXJyZW50VGltZTsKICAgICAgdmFyIHBlcmNlbnQgPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC8gdGhpcy50b3RhbFBsYXlpbmdUaW1lICogMTAwKTsKICAgICAgdGhpcy4kcmVmcy5zcGVha1dpbmRvdy5yZWZyZXNoUHJvZ3Jlc3MocGVyY2VudCk7CiAgICB9LAogICAgLy8g5b2T5pKt5pS+6L+b6KGM5pe277yM5Yi35paw5pKt5pS+5L+h5oGvCiAgICBvblRpbWVVcGRhdGU6IGZ1bmN0aW9uIG9uVGltZVVwZGF0ZSgpIHsKICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmN1cnJlbnRUaW1lOwogICAgICB2YXIgcGVyY2VudCA9IE1hdGguZmxvb3IodGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLyB0aGlzLnRvdGFsUGxheWluZ1RpbWUgKiAxMDApOwogICAgICB0aGlzLiRyZWZzLnNwZWFrV2luZG93LnJlZnJlc2hQcm9ncmVzcyhwZXJjZW50KTsKICAgIH0sCiAgICAvLyDosIPnlKhhdWRpby5zcmPml7bvvIxhdWRpb+aOp+S7tuS8muiwg+eUqGNhbnBsYXnkuovku7YKICAgIC8vIOatpOaXtuaIkeS7rOWPr+S7peiOt+WPluaAu+aSreaUvuaXtumVv+WSjOW9k+WJjeaSreaUvuaXtumVvwogICAgb25DYW5QbGF5OiBmdW5jdGlvbiBvbkNhblBsYXkoKSB7CiAgICAgIHRoaXMuYXVkaW9DYW5QbGF5ID0gdHJ1ZTsKICAgICAgdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmN1cnJlbnRUaW1lOwogICAgICB0aGlzLnRvdGFsUGxheWluZ1RpbWUgPSB0aGlzLiRyZWZzLmF1ZGlvLmR1cmF0aW9uOwogICAgfSwKICAgIC8vIOmAmui/h0FQSeaJvuWIsOW9k+WJjeeUteWtkOS5pueahOivpuaDheaVsOaNrgogICAgZmluZEJvb2tGcm9tTGlzdDogZnVuY3Rpb24gZmluZEJvb2tGcm9tTGlzdChmaWxlTmFtZSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGZsYXRMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIHZhciBib29rTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZmlsZU5hbWUgPT09IGZpbGVOYW1lOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGJvb2tMaXN0ICYmIGJvb2tMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3RoaXM4LmJvb2tJdGVtID0gYm9va0xpc3RbMF07CgogICAgICAgICAgICBfdGhpczguaW5pdCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5Y+C5pWw5L+h5oGvCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHZhciBmaWxlTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbGVOYW1lOwoKICAgICAgaWYgKCF0aGlzLmJvb2tJdGVtKSB7CiAgICAgICAgdGhpcy5ib29rSXRlbSA9IGZpbmRCb29rKGZpbGVOYW1lKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYm9va0l0ZW0pIHsKICAgICAgICAvLyDlpoLmnpznlLXlrZDkuablt7Lnu4/nvJPlrZjvvIzliJnnm7TmjqXku45JbmRleGVkRELmlbDmja7lupPkuK3ojrflj5YKICAgICAgICBnZXRMb2NhbEZvcmFnZShmaWxlTmFtZSwgZnVuY3Rpb24gKGVyciwgYmxvYikgewogICAgICAgICAgaWYgKGVyciB8fCAhYmxvYikgewogICAgICAgICAgICAvLyDlpoLmnpzojrflj5bnvJPlrZjlpLHotKXvvIzliJnmi7zmjqVvcGbmlofku7bmnaXojrflj5bnlLXlrZDkuaYKICAgICAgICAgICAgX3RoaXM5LmlzT25saW5lID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIG9wZiA9IF90aGlzOS4kcm91dGUucXVlcnkub3BmOwoKICAgICAgICAgICAgaWYgKG9wZikgewogICAgICAgICAgICAgIF90aGlzOS5wYXJzZUJvb2sob3BmKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM5LmlzT25saW5lID0gZmFsc2U7IC8vIOino+aekOeUteWtkOS5pgoKICAgICAgICAgICAgX3RoaXM5LnBhcnNlQm9vayhibG9iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbmRCb29rRnJvbUxpc3QoZmlsZU5hbWUpOwogICAgICB9CiAgICB9LAogICAgLy8g6Kej5p6Q55S15a2Q5LmmCiAgICBwYXJzZUJvb2s6IGZ1bmN0aW9uIHBhcnNlQm9vayhibG9iKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIC8vIOino+aekOeUteWtkOS5pgogICAgICB0aGlzLmJvb2sgPSBuZXcgRXB1YihibG9iKTsgLy8g6I635Y+W55S15a2Q5Lmm55qEbWV0YWRhdGEKCiAgICAgIHRoaXMuYm9vay5sb2FkZWQubWV0YWRhdGEudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsKICAgICAgICBfdGhpczEwLm1ldGFkYXRhID0gbWV0YWRhdGE7CiAgICAgIH0pOyAvLyDlpoLmnpzmmK/lnKjnur/ojrflj5bnmoTnlLXlrZDkuabvvIzliJnpgJrov4dCb29rLmNvdmVyVXJsKCnmlrnms5Xojrflj5blsIHpnaLpk77mjqUKCiAgICAgIGlmICh0aGlzLmlzT25saW5lKSB7CiAgICAgICAgdGhpcy5ib29rLmNvdmVyVXJsKCkudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBfdGhpczEwLmNvdmVyID0gdXJsOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOaYr+acrOWcsOiOt+WPlueahOeUteWtkOS5pu+8jOmAmui/h0Jvb2subG9hZGVkLmNvdmVy5pa55rOV6I635Y+W5bCB6Z2i6ZO+5o6l77yI5Yqg5b+r5bCB6Z2i6I635Y+W6YCf5bqm77yJCiAgICAgICAgdGhpcy5ib29rLmxvYWRlZC5jb3Zlci50aGVuKGZ1bmN0aW9uIChjb3ZlcikgewogICAgICAgICAgX3RoaXMxMC5ib29rLmFyY2hpdmUuY3JlYXRlVXJsKGNvdmVyKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgX3RoaXMxMC5jb3ZlciA9IHVybDsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9IC8vIOiOt+WPlueUteWtkOS5pueahOebruW9leS/oeaBrwoKCiAgICAgIHRoaXMuYm9vay5sb2FkZWQubmF2aWdhdGlvbi50aGVuKGZ1bmN0aW9uIChuYXYpIHsKICAgICAgICBfdGhpczEwLm5hdmlnYXRpb24gPSBuYXY7CiAgICAgIH0pOyAvLyDmuLLmn5PnlLXlrZDkuaYKCiAgICAgIHRoaXMuZGlzcGxheSgpOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgLy8g5aSE55CG5rua5Yqo5p2h55qE5LqL5Lu277yM5Yaz5a6a5qCH6aKY6Zi05b2x5piv5ZCm5bGV56S6CiAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwob2Zmc2V0WSkgewogICAgICBpZiAob2Zmc2V0WSA+IHJlYWxQeCg0MikpIHsKICAgICAgICB0aGlzLiRyZWZzLnRpdGxlLnNob3dTaGFkb3coKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnRpdGxlLmhpZGVTaGFkb3coKTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZUNvbnRlbnQ6IGZ1bmN0aW9uIHRvZ2dsZUNvbnRlbnQoKSB7CiAgICAgIHRoaXMuaWZTaG93Q29udGVudCA9ICF0aGlzLmlmU2hvd0NvbnRlbnQ7CiAgICB9LAogICAgLy8g5riy5p+T55S15a2Q5LmmCiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KCkgewogICAgICB2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogMC45IC0gcmVhbFB4KDQwKSAtIHJlYWxQeCg1NCkgLSByZWFsUHgoNDYpIC0gcmVhbFB4KDQ4KSAtIHJlYWxQeCg2MCkgLSByZWFsUHgoNDQpOwogICAgICB0aGlzLnJlbmRpdGlvbiA9IHRoaXMuYm9vay5yZW5kZXJUbygncmVhZCcsIHsKICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsCiAgICAgICAgbWV0aG9kOiAnZGVmYXVsdCcKICAgICAgfSk7CiAgICAgIHRoaXMucmVuZGl0aW9uLmRpc3BsYXkoKTsKICAgIH0sCiAgICBkb0ZsYXROYXZpZ2F0aW9uOiBmdW5jdGlvbiBkb0ZsYXROYXZpZ2F0aW9uKGNvbnRlbnQpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdmFyIGRlZXAgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbS5kZWVwID0gZGVlcDsKICAgICAgICBhcnIucHVzaChpdGVtKTsKCiAgICAgICAgaWYgKGl0ZW0uc3ViaXRlbXMgJiYgaXRlbS5zdWJpdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBhcnIucHVzaChfdGhpczExLmRvRmxhdE5hdmlnYXRpb24oaXRlbS5zdWJpdGVtcywgZGVlcCArIDEpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIHNob3dUb2FzdDogZnVuY3Rpb24gc2hvd1RvYXN0KHRleHQpIHsKICAgICAgdGhpcy5zaW1wbGVUb2FzdCh0ZXh0KTsKICAgIH0sCiAgICBvblBsYXlpbmdDYXJkQ2xpY2s6IGZ1bmN0aW9uIG9uUGxheWluZ0NhcmRDbGljaygpIHsKICAgICAgdGhpcy4kcmVmcy5zcGVha1dpbmRvdy5zaG93KCk7CiAgICB9LAogICAgdXBkYXRlVGV4dDogZnVuY3Rpb24gdXBkYXRlVGV4dCh0ZXh0KSB7CiAgICAgIHRoaXMucGFyYWdyYXBoID0gdGV4dDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["StoreSpeaking.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 听书组件 -->\r\n<template>\r\n  <div class=\"book-speaking\">\r\n    <!-- title -->\r\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\r\n    <scroll\r\n      class=\"content-wrapper\"\r\n      :top=\"42\"\r\n      :bottom=\"scrollBottom\"\r\n      :ifNoScroll=\"disableScroll\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <!-- 图书详情 -->\r\n      <book-info\r\n        :cover=\"cover\"\r\n        :title=\"title\"\r\n        :author=\"author\"\r\n        :desc=\"desc\"\r\n      ></book-info>\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{ $t(\"speak.voice\") }}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span\r\n            :class=\"{ 'icon-down2': !ifShowContent, 'icon-up': ifShowContent }\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <!-- 图书章节详情 -->\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{ $t(\"detail.loading\") }}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div\r\n              class=\"book-detail-content-item\"\r\n              v-for=\"(item, index) in flatNavigation\"\r\n              :key=\"index\"\r\n              @click=\"speak(item, index)\"\r\n            >\r\n              <!-- 播放动画 -->\r\n              <speak-playing\r\n                v-if=\"playingIndex === index\"\r\n                :number=\"5\"\r\n                ref=\"speakPlaying\"\r\n              ></speak-playing>\r\n              <div\r\n                class=\"book-detail-content-navigation-text\"\r\n                :class=\"{ 'is-playing': playingIndex === index }\"\r\n                v-if=\"item.label\"\r\n              >\r\n                {{ item.label }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 播放器 -->\r\n      <audio\r\n        @canplay=\"onCanPlay\"\r\n        @timeupdate=\"onTimeUpdate\"\r\n        @ended=\"onAudioEnded\"\r\n        ref=\"audio\"\r\n      ></audio>\r\n    </scroll>\r\n    <!-- 播放面板-->\r\n    <bottom\r\n      :chapter=\"chapter\"\r\n      :currentSectionIndex=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :showPlay=\"showPlay\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @onPlayingCardClick=\"onPlayingCardClick\"\r\n      :bookItem=\"bookItem\"\r\n    ></bottom>\r\n    <!-- 挂载电子书-->\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window\r\n      :title=\"this.chapter ? this.chapter.label : ''\"\r\n      :book=\"book\"\r\n      :section=\"section\"\r\n      :currentSectionIndex.sync=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @updateText=\"updateText\"\r\n      ref=\"speakWindow\"\r\n    ></speak-window>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport DetailTitle from '../../components/detail/DetailTitle'\r\nimport BookInfo from '../../components/detail/BookInfo'\r\nimport Scroll from '../../components/common/Scroll'\r\nimport SpeakPlaying from '../../components/speak/SpeakPlaying'\r\nimport Bottom from '../../components/speak/SpeakBottom'\r\nimport SpeakWindow from '../../components/speak/SpeakMask'\r\nimport { findBook, getCategoryName } from '../../utils/store'\r\nimport { flatList } from '../../api/store'\r\nimport { getLocalForage } from '../../utils/localForage'\r\nimport { realPx } from '../../utils/utils'\r\nimport Epub from 'epubjs'\r\nimport CryptoJS from 'crypto-js'\r\n\r\nglobal.ePub = Epub\r\n\r\nconst APPID = '5b4da68b'\r\nconst API_SECRET = '48487e25de82a2c167eccda30f7a3c70'\r\nconst API_KEY = '7154170219e3e4426025afef812d070e'\r\nlet isChrome = navigator.userAgent.toLowerCase().match(/chrome/)\r\nlet notSupportTip = isChrome\r\n  ? '您的浏览器暂时不支持体验功能，请升级您的浏览器'\r\n  : '您现在使用的浏览器暂时不支持体验功能，<br />推荐使用谷歌浏览器Chrome'\r\n\r\nfunction getWebsocketUrl() {\r\n  return new Promise((resolve, reject) => {\r\n    var apiKey = API_KEY\r\n    var apiSecret = API_SECRET\r\n    var url = 'wss://tts-api.xfyun.cn/v2/tts'\r\n    var host = location.host\r\n    var date = new Date().toGMTString()\r\n    var algorithm = 'hmac-sha256'\r\n    var headers = 'host date request-line'\r\n    var signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET /v2/tts HTTP/1.1`\r\n    var signatureSha = CryptoJS.HmacSHA256(signatureOrigin, apiSecret)\r\n    var signature = CryptoJS.enc.Base64.stringify(signatureSha)\r\n    var authorizationOrigin = `api_key=\"${apiKey}\", algorithm=\"${algorithm}\", headers=\"${headers}\", signature=\"${signature}\"`\r\n    var authorization = btoa(authorizationOrigin)\r\n    url = `${url}?authorization=${authorization}&date=${date}&host=${host}`\r\n    resolve(url)\r\n  })\r\n}\r\n\r\nlet audioCtx\r\nlet source\r\nlet btnState = {\r\n  unTTS: '立即合成',\r\n  ttsing: '正在合成',\r\n  endTTS: '立即播放',\r\n  play: '停止播放',\r\n  pause: '继续播放',\r\n  endPlay: '重新播放',\r\n  errorTTS: '合成失败'\r\n}\r\n\r\nclass Experience {\r\n  constructor({\r\n    speed = 50,\r\n    voice = 50,\r\n    pitch = 50,\r\n    text = '',\r\n    engineType = 'aisound',\r\n    voiceName = 'xiaoyan',\r\n    playBtn = '.js-base-play',\r\n    defaultText = ''\r\n  } = {}) {\r\n    this.speed = speed\r\n    this.voice = voice\r\n    this.pitch = pitch\r\n    this.text = text\r\n    this.defaultText = defaultText\r\n    this.engineType = engineType\r\n    this.voiceName = voiceName\r\n    this.playBtn = playBtn\r\n    this.playState = ''\r\n    this.audioDatas = []\r\n    this.pcmPlayWork = new Worker('./transform.worker.js')\r\n    this.pcmPlayWork.onmessage = e => {\r\n      this.onmessageWork(e)\r\n    }\r\n  }\r\n\r\n  setConfig({ speed, voice, pitch, text, defaultText, engineType, voiceName }) {\r\n    speed && (this.speed = speed)\r\n    voice && (this.voice = voice)\r\n    pitch && (this.pitch = pitch)\r\n    text && (this.text = text)\r\n    defaultText && (this.defaultText = defaultText)\r\n    engineType && (this.engineType = engineType)\r\n    voiceName && (this.voiceName = voiceName)\r\n    this.resetAudio()\r\n  }\r\n\r\n  onmessageWork(e) {\r\n    switch (e.data.command) {\r\n      case 'newAudioData': {\r\n        this.audioDatas.push(e.data.data)\r\n        if (this.playState === 'ttsing' && this.audioDatas.length === 1) {\r\n          this.playTimeout = setTimeout(() => {\r\n            this.audioPlay()\r\n          }, 1000)\r\n        }\r\n        break\r\n      }\r\n    }\r\n  }\r\n\r\n  setBtnState(state) {\r\n    let oldState = this.playState\r\n    this.playState = state\r\n  }\r\n\r\n  getAudio() {\r\n    this.setBtnState('ttsing')\r\n    getWebsocketUrl().then(url => {\r\n      this.connectWebsocket(url)\r\n    })\r\n  }\r\n\r\n  connectWebsocket(url) {\r\n    if ('WebSocket' in window) {\r\n      this.websocket = new WebSocket(url)\r\n    } else if ('MozWebSocket' in window) {\r\n      this.websocket = new MozWebSocket(url)\r\n    } else {\r\n      alert(notSupportTip)\r\n      return\r\n    }\r\n    let self = this\r\n    this.websocket.onopen = e => {\r\n      var params = {\r\n        common: {\r\n          app_id: APPID // APPID\r\n        },\r\n        business: {\r\n          ent: self.engineType,\r\n          aue: 'raw',\r\n          auf: 'audio/L16;rate=16000',\r\n          vcn: self.voiceName,\r\n          speed: self.speed,\r\n          volume: self.voice * 10,\r\n          pitch: self.pitch,\r\n          //'bgs': 1,\r\n          tte: 'UTF8'\r\n        },\r\n        data: {\r\n          status: 2,\r\n          text: Base64.encode(self.text || self.defaultText)\r\n        }\r\n      }\r\n      this.websocket.send(JSON.stringify(params))\r\n    }\r\n    this.websocket.onmessage = e => {\r\n      let jsonData = JSON.parse(e.data)\r\n      // 合成失败\r\n      if (jsonData.code !== 0) {\r\n        alert(`${jsonData.code}:${jsonData.message}`)\r\n        self.resetAudio()\r\n        this.websocket.close()\r\n        return\r\n      }\r\n      self.pcmPlayWork.postMessage({\r\n        command: 'transData',\r\n        data: jsonData.data.audio\r\n      })\r\n\r\n      if (jsonData.code === 0 && jsonData.data.status === 2) {\r\n        this.websocket.close()\r\n      }\r\n    }\r\n    this.websocket.onerror = e => {\r\n      //console.log(e)\r\n      //console.log(e.data)\r\n    }\r\n    this.websocket.onclose = e => {\r\n      //console.log(e)\r\n    }\r\n  }\r\n\r\n  resetAudio() {\r\n    this.audioPause()\r\n    this.setBtnState('unTTS')\r\n    this.audioDatasIndex = 0\r\n    this.audioDatas = []\r\n    this.websocket && this.websocket.close()\r\n    clearTimeout(this.playTimeout)\r\n  }\r\n\r\n  audioPlay() {\r\n    try {\r\n      if (!audioCtx) {\r\n        audioCtx = new (window.AudioContext || window.webkitAudioContext)()\r\n      }\r\n      if (!audioCtx) {\r\n        alert(notSupportTip)\r\n        return\r\n      }\r\n    } catch (e) {\r\n      alert(notSupportTip)\r\n      return\r\n    }\r\n    this.audioDatasIndex = 0\r\n    if (this.audioDatas.length) {\r\n      this.playSource()\r\n      this.setBtnState('play')\r\n    } else {\r\n      this.getAudio()\r\n    }\r\n  }\r\n\r\n  audioPause(state) {\r\n    if (this.playState === 'play') {\r\n      this.setBtnState(state || 'endPlay')\r\n    }\r\n    clearTimeout(this.playTimeout)\r\n    try {\r\n      source && source.stop()\r\n    } catch (e) {\r\n      //console.log(e)\r\n    }\r\n  }\r\n\r\n  playSource() {\r\n    let bufferLength = 0\r\n    let dataLength = this.audioDatas.length\r\n    for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n      bufferLength += this.audioDatas[i].length\r\n    }\r\n    let audioBuffer = audioCtx.createBuffer(1, bufferLength, 22050)\r\n    let offset = 0\r\n    let nowBuffering = audioBuffer.getChannelData(0)\r\n    for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n      let audioData = this.audioDatas[i]\r\n      if (audioBuffer.copyToChannel) {\r\n        audioBuffer.copyToChannel(audioData, 0, offset)\r\n      } else {\r\n        for (let j = 0; j < audioData.length; j++) {\r\n          nowBuffering[offset + j] = audioData[j]\r\n        }\r\n      }\r\n      offset += audioData.length\r\n      this.audioDatasIndex++\r\n    }\r\n\r\n    source = audioCtx.createBufferSource()\r\n    source.buffer = audioBuffer\r\n    source.connect(audioCtx.destination)\r\n    source.start()\r\n    source.onended = event => {\r\n      if (this.playState !== 'play') {\r\n        return\r\n      }\r\n      if (this.audioDatasIndex < this.audioDatas.length) {\r\n        this.playSource()\r\n      } else {\r\n        this.audioPause('endPlay')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nlet experience = new Experience({\r\n  speed: 50,\r\n  voice: 50,\r\n  pitch: 50,\r\n  playBtn: `.audio-ctrl-btn`\r\n})\r\n\r\nexport default {\r\n  components: {\r\n    DetailTitle,\r\n    BookInfo,\r\n    Scroll,\r\n    SpeakPlaying,\r\n    Bottom,\r\n    SpeakWindow\r\n  },\r\n  computed: {\r\n    // 音频当前播放的分钟数\r\n    currentMinute() {\r\n      const m = Math.floor(this.currentPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频当前播放的秒数\r\n    currentSecond() {\r\n      const s = Math.floor(\r\n        this.currentPlayingTime - parseInt(this.currentMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 音频的总时长\r\n    totalMinute() {\r\n      const m = Math.floor(this.totalPlayingTime / 60)\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频的总秒数\r\n    totalSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime - parseInt(this.totalMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 音频的剩余分钟数\r\n    leftMinute() {\r\n      const m = Math.floor(\r\n        (this.totalPlayingTime - this.currentPlayingTime) / 60\r\n      )\r\n      return m < 10 ? '0' + m : m\r\n    },\r\n    // 音频的剩余秒数\r\n    leftSecond() {\r\n      const s = Math.floor(\r\n        this.totalPlayingTime -\r\n          this.currentPlayingTime -\r\n          parseInt(this.leftMinute) * 60\r\n      )\r\n      return s < 10 ? '0' + s : s\r\n    },\r\n    // 播放信息对象\r\n    playInfo() {\r\n      if (this.audioCanPlay) {\r\n        return {\r\n          currentMinute: this.currentMinute,\r\n          currentSecond: this.currentSecond,\r\n          totalMinute: this.totalMinute,\r\n          totalSecond: this.totalSecond,\r\n          leftMinute: this.leftMinute,\r\n          leftSecond: this.leftSecond\r\n        }\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n    // 电子书的语种\r\n    lang() {\r\n      return this.metadata ? this.metadata.language : ''\r\n    },\r\n    // 当播放面板显示时，禁用滚动条（解决事件穿透问题）\r\n    disableScroll() {\r\n      if (this.$refs.speakWindow) {\r\n        return this.$refs.speakWindow.visible\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    // 是否底部的播放面板\r\n    showPlay() {\r\n      return this.playingIndex >= 0\r\n    },\r\n    // 滚动条距底部距离，当显示播放面板时为116像素，不显示时为52像素\r\n    scrollBottom() {\r\n      return this.showPlay ? 116 : 52\r\n    },\r\n    // 当前章节信息\r\n    chapter() {\r\n      return this.flatNavigation[this.playingIndex]\r\n    },\r\n    // 电子书摘要信息\r\n    desc() {\r\n      if (this.description) {\r\n        return this.description.substring(0, 100)\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 一维数组的目录\r\n    flatNavigation() {\r\n      if (this.navigation) {\r\n        return Array.prototype.concat.apply(\r\n          [],\r\n          Array.prototype.concat.apply(\r\n            [],\r\n            this.doFlatNavigation(this.navigation.toc)\r\n          )\r\n        )\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    // 电子书分类\r\n    category() {\r\n      return this.bookItem ? getCategoryName(this.bookItem.category) : ''\r\n    },\r\n    // 电子书书名\r\n    title() {\r\n      return this.metadata ? this.metadata.title : ''\r\n    },\r\n    // 电子书作者\r\n    author() {\r\n      return this.metadata ? this.metadata.creator : ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      bookItem: null,\r\n      book: null,\r\n      rendition: null,\r\n      metadata: null,\r\n      cover: null,\r\n      navigation: null,\r\n      description: null,\r\n      ifShowContent: true,\r\n      playingIndex: -1,\r\n      paragraph: null,\r\n      currentSectionIndex: null,\r\n      currentSectionTotal: null,\r\n      section: null,\r\n      isPlaying: false,\r\n      audio: null,\r\n      audioCanPlay: false,\r\n      currentPlayingTime: 0,\r\n      totalPlayingTime: 0,\r\n      playStatus: 0, // 0 - 未播放，1 - 播放中，2 - 暂停中\r\n      toastText: '',\r\n      isOnline: false\r\n    }\r\n  },\r\n  methods: {\r\n    // 在线语音合成\r\n    createVoice(text) {\r\n      console.log('在线语音合成', text)\r\n      if (text !== experience.text) {\r\n        experience.setConfig({\r\n          text\r\n        })\r\n      }\r\n      //console.log(experience)\r\n      if (experience.playState === 'play') {\r\n        experience.audioPause()\r\n        this.resetPlay()\r\n      } else {\r\n        experience.audioPlay()\r\n        this.isPlaying = true\r\n        this.playStatus = 1\r\n      }\r\n      // const xmlhttp = new XMLHttpRequest()\r\n      // // 创建HTTP请求，同步接收结果\r\n      // xmlhttp.open('GET', `${process.env.VUE_APP_VOICE_URL}/voice?text=${text}&lang=${this.lang.toLowerCase()}`, false)\r\n      // // 发送请求\r\n      // xmlhttp.send()\r\n      // // 获取响应内容\r\n      // const xmlDoc = xmlhttp.responseText\r\n      // if (xmlDoc) {\r\n      //   // 解析响应内容\r\n      //   const json = JSON.parse(xmlDoc)\r\n      //   if (json.path) {\r\n      //     // path为语音合成生成的MP3文件下载路径，将该路径赋值audio.src\r\n      //     // audio控件会自动加载音频文件\r\n      //     this.$refs.audio.src = json.path\r\n      //     // 自动播放MP3\r\n      //     this.continuePlay()\r\n      //   } else {\r\n      //     this.showToast('播放失败，未生成链接')\r\n      //   }\r\n      // } else {\r\n      //   this.showToast('播放失败')\r\n      // }\r\n    },\r\n    // 切换播放状态，如果处于播放状态则暂停，如果处于暂停状态，则播放\r\n    // 注意状态0和状态2是不通的\r\n    // 状态0 表示还未播放，所以需要先进行语音合成\r\n    // 状态2 表示已经合成，所以直接进行播放即可\r\n    togglePlay() {\r\n      if (!this.isPlaying) {\r\n        if (this.playStatus === 0) {\r\n          this.play()\r\n        } else if (this.playStatus === 2) {\r\n          this.continuePlay()\r\n        }\r\n      } else {\r\n        this.pausePlay()\r\n      }\r\n    },\r\n    // 生成语音合成的文本信息\r\n    speak(item, index) {\r\n      // 重置播放状态，停止一切播放\r\n      this.resetPlay()\r\n      this.playingIndex = index\r\n      this.$nextTick(() => {\r\n        this.$refs.scroll.refresh()\r\n        if (this.chapter) {\r\n          // 获取当前点击的章节信息\r\n          this.section = this.book.spine.get(this.chapter.href)\r\n          // 渲染章节\r\n          this.rendition.display(this.section.href).then(section => {\r\n            // 获取当前位置对象\r\n            const currentPage = this.rendition.currentLocation()\r\n            const cfibase = section.cfiBase\r\n            const cfistart = currentPage.start.cfi\r\n              .replace(/.*!/, '')\r\n              .replace(/\\)/, '')\r\n            const cfiend = currentPage.end.cfi\r\n              .replace(/.*!/, '')\r\n              .replace(/\\)/, '')\r\n            this.currentSectionIndex = currentPage.start.displayed.page\r\n            this.currentSectionTotal = currentPage.start.displayed.total\r\n            // 合成cfi信息\r\n            const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\r\n            // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\r\n            // 通过Book.getRange(cfi)方法获取指定片段的cfi对应的文本\r\n            this.book.getRange(cfi).then(range => {\r\n              // 获取章节片段的文本信息\r\n              let text = range.toLocaleString()\r\n              // 对文本信息进行过滤，去除其中的空格（注意是2个空格，1个空格是合理的）、换行符等特殊字符\r\n              text = text.replace(/\\s(2,)/g, '')\r\n              text = text.replace(/\\r/g, '')\r\n              text = text.replace(/\\n/g, '')\r\n              text = text.replace(/\\t/g, '')\r\n              text = text.replace(/\\f/g, '')\r\n              // 更新语音合成的文本信息\r\n              this.updateText(text)\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 重置播放状态\r\n    resetPlay() {\r\n      if (this.playStatus === 1) {\r\n        this.pausePlay()\r\n      }\r\n      this.isPlaying = false\r\n      this.playStatus = 0\r\n    },\r\n    // 从头开始语音合成并播放\r\n    play() {\r\n      this.createVoice(this.paragraph)\r\n    },\r\n    // 继续播放\r\n    continuePlay() {\r\n      this.$refs.audio.play().then(() => {\r\n        // 显示播放动画\r\n        this.$refs.speakPlaying[0].startAnimation()\r\n        this.isPlaying = true\r\n        this.playStatus = 1\r\n      })\r\n    },\r\n    // 暂停播放\r\n    pausePlay() {\r\n      this.$refs.audio.pause()\r\n      // 暂停播放动画\r\n      this.$refs.speakPlaying[0].stopAnimation()\r\n      this.isPlaying = false\r\n      this.playStatus = 2\r\n    },\r\n    // 当播放结束时，刷新播放信息\r\n    onAudioEnded() {\r\n      this.resetPlay()\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    // 当播放进行时，刷新播放信息\r\n    onTimeUpdate() {\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      const percent = Math.floor(\r\n        (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n      )\r\n      this.$refs.speakWindow.refreshProgress(percent)\r\n    },\r\n    // 调用audio.src时，audio控件会调用canplay事件\r\n    // 此时我们可以获取总播放时长和当前播放时长\r\n    onCanPlay() {\r\n      this.audioCanPlay = true\r\n      this.currentPlayingTime = this.$refs.audio.currentTime\r\n      this.totalPlayingTime = this.$refs.audio.duration\r\n    },\r\n    // 通过API找到当前电子书的详情数据\r\n    findBookFromList(fileName) {\r\n      flatList().then(response => {\r\n        if (response.status === 200) {\r\n          const bookList = response.data.data.filter(\r\n            item => item.fileName === fileName\r\n          )\r\n          if (bookList && bookList.length > 0) {\r\n            this.bookItem = bookList[0]\r\n            this.init()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 初始化参数信息\r\n    init() {\r\n      const fileName = this.$route.query.fileName\r\n      if (!this.bookItem) {\r\n        this.bookItem = findBook(fileName)\r\n      }\r\n      if (this.bookItem) {\r\n        // 如果电子书已经缓存，则直接从IndexedDB数据库中获取\r\n        getLocalForage(fileName, (err, blob) => {\r\n          if (err || !blob) {\r\n            // 如果获取缓存失败，则拼接opf文件来获取电子书\r\n            this.isOnline = true\r\n            const opf = this.$route.query.opf\r\n            if (opf) {\r\n              this.parseBook(opf)\r\n            }\r\n          } else {\r\n            this.isOnline = false\r\n            // 解析电子书\r\n            this.parseBook(blob)\r\n          }\r\n        })\r\n      } else {\r\n        this.findBookFromList(fileName)\r\n      }\r\n    },\r\n    // 解析电子书\r\n    parseBook(blob) {\r\n      // 解析电子书\r\n      this.book = new Epub(blob)\r\n      // 获取电子书的metadata\r\n      this.book.loaded.metadata.then(metadata => {\r\n        this.metadata = metadata\r\n      })\r\n      // 如果是在线获取的电子书，则通过Book.coverUrl()方法获取封面链接\r\n      if (this.isOnline) {\r\n        this.book.coverUrl().then(url => {\r\n          this.cover = url\r\n        })\r\n      } else {\r\n        // 如果是本地获取的电子书，通过Book.loaded.cover方法获取封面链接（加快封面获取速度）\r\n        this.book.loaded.cover.then(cover => {\r\n          this.book.archive.createUrl(cover).then(url => {\r\n            this.cover = url\r\n          })\r\n        })\r\n      }\r\n      // 获取电子书的目录信息\r\n      this.book.loaded.navigation.then(nav => {\r\n        this.navigation = nav\r\n      })\r\n      // 渲染电子书\r\n      this.display()\r\n    },\r\n    back() {\r\n      this.$router.go(-1)\r\n    },\r\n    // 处理滚动条的事件，决定标题阴影是否展示\r\n    onScroll(offsetY) {\r\n      if (offsetY > realPx(42)) {\r\n        this.$refs.title.showShadow()\r\n      } else {\r\n        this.$refs.title.hideShadow()\r\n      }\r\n    },\r\n    toggleContent() {\r\n      this.ifShowContent = !this.ifShowContent\r\n    },\r\n    // 渲染电子书\r\n    display() {\r\n      const height =\r\n        window.innerHeight * 0.9 -\r\n        realPx(40) -\r\n        realPx(54) -\r\n        realPx(46) -\r\n        realPx(48) -\r\n        realPx(60) -\r\n        realPx(44)\r\n      this.rendition = this.book.renderTo('read', {\r\n        width: window.innerWidth,\r\n        height: height,\r\n        method: 'default'\r\n      })\r\n      this.rendition.display()\r\n    },\r\n    doFlatNavigation(content, deep = 1) {\r\n      const arr = []\r\n      content.forEach(item => {\r\n        item.deep = deep\r\n        arr.push(item)\r\n        if (item.subitems && item.subitems.length > 0) {\r\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1))\r\n        }\r\n      })\r\n      return arr\r\n    },\r\n    showToast(text) {\r\n      this.simpleToast(text)\r\n    },\r\n    onPlayingCardClick() {\r\n      this.$refs.speakWindow.show()\r\n    },\r\n    updateText(text) {\r\n      this.paragraph = text\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n@import \"../../assets/styles/global\";\r\n\r\n.book-speaking {\r\n  font-size: px2rem(16);\r\n  width: 100%;\r\n  background: white;\r\n\r\n  .content-wrapper {\r\n    width: 100%;\r\n\r\n    .book-speak-title-wrapper {\r\n      display: flex;\r\n      padding: px2rem(15);\r\n      box-sizing: border-box;\r\n      border-bottom: px2rem(1) solid #eee;\r\n\r\n      .icon-speak-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include left;\r\n\r\n        .icon-speak {\r\n          font-size: px2rem(24);\r\n          color: #999;\r\n        }\r\n      }\r\n\r\n      .speak-title-wrapper {\r\n        flex: 1;\r\n        @include left;\r\n\r\n        .speak-title {\r\n          font-size: px2rem(16);\r\n          font-weight: bold;\r\n          color: #666;\r\n        }\r\n      }\r\n\r\n      .icon-down-wrapper {\r\n        flex: 0 0 px2rem(40);\r\n        @include right;\r\n\r\n        .icon-up {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n\r\n        .icon-down2 {\r\n          font-size: px2rem(12);\r\n          color: #999;\r\n        }\r\n      }\r\n    }\r\n\r\n    .book-detail-content-wrapper {\r\n      width: 100%;\r\n      border-bottom: px2rem(1) solid #eee;\r\n      box-sizing: border-box;\r\n\r\n      .book-detail-content-list-wrapper {\r\n        padding: px2rem(10) px2rem(15);\r\n\r\n        .loading-text-wrapper {\r\n          width: 100%;\r\n\r\n          .loading-text {\r\n            font-size: px2rem(14);\r\n            color: #999;\r\n          }\r\n        }\r\n\r\n        .book-detail-content-item-wrapper {\r\n          .book-detail-content-item {\r\n            display: flex;\r\n            padding: px2rem(15) 0;\r\n            font-size: px2rem(14);\r\n            line-height: px2rem(16);\r\n            color: #333;\r\n            border-bottom: px2rem(1) solid #eee;\r\n\r\n            &:last-child {\r\n              border-bottom: none;\r\n            }\r\n\r\n            .book-detail-content-navigation-text {\r\n              flex: 1;\r\n              width: 100%;\r\n              @include ellipsis;\r\n\r\n              &.is-playing {\r\n                color: $color-blue;\r\n                font-weight: bold;\r\n                margin-left: px2rem(10);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .book-wrapper {\r\n    position: absolute;\r\n    bottom: -100%;\r\n    z-index: 100;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/store"}]}