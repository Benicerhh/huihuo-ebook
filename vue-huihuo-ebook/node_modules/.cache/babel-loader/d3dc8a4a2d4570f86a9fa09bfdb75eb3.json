{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\thread-loader\\dist\\cjs.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreCategory.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreCategory.vue","mtime":1588733537597},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNoZWxmVGl0bGUgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZlRpdGxlJzsKaW1wb3J0IHsgc3RvcmVTaGVsZk1peGluIH0gZnJvbSAnLi4vLi4vdXRpbHMvbWl4aW4nOwppbXBvcnQgU2Nyb2xsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL1Njcm9sbCc7CmltcG9ydCBTaGVsZkxpc3QgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZkxpc3QnOwppbXBvcnQgU2hlbGZGb290ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGVsZi9TaGVsZkZvb3Rlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtzdG9yZVNoZWxmTWl4aW5dLAogIGNvbXBvbmVudHM6IHsKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgU2hlbGZUaXRsZTogU2hlbGZUaXRsZSwKICAgIFNoZWxmTGlzdDogU2hlbGZMaXN0LAogICAgU2hlbGZGb290ZXI6IFNoZWxmRm9vdGVyCiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5piv5ZCm5Li657yW6L6R5qih5byPCiAgICBpc0VkaXRNb2RlOiBmdW5jdGlvbiBpc0VkaXRNb2RlKF9pc0VkaXRNb2RlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDlpoLmnpzmmK/nvJbovpHmqKHlvI/vvIzmu5rliqjmnaHpnIDopoHot53lupXpg6g0OOWDj+e0oO+8iOmcgOimgeaNoueul+aIkOWunumZhXB477yM57uE5Lu26LSf6LSj6L+Q566X77yJCiAgICAgIHRoaXMuc2Nyb2xsQm90dG9tID0gX2lzRWRpdE1vZGUgPyA0OCA6IDA7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDliLfmlrDmu5rliqjmnaHvvIzkvb/lvpforr7nva7nlJ/mlYgKICAgICAgICBfdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpZlNob3dMaXN0OiBmdW5jdGlvbiBpZlNob3dMaXN0KCkgewogICAgICAvLyDliIbnsbvliJfooajlsZXnpLrnmoTmnaHku7YKICAgICAgcmV0dXJuIHRoaXMuc2hlbGZDYXRlZ29yeS5pdGVtTGlzdCAmJiB0aGlzLnNoZWxmQ2F0ZWdvcnkuaXRlbUxpc3QubGVuZ3RoID4gMDsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzY3JvbGxCb3R0b206IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJfooajmu5rliqjnm5HlkKzkuovku7YKICAgIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbChvZmZzZXRZKSB7CiAgICAgIC8vIOW9k+WIl+ihqOWPkeeUn+a7muWKqOaXtu+8jOiuvue9rnZ1ZXjkuK3nmoRvZmZzZXRZCiAgICAgIC8vIG9mZnNldFnnmoTlj5jmm7TkvJrop6blj5FTaGVsZlRpdGxl57uE5Lu255qEd2F0Y2jnlJ/mlYgKICAgICAgdGhpcy5zZXRPZmZzZXRZKG9mZnNldFkpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOiOt+WPluWIhuexu+WIl+ihqOaVsOaNrgogICAgdGhpcy5nZXRDYXRlZ29yeUxpc3QodGhpcy4kcm91dGUucXVlcnkudGl0bGUpOyAvLyDmoIforrBjdXJyZW50VHlwZeS4ujLvvIzlr7nkuo7kuI3lkIznmoRjdXJyZW50VHlwZe+8jFNoZWxmVGl0bGXlsIblkYjnjrDkuI3lkIznirbmgIEKCiAgICB0aGlzLnNldEN1cnJlbnRUeXBlKDIpOwogIH0KfTs="},{"version":3,"sources":["StoreCategory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,UAAA,MAAA,mCAAA;AACA,SAAA,eAAA,QAAA,mBAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,SAAA,MAAA,kCAAA;AACA,OAAA,WAAA,MAAA,oCAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,UAAA,EAAA,UAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,WAAA,EAAA;AAJA,GAFA;AAQA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,UAFA,sBAEA,WAFA,EAEA;AAAA;;AACA;AACA,WAAA,YAAA,GAAA,WAAA,GAAA,EAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA;AACA,OAHA;AAIA;AATA,GARA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA;AACA,aACA,KAAA,aAAA,CAAA,QAAA,IAAA,KAAA,aAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CADA;AAGA;AANA,GAnBA;AA2BA,EAAA,IA3BA,kBA2BA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,oBAEA,OAFA,EAEA;AACA;AACA;AACA,WAAA,UAAA,CAAA,OAAA;AACA;AANA,GAhCA;AAwCA,EAAA,OAxCA,qBAwCA;AACA;AACA,SAAA,eAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA,EAFA,CAGA;;AACA,SAAA,cAAA,CAAA,CAAA;AACA;AA7CA,CAAA","sourcesContent":["<!-- 书架分类列表组件 -->\r\n<template>\r\n  <div class=\"store-shelf\">\r\n    <!-- 标题 -->\r\n    <shelf-title :title=\"shelfCategory.title\"></shelf-title>\r\n    <scroll\r\n      class=\"store-shelf-scroll-wrapper\"\r\n      :top=\"0\"\r\n      :bottom=\"scrollBottom\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n      v-if=\"ifShowList\"\r\n    >\r\n      <!-- 分类列表 -->\r\n      <shelf-list :top=\"42\" :data=\"shelfCategory.itemList\"></shelf-list>\r\n    </scroll>\r\n    <!-- 分类列表数据为空时展示内容 -->\r\n    <div class=\"store-shelf-empty-view\" v-else>{{$t('shelf.groupNone')}}</div>\r\n    <!-- 底部菜单组件 -->\r\n    <shelf-footer></shelf-footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ShelfTitle from '../../components/shelf/ShelfTitle'\r\n  import { storeShelfMixin } from '../../utils/mixin'\r\n  import Scroll from '../../components/common/Scroll'\r\n  import ShelfList from '../../components/shelf/ShelfList'\r\n  import ShelfFooter from '../../components/shelf/ShelfFooter'\r\n\r\n  export default {\r\n    mixins: [storeShelfMixin],\r\n    components: {\r\n      Scroll,\r\n      ShelfTitle,\r\n      ShelfList,\r\n      ShelfFooter\r\n    },\r\n    watch: {\r\n      // 监听是否为编辑模式\r\n      isEditMode(isEditMode) {\r\n        // 如果是编辑模式，滚动条需要距底部48像素（需要换算成实际px，组件负责运算）\r\n        this.scrollBottom = isEditMode ? 48 : 0\r\n        this.$nextTick(() => {\r\n          // 刷新滚动条，使得设置生效\r\n          this.$refs.scroll.refresh()\r\n        })\r\n      }\r\n    },\r\n    computed: {\r\n      ifShowList() {\r\n        // 分类列表展示的条件\r\n        return (\r\n          this.shelfCategory.itemList && this.shelfCategory.itemList.length > 0\r\n        )\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        scrollBottom: 0\r\n      }\r\n    },\r\n    methods: {\r\n      // 列表滚动监听事件\r\n      onScroll(offsetY) {\r\n        // 当列表发生滚动时，设置vuex中的offsetY\r\n        // offsetY的变更会触发ShelfTitle组件的watch生效\r\n        this.setOffsetY(offsetY)\r\n      }\r\n    },\r\n    mounted() {\r\n      // 获取分类列表数据\r\n      this.getCategoryList(this.$route.query.title)\r\n      // 标记currentType为2，对于不同的currentType，ShelfTitle将呈现不同状态\r\n      this.setCurrentType(2)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n  @import '../../assets/styles/global';\r\n\r\n  .store-shelf {\r\n    position: relative;\r\n    z-index: 100;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: white;\r\n    .store-shelf-scroll-wrapper {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 101;\r\n    }\r\n    .store-shelf-empty-view {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      font-size: px2rem(14);\r\n      color: #333;\r\n      @include center;\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/views/store"}]}