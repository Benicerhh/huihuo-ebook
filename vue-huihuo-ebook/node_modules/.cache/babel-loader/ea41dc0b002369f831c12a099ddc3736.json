{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfItem.vue","mtime":1588663512970},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc3RvcmVTaGVsZk1peGluLCBob21lTWl4aW4gfSBmcm9tICcuLi8uLi91dGlscy9taXhpbic7CmltcG9ydCB7IGdvdG9TdG9yZUhvbWUgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yZSc7CmltcG9ydCBTaGVsZkJvb2sgZnJvbSAnLi9TaGVsZkl0ZW1Cb29rJzsKaW1wb3J0IFNoZWxmQ2F0ZWdvcnkgZnJvbSAnLi9TaGVsZkl0ZW1DYXRlZ29yeSc7CmltcG9ydCBTaGVsZkFkZCBmcm9tICcuL1NoZWxmSXRlbUFkZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtzdG9yZVNoZWxmTWl4aW4sIGhvbWVNaXhpbl0sCiAgcHJvcHM6IHsKICAgIGRhdGE6IE9iamVjdAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGl0ZW06IGZ1bmN0aW9uIGl0ZW0oKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEudHlwZSA9PT0gMSA/IHRoaXMuYm9vayA6IHRoaXMuZGF0YS50eXBlID09PSAyID8gdGhpcy5jYXRlZ29yeSA6IHRoaXMuYWRkOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IFNoZWxmQm9vaywKICAgICAgY2F0ZWdvcnk6IFNoZWxmQ2F0ZWdvcnksCiAgICAgIGFkZDogU2hlbGZBZGQKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkl0ZW1DbGljazogZnVuY3Rpb24gb25JdGVtQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7CiAgICAgICAgdGhpcy5kYXRhLnNlbGVjdGVkID0gIXRoaXMuZGF0YS5zZWxlY3RlZDsKCiAgICAgICAgaWYgKHRoaXMuZGF0YS5zZWxlY3RlZCkgewogICAgICAgICAgdGhpcy5zaGVsZlNlbGVjdGVkLnB1c2hXaXRob3V0RHVwbGljYXRlKHRoaXMuZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2V0U2hlbGZTZWxlY3RlZCh0aGlzLnNoZWxmU2VsZWN0ZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkICE9PSBfdGhpcy5kYXRhLmlkOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09IDEpIHsKICAgICAgICAgIHRoaXMuc2hvd0Jvb2tEZXRhaWwodGhpcy5kYXRhKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50eXBlID09PSAyKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcvc3RvcmUvY2F0ZWdvcnknLAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLmRhdGEudGl0bGUKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGdvdG9TdG9yZUhvbWUodGhpcyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ShelfItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,eAAA,EAAA,SAAA,QAAA,mBAAA;AACA,SAAA,aAAA,QAAA,mBAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AACA,OAAA,aAAA,MAAA,qBAAA;AACA,OAAA,QAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,eAAA,EAAA,SAAA,CADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,GACA,KAAA,IADA,GAEA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,GACA,KAAA,QADA,GAEA,KAAA,GAJA;AAKA;AAPA,GALA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,SADA;AAEA,MAAA,QAAA,EAAA,aAFA;AAGA,MAAA,GAAA,EAAA;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,aAAA,IAAA,CAAA,QAAA,GAAA,CAAA,KAAA,IAAA,CAAA,QAAA;;AACA,YAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,eAAA,aAAA,CAAA,oBAAA,CAAA,KAAA,IAAA;AACA,SAFA,MAEA;AACA,eAAA,gBAAA,CACA,KAAA,aAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,mBAAA,IAAA,CAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AAAA,WAAA,CADA;AAGA;AACA,OATA,MASA;AACA,YAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,cAAA,CAAA,KAAA,IAAA;AACA,SAFA,MAEA,IAAA,KAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,iBADA;AAEA,YAAA,KAAA,EAAA;AACA,cAAA,KAAA,EAAA,KAAA,IAAA,CAAA;AADA;AAFA,WAAA;AAMA,SAPA,MAOA;AACA,UAAA,aAAA,CAAA,IAAA,CAAA;AACA;AACA;AACA;AAzBA;AArBA,CAAA","sourcesContent":["<template>\r\n  <div\r\n    class=\"shelf-item\"\r\n    :class=\"{'shelf-item-shadow':data.type!==3}\"\r\n    @click=\"onItemClick\"\r\n  >\r\n    <component\r\n      :is=\"item\"\r\n      :data=\"data\"\r\n      class=\"shelf-item-comp\"\r\n      :class=\"{'is-edit':isEditMode &&  data.type===2}\"\r\n    ></component>\r\n    <div\r\n      class=\"icon-selected\"\r\n      :class=\"{'is-selected':data.selected}\"\r\n      v-show=\"isEditMode && data.type===1\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { storeShelfMixin, homeMixin } from '../../utils/mixin'\r\n  import { gotoStoreHome } from '../../utils/store'\r\n  import ShelfBook from './ShelfItemBook'\r\n  import ShelfCategory from './ShelfItemCategory'\r\n  import ShelfAdd from './ShelfItemAdd'\r\n  export default {\r\n    mixins: [storeShelfMixin, homeMixin],\r\n    props: {\r\n      data: Object\r\n    },\r\n    computed: {\r\n      item() {\r\n        return this.data.type === 1\r\n          ? this.book\r\n          : this.data.type === 2\r\n          ? this.category\r\n          : this.add\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        book: ShelfBook,\r\n        category: ShelfCategory,\r\n        add: ShelfAdd\r\n      }\r\n    },\r\n    methods: {\r\n      onItemClick() {\r\n        if (this.isEditMode) {\r\n          this.data.selected = !this.data.selected\r\n          if (this.data.selected) {\r\n            this.shelfSelected.pushWithoutDuplicate(this.data)\r\n          } else {\r\n            this.setShelfSelected(\r\n              this.shelfSelected.filter(item => item.id !== this.data.id)\r\n            )\r\n          }\r\n        } else {\r\n          if (this.data.type === 1) {\r\n            this.showBookDetail(this.data)\r\n          } else if (this.data.type === 2) {\r\n            this.$router.push({\r\n              path: '/store/category',\r\n              query: {\r\n                title: this.data.title\r\n              }\r\n            })\r\n          } else {\r\n            gotoStoreHome(this)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .shelf-item {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    &.shelf-item-shadow {\r\n      box-shadow: px2rem(2) px2rem(2) px2rem(6) px2rem(2) rgba(200, 200, 200, 0.3);\r\n    }\r\n    .shelf-item-comp {\r\n      opacity: 1;\r\n      &.is-edit {\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n    .icon-selected {\r\n      position: absolute;\r\n      bottom: px2rem(2);\r\n      right: px2rem(2);\r\n      font-size: px2rem(18);\r\n      color: rgba(0, 0, 0, 0.4);\r\n      &.is-selected {\r\n        color: $color-blue;\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/components/shelf"}]}