{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfFooter.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfFooter.vue","mtime":1588729891730},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJFOlxcSm9kUHJlcGFyYXRpb25cXFByYWN0aWNlXFxcdTk4NzlcdTc2RUVcXGh1aWh1by1lYm9va1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJzsKaW1wb3J0IHsgc2F2ZUJvb2tTaGVsZiwgcmVtb3ZlTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9jYWxTdG9yYWdlJzsKaW1wb3J0IHsgcmVtb3ZlTG9jYWxGb3JhZ2UgfSBmcm9tICcuLi8uLi91dGlscy9sb2NhbEZvcmFnZSc7CmltcG9ydCB7IGRvd25sb2FkIH0gZnJvbSAnLi4vLi4vYXBpL3N0b3JlJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2VsZWN0ZWQ6IGZ1bmN0aW9uIGlzU2VsZWN0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNoZWxmU2VsZWN0ZWQgJiYgdGhpcy5zaGVsZlNlbGVjdGVkLmxlbmd0aCA+IDA7CiAgICB9LAogICAgdGFiczogZnVuY3Rpb24gdGFicygpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ3NoZWxmLnByaXZhdGUnKSwKICAgICAgICBsYWJlbDI6IHRoaXMuJHQoJ3NoZWxmLm5vUHJpdmF0ZScpLAogICAgICAgIGluZGV4OiAxCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnc2hlbGYuZG93bmxvYWQnKSwKICAgICAgICBsYWJlbDI6IHRoaXMuJHQoJ3NoZWxmLmRlbGV0ZScpLAogICAgICAgIGluZGV4OiAyCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnc2hlbGYubW92ZScpLAogICAgICAgIGluZGV4OiAzCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgnc2hlbGYucmVtb3ZlJyksCiAgICAgICAgaW5kZXg6IDQKICAgICAgfV07CiAgICB9LAogICAgaXNQcml2YXRlOiBmdW5jdGlvbiBpc1ByaXZhdGUoKSB7CiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLnNoZWxmU2VsZWN0ZWQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnByaXZhdGU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpc0Rvd25sb2FkOiBmdW5jdGlvbiBpc0Rvd25sb2FkKCkgewogICAgICBpZiAoIXRoaXMuaXNTZWxlY3RlZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5zaGVsZlNlbGVjdGVkLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jYWNoZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvcHVwTWVudTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxhYmVsOiBmdW5jdGlvbiBsYWJlbChpdGVtKSB7CiAgICAgIHN3aXRjaCAoaXRlbS5pbmRleCkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHJldHVybiB0aGlzLmlzUHJpdmF0ZSA/IGl0ZW0ubGFiZWwyIDogaXRlbS5sYWJlbDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gdGhpcy5pc0Rvd25sb2FkID8gaXRlbS5sYWJlbDIgOiBpdGVtLmxhYmVsOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0sCiAgICBoaWRlUG9wdXA6IGZ1bmN0aW9uIGhpZGVQb3B1cCgpIHsKICAgICAgdGhpcy5wb3B1cE1lbnUuaGlkZSgpOwogICAgfSwKICAgIHNldFByaXZhdGU6IGZ1bmN0aW9uIHNldFByaXZhdGUoKSB7CiAgICAgIHZhciBpc1ByaXZhdGU7CgogICAgICBpZiAodGhpcy5pc1ByaXZhdGUpIHsKICAgICAgICBpc1ByaXZhdGUgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpc1ByaXZhdGUgPSB0cnVlOwogICAgICB9CgogICAgICB0aGlzLnNoZWxmU2VsZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAoYm9vaykgewogICAgICAgIGJvb2sucHJpdmF0ZSA9IGlzUHJpdmF0ZTsKICAgICAgfSk7CgogICAgICBpZiAoaXNQcml2YXRlKSB7CiAgICAgICAgdGhpcy5zaW1wbGVUb2FzdCh0aGlzLiR0KCdzaGVsZi5zZXRQcml2YXRlU3VjY2VzcycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNpbXBsZVRvYXN0KHRoaXMuJHQoJ3NoZWxmLmNsb3NlUHJpdmF0ZVN1Y2Nlc3MnKSk7CiAgICAgIH0KCiAgICAgIHRoaXMub25Db21wbGV0ZSgpOwogICAgfSwKICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoKSB7CiAgICAgIHRoaXMuaGlkZVBvcHVwKCk7CiAgICAgIHRoaXMuc2V0SXNFZGl0TW9kZShmYWxzZSk7CiAgICAgIHNhdmVCb29rU2hlbGYodGhpcy5zaGVsZkxpc3QpOwogICAgfSwKICAgIGRvd25sb2FkU2VsZWN0ZWRCb29rOiBmdW5jdGlvbiBkb3dubG9hZFNlbGVjdGVkQm9vaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGlmICghKGkgPCBfdGhpcy5zaGVsZlNlbGVjdGVkLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRvd25sb2FkQm9vayhfdGhpcy5zaGVsZlNlbGVjdGVkW2ldKS50aGVuKGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICAgICAgICAgIGJvb2suY2FjaGUgPSB0cnVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkb3dubG9hZEJvb2s6IGZ1bmN0aW9uIGRvd25sb2FkQm9vayhib29rKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/nlLXlrZDkuabkuIvovb0KICAgICAgdmFyIHRleHQgPSAnJzsKICAgICAgdmFyIHRvYXN0ID0gdGhpcy50b2FzdCh7CiAgICAgICAgdGV4dDogdGV4dAogICAgICB9KTsKICAgICAgdG9hc3QuY29udGludWVTaG93KCk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZG93bmxvYWQoYm9vaywgZnVuY3Rpb24gKGJvb2spIHsKICAgICAgICAgIHRvYXN0LnJlbW92ZSgpOyAvL+mUgOavge+8jOS5i+WQjumHjeaWsOWunuS+i+WMlgoKICAgICAgICAgIHJlc29sdmUoYm9vayk7CiAgICAgICAgfSwgcmVqZWN0LCBmdW5jdGlvbiAocHJvZ3Jlc3NFdmVudCkgewogICAgICAgICAgdmFyIHByb2dyZXNzID0gTWF0aC5mbG9vcihwcm9ncmVzc0V2ZW50LmxvYWRlZCAvIHByb2dyZXNzRXZlbnQudG90YWwgKiAxMDApICsgJyUnOwogICAgICAgICAgdGV4dCA9IF90aGlzMi4kdCgnc2hlbGYucHJvZ3Jlc3NEb3dubG9hZCcpLnJlcGxhY2UoJyQxJywgIiIuY29uY2F0KGJvb2suZmlsZU5hbWUsICIuZXB1YigiKS5jb25jYXQocHJvZ3Jlc3MsICIpIikpOwogICAgICAgICAgdG9hc3QudXBkYXRlVGV4dCh0ZXh0KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlU2VsZWN0ZWRCb29rOiBmdW5jdGlvbiByZW1vdmVTZWxlY3RlZEJvb2soKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgUHJvbWlzZS5hbGwodGhpcy5zaGVsZlNlbGVjdGVkLm1hcChmdW5jdGlvbiAoYm9vaykgewogICAgICAgIHJldHVybiBfdGhpczMucmVtb3ZlQm9vayhib29rKTsKICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKGJvb2tzKSB7CiAgICAgICAgYm9va3MubWFwKGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICBib29rLmNhY2hlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgc2F2ZUJvb2tTaGVsZihfdGhpczMuc2hlbGZMaXN0KTsKCiAgICAgICAgX3RoaXMzLnNpbXBsZVRvYXN0KF90aGlzMy4kdCgnc2hlbGYucmVtb3ZlRG93bmxvYWRTdWNjZXNzJykpOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVCb29rOiBmdW5jdGlvbiByZW1vdmVCb29rKGJvb2spIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICByZW1vdmVMb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGJvb2suY2F0ZWdvcnlUZXh0LCAiLyIpLmNvbmNhdChib29rLmZpbGVOYW1lLCAiLWluZm8iKSk7CiAgICAgICAgcmVtb3ZlTG9jYWxGb3JhZ2UoIiIuY29uY2F0KGJvb2suZmlsZU5hbWUpKTsKICAgICAgICByZXNvbHZlKGJvb2spOwogICAgICB9KTsKICAgIH0sCiAgICBzZXREb3dubG9hZDogZnVuY3Rpb24gc2V0RG93bmxvYWQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNC5vbkNvbXBsZXRlKCk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczQuaXNEb3dubG9hZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC5yZW1vdmVTZWxlY3RlZEJvb2soKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5kb3dubG9hZFNlbGVjdGVkQm9vaygpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBzYXZlQm9va1NoZWxmKF90aGlzNC5zaGVsZkxpc3QpOwoKICAgICAgICAgICAgICAgIF90aGlzNC5zaW1wbGVUb2FzdChfdGhpczQuJHQoJ3NoZWxmLnNldERvd25sb2FkU3VjY2VzcycpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2hvd1ByaXZhdGU6IGZ1bmN0aW9uIHNob3dQcml2YXRlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMucG9wdXBNZW51ID0gdGhpcy5wb3B1cCh7CiAgICAgICAgdGl0bGU6IHRoaXMuaXNQcml2YXRlID8gdGhpcy4kdCgnc2hlbGYuY2xvc2VQcml2YXRlVGl0bGUnKSA6IHRoaXMuJHQoJ3NoZWxmLnNldFByaXZhdGVUaXRsZScpLAogICAgICAgIGJ0bjogW3sKICAgICAgICAgIHRleHQ6IHRoaXMuaXNQcml2YXRlID8gdGhpcy4kdCgnc2hlbGYuY2xvc2UnKSA6IHRoaXMuJHQoJ3NoZWxmLm9wZW4nKSwKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgX3RoaXM1LnNldFByaXZhdGUoKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdzaGVsZi5jYW5jZWwnKSwKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgX3RoaXM1LmhpZGVQb3B1cCgpOwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0pLnNob3coKTsKICAgIH0sCiAgICBzaG93RG93bmxvYWQ6IGZ1bmN0aW9uIHNob3dEb3dubG9hZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLnBvcHVwTWVudSA9IHRoaXMucG9wdXAoewogICAgICAgIHRpdGxlOiB0aGlzLmlzRG93bmxvYWQgPyB0aGlzLiR0KCdzaGVsZi5yZW1vdmVEb3dubG9hZFRpdGxlJykgOiB0aGlzLiR0KCdzaGVsZi5zZXREb3dubG9hZFRpdGxlJyksCiAgICAgICAgYnRuOiBbewogICAgICAgICAgdGV4dDogdGhpcy5pc0Rvd25sb2FkID8gdGhpcy4kdCgnc2hlbGYuZGVsZXRlJykgOiB0aGlzLiR0KCdzaGVsZi5vcGVuJyksCiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzNi5zZXREb3dubG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ3NoZWxmLmNhbmNlbCcpLAogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczYuaGlkZVBvcHVwKCk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSkuc2hvdygpOwogICAgfSwKICAgIHNob3dSZW1vdmU6IGZ1bmN0aW9uIHNob3dSZW1vdmUoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIHRpdGxlOwoKICAgICAgaWYgKHRoaXMuc2hlbGZTZWxlY3RlZC5sZW5ndGggPT09IDEpIHsKICAgICAgICB0aXRsZSA9IHRoaXMuJHQoJ3NoZWxmLnJlbW92ZUJvb2tUaXRsZScpLnJlcGxhY2UoJyQxJywgIlx1MzAwQSIuY29uY2F0KHRoaXMuc2hlbGZTZWxlY3RlZFswXS50aXRsZSwgIlx1MzAwQiIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aXRsZSA9IHRoaXMuJHQoJ3NoZWxmLnJlbW92ZUJvb2tUaXRsZScpLnJlcGxhY2UoJyQxJywgdGhpcy4kdCgnc2hlbGYuc2VsZWN0ZWRCb29rcycpKTsKICAgICAgfQoKICAgICAgdGhpcy5wb3B1cE1lbnUgPSB0aGlzLnBvcHVwKHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgYnRuOiBbewogICAgICAgICAgdGV4dDogdGhpcy4kdCgnc2hlbGYucmVtb3ZlQm9vaycpLAogICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzNy5yZW1vdmVTZWxlY3RlZCgpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ3NoZWxmLmNhbmNlbCcpLAogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICBfdGhpczcuaGlkZVBvcHVwKCk7CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSkuc2hvdygpOwogICAgfSwKICAgIHJlbW92ZVNlbGVjdGVkOiBmdW5jdGlvbiByZW1vdmVTZWxlY3RlZCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLnNoZWxmU2VsZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0ZWQpIHsKICAgICAgICBfdGhpczguc2V0U2hlbGZMaXN0KF90aGlzOC5zaGVsZkxpc3QuZmlsdGVyKGZ1bmN0aW9uIChib29rKSB7CiAgICAgICAgICByZXR1cm4gYm9vayAhPT0gc2VsZWN0ZWQ7CiAgICAgICAgfSkpOwogICAgICB9KTsKICAgICAgdGhpcy5zZXRTaGVsZlNlbGVjdGVkKFtdKTsKICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7CiAgICB9LAogICAgb25UYWJDbGljazogZnVuY3Rpb24gb25UYWJDbGljayhpdGVtKSB7CiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzd2l0Y2ggKGl0ZW0uaW5kZXgpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLnNob3dQcml2YXRlKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdGhpcy5zaG93RG93bmxvYWQoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0aGlzLmRpYWxvZygpLnNob3coKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICB0aGlzLnNob3dSZW1vdmUoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["ShelfFooter.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"shelf-footer\" v-show=\"isEditMode\">\r\n    <div\r\n      class=\"shelf-footer-tab-wrapper\"\r\n      v-for=\"item in tabs\"\r\n      :key=\"item.index\"\r\n      @click=\"onTabClick(item)\"\r\n    >\r\n      <div class=\"shelf-footer-tab\" :class=\"{ 'is-selected': isSelected }\">\r\n        <div\r\n          class=\"icon-private tab-icon\"\r\n          v-if=\"item.index === 1 && !isPrivate\"\r\n        ></div>\r\n        <div\r\n          class=\"icon-private-see tab-icon\"\r\n          v-if=\"item.index === 1 && isPrivate\"\r\n        ></div>\r\n        <div\r\n          class=\"icon-download tab-icon\"\r\n          v-if=\"item.index === 2 && !isDownload\"\r\n        ></div>\r\n        <div\r\n          class=\"icon-download-remove tab-icon\"\r\n          v-if=\"item.index === 2 && isDownload\"\r\n        ></div>\r\n        <div class=\"icon-move tab-icon\" v-show=\"item.index === 3\"></div>\r\n        <div class=\"icon-shelf tab-icon danger\" v-show=\"item.index === 4\"></div>\r\n        <div\r\n          class=\"tab-text\"\r\n          :class=\"{ danger: item.index === 4 }\"\r\n        >{{ label(item) }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { storeShelfMixin } from '../../utils/mixin'\r\n  import { saveBookShelf, removeLocalStorage } from '../../utils/localStorage'\r\n  import { removeLocalForage } from '../../utils/localForage'\r\n  import { download } from '../../api/store'\r\n  export default {\r\n    mixins: [storeShelfMixin],\r\n    computed: {\r\n      isSelected() {\r\n        return this.shelfSelected && this.shelfSelected.length > 0\r\n      },\r\n      tabs() {\r\n        return [\r\n          {\r\n            label: this.$t('shelf.private'),\r\n            label2: this.$t('shelf.noPrivate'),\r\n            index: 1\r\n          },\r\n          {\r\n            label: this.$t('shelf.download'),\r\n            label2: this.$t('shelf.delete'),\r\n            index: 2\r\n          },\r\n          {\r\n            label: this.$t('shelf.move'),\r\n            index: 3\r\n          },\r\n          {\r\n            label: this.$t('shelf.remove'),\r\n            index: 4\r\n          }\r\n        ]\r\n      },\r\n      isPrivate() {\r\n        if (!this.isSelected) {\r\n          return false\r\n        } else {\r\n          return this.shelfSelected.every(item => item.private)\r\n        }\r\n      },\r\n      isDownload() {\r\n        if (!this.isSelected) {\r\n          return false\r\n        } else {\r\n          return this.shelfSelected.every(item => item.cache)\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        popupMenu: null\r\n      }\r\n    },\r\n    methods: {\r\n      label(item) {\r\n        switch (item.index) {\r\n          case 1:\r\n            return this.isPrivate ? item.label2 : item.label\r\n            break\r\n          case 2:\r\n            return this.isDownload ? item.label2 : item.label\r\n          default:\r\n            return item.label\r\n        }\r\n      },\r\n      hidePopup() {\r\n        this.popupMenu.hide()\r\n      },\r\n      setPrivate() {\r\n        let isPrivate\r\n        if (this.isPrivate) {\r\n          isPrivate = false\r\n        } else {\r\n          isPrivate = true\r\n        }\r\n        this.shelfSelected.forEach(book => {\r\n          book.private = isPrivate\r\n        })\r\n        if (isPrivate) {\r\n          this.simpleToast(this.$t('shelf.setPrivateSuccess'))\r\n        } else {\r\n          this.simpleToast(this.$t('shelf.closePrivateSuccess'))\r\n        }\r\n        this.onComplete()\r\n      },\r\n      onComplete() {\r\n        this.hidePopup()\r\n        this.setIsEditMode(false)\r\n        saveBookShelf(this.shelfList)\r\n      },\r\n      async downloadSelectedBook() {\r\n        for (let i = 0; i < this.shelfSelected.length; i++) {\r\n          await this.downloadBook(this.shelfSelected[i]).then(book => {\r\n            book.cache = true\r\n          })\r\n        }\r\n      },\r\n      downloadBook(book) {\r\n        //电子书下载\r\n        let text = ''\r\n        const toast = this.toast({\r\n          text\r\n        })\r\n        toast.continueShow()\r\n        return new Promise((resolve, reject) => {\r\n          download(\r\n            book,\r\n            book => {\r\n              toast.remove()\r\n              //销毁，之后重新实例化\r\n              resolve(book)\r\n            },\r\n            reject,\r\n            progressEvent => {\r\n              const progress =\r\n                Math.floor((progressEvent.loaded / progressEvent.total) * 100) +\r\n                '%'\r\n              text = this.$t('shelf.progressDownload').replace(\r\n                '$1',\r\n                `${book.fileName}.epub(${progress})`\r\n              )\r\n              toast.updateText(text)\r\n            }\r\n          )\r\n        })\r\n      },\r\n      removeSelectedBook() {\r\n        Promise.all(this.shelfSelected.map(book => this.removeBook(book))).then(\r\n          books => {\r\n            books.map(book => {\r\n              book.cache = false\r\n            })\r\n            saveBookShelf(this.shelfList)\r\n            this.simpleToast(this.$t('shelf.removeDownloadSuccess'))\r\n          }\r\n        )\r\n      },\r\n      removeBook(book) {\r\n        return new Promise((resolve, reject) => {\r\n          removeLocalStorage(`${book.categoryText}/${book.fileName}-info`)\r\n          removeLocalForage(`${book.fileName}`)\r\n          resolve(book)\r\n        })\r\n      },\r\n      async setDownload() {\r\n        this.onComplete()\r\n        if (this.isDownload) {\r\n          this.removeSelectedBook()\r\n        } else {\r\n          await this.downloadSelectedBook()\r\n          saveBookShelf(this.shelfList)\r\n          this.simpleToast(this.$t('shelf.setDownloadSuccess'))\r\n        }\r\n      },\r\n      showPrivate() {\r\n        this.popupMenu = this.popup({\r\n          title: this.isPrivate\r\n            ? this.$t('shelf.closePrivateTitle')\r\n            : this.$t('shelf.setPrivateTitle'),\r\n          btn: [\r\n            {\r\n              text: this.isPrivate\r\n                ? this.$t('shelf.close')\r\n                : this.$t('shelf.open'),\r\n              click: () => {\r\n                this.setPrivate()\r\n              }\r\n            },\r\n            {\r\n              text: this.$t('shelf.cancel'),\r\n              click: () => {\r\n                this.hidePopup()\r\n              }\r\n            }\r\n          ]\r\n        }).show()\r\n      },\r\n      showDownload() {\r\n        this.popupMenu = this.popup({\r\n          title: this.isDownload\r\n            ? this.$t('shelf.removeDownloadTitle')\r\n            : this.$t('shelf.setDownloadTitle'),\r\n          btn: [\r\n            {\r\n              text: this.isDownload\r\n                ? this.$t('shelf.delete')\r\n                : this.$t('shelf.open'),\r\n              click: () => {\r\n                this.setDownload()\r\n              }\r\n            },\r\n            {\r\n              text: this.$t('shelf.cancel'),\r\n              click: () => {\r\n                this.hidePopup()\r\n              }\r\n            }\r\n          ]\r\n        }).show()\r\n      },\r\n      showRemove() {\r\n        let title\r\n        if (this.shelfSelected.length === 1) {\r\n          title = this.$t('shelf.removeBookTitle').replace(\r\n            '$1',\r\n            `《${this.shelfSelected[0].title}》`\r\n          )\r\n        } else {\r\n          title = this.$t('shelf.removeBookTitle').replace(\r\n            '$1',\r\n            this.$t('shelf.selectedBooks')\r\n          )\r\n        }\r\n        this.popupMenu = this.popup({\r\n          title: title,\r\n          btn: [\r\n            {\r\n              text: this.$t('shelf.removeBook'),\r\n              type: 'danger',\r\n              click: () => {\r\n                this.removeSelected()\r\n              }\r\n            },\r\n            {\r\n              text: this.$t('shelf.cancel'),\r\n              click: () => {\r\n                this.hidePopup()\r\n              }\r\n            }\r\n          ]\r\n        }).show()\r\n      },\r\n      removeSelected() {\r\n        this.shelfSelected.forEach(selected => {\r\n          this.setShelfList(this.shelfList.filter(book => book !== selected))\r\n        })\r\n        this.setShelfSelected([])\r\n        this.onComplete()\r\n      },\r\n      onTabClick(item) {\r\n        if (!this.isSelected) {\r\n          return\r\n        }\r\n        switch (item.index) {\r\n          case 1:\r\n            this.showPrivate()\r\n            break\r\n          case 2:\r\n            this.showDownload()\r\n            break\r\n          case 3:\r\n            this.dialog().show()\r\n            break\r\n          case 4:\r\n            this.showRemove()\r\n            break\r\n          default:\r\n            break\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../assets/styles/global.scss';\r\n  .shelf-footer {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 120;\r\n    display: flex;\r\n    width: 100%;\r\n    height: px2rem(48);\r\n    background: white;\r\n    box-shadow: 0 px2rem(-2) px2rem(4) 0 rgba(0, 0, 0, 0.1);\r\n    .shelf-footer-tab-wrapper {\r\n      flex: 1;\r\n      width: 25%;\r\n      height: 100%;\r\n      .shelf-footer-tab {\r\n        width: 100%;\r\n        height: 100%;\r\n        opacity: 0.5;\r\n        @include columnCenter;\r\n        .tab-icon {\r\n          font-size: px2rem(20);\r\n          color: #666;\r\n        }\r\n        .tab-text {\r\n          margin-top: px2rem(5);\r\n          font-size: px2rem(12);\r\n          color: #666;\r\n        }\r\n        &.is-selected {\r\n          opacity: 1;\r\n        }\r\n        .danger {\r\n          color: $color-pink;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/shelf"}]}