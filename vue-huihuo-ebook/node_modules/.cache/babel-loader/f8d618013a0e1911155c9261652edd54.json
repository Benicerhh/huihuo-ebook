{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfGroupDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\components\\shelf\\ShelfGroupDialog.vue","mtime":1588736485906},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOlxcSm9kUHJlcGFyYXRpb25cXFByYWN0aWNlXFxcdTk4NzlcdTc2RUVcXGh1aWh1by1lYm9va1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRWJvb2tEaWFsb2cgZnJvbSAnLi4vY29tbW9uL0RpYWxvZyc7CmltcG9ydCB7IHN0b3JlU2hlbGZNaXhpbiB9IGZyb20gJy4uLy4uL3V0aWxzL21peGluJzsKaW1wb3J0IHsgcmVtb3ZlQWRkRnJvbVNoZWxmLCBhcHBlbmRBZGRUb1NoZWxmIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3RvcmUnOwppbXBvcnQgeyBzYXZlQm9va1NoZWxmIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9jYWxTdG9yYWdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdncm91cC1kaWFsb2cnLAogIG1peGluczogW3N0b3JlU2hlbGZNaXhpbl0sCiAgY29tcG9uZW50czogewogICAgRWJvb2tEaWFsb2c6IEVib29rRGlhbG9nCiAgfSwKICBwcm9wczogewogICAgc2hvd05ld0dyb3VwOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZ3JvdXBOYW1lOiBTdHJpbmcKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0luR3JvdXA6IGZ1bmN0aW9uIGlzSW5Hcm91cCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFR5cGUgPT09IDI7CiAgICB9LAogICAgZGVmYXVsdENhdGVnb3J5OiBmdW5jdGlvbiBkZWZhdWx0Q2F0ZWdvcnkoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdzaGVsZi5uZXdHcm91cCcpLAogICAgICAgIGVkaXQ6IDEKICAgICAgfSwgewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdzaGVsZi5ncm91cE91dCcpLAogICAgICAgIGVkaXQ6IDIKICAgICAgfV07CiAgICB9LAogICAgY2F0ZWdvcnk6IGZ1bmN0aW9uIGNhdGVnb3J5KCkgewogICAgICByZXR1cm4gdGhpcy5zaGVsZkxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gMjsKICAgICAgfSk7CiAgICB9LAogICAgY2F0ZWdvcnlMaXN0OiBmdW5jdGlvbiBjYXRlZ29yeUxpc3QoKSB7CiAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZGVmYXVsdENhdGVnb3J5KSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2F0ZWdvcnkpKTsKICAgIH0sCiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7CiAgICAgIHJldHVybiAhdGhpcy5pZk5ld0dyb3VwID8gdGhpcy4kdCgnc2hlbGYubW92ZUJvb2snKSA6IHRoaXMuJHQoJ3NoZWxmLm5ld0dyb3VwJyk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWZOZXdHcm91cDogZmFsc2UsCiAgICAgIG5ld0dyb3VwTmFtZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICB0aGlzLmlmTmV3R3JvdXAgPSB0aGlzLnNob3dOZXdHcm91cDsKICAgICAgdGhpcy5uZXdHcm91cE5hbWUgPSB0aGlzLmdyb3VwTmFtZTsKICAgICAgdGhpcy4kcmVmcy5kaWFsb2cuc2hvdygpOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmRpYWxvZy5oaWRlKCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlmTmV3R3JvdXAgPSBmYWxzZTsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICBvbkdyb3VwQ2xpY2s6IGZ1bmN0aW9uIG9uR3JvdXBDbGljayhpdGVtKSB7CiAgICAgIGlmIChpdGVtLmVkaXQgJiYgaXRlbS5lZGl0ID09PSAxKSB7CiAgICAgICAgLy/mlrDlu7rliIbnu4QKICAgICAgICB0aGlzLmlmTmV3R3JvdXAgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uZWRpdCAmJiBpdGVtLmVkaXQgPT09IDIpIHsKICAgICAgICAvL+enu+mZpOWIhue7hAogICAgICAgIHRoaXMubW92ZU91dEZyb21Hcm91cChpdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vdmVUb0dyb3VwKGl0ZW0pOwogICAgICB9CiAgICB9LAogICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICB0aGlzLm5ld0dyb3VwTmFtZSA9ICcnOwogICAgfSwKICAgIG1vdmVUb0dyb3VwOiBmdW5jdGlvbiBtb3ZlVG9Hcm91cChncm91cCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2V0U2hlbGZMaXN0KHRoaXMuc2hlbGZMaXN0LmZpbHRlcihmdW5jdGlvbiAoYm9vaykgewogICAgICAgIGlmIChib29rLml0ZW1MaXN0KSB7CiAgICAgICAgICBib29rLml0ZW1MaXN0ID0gYm9vay5pdGVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHN1YkJvb2spIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zaGVsZlNlbGVjdGVkLmluZGV4T2Yoc3ViQm9vaykgPCAwOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3RoaXMyLnNoZWxmU2VsZWN0ZWQuaW5kZXhPZihib29rKSA8IDA7CiAgICAgIH0pKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoZ3JvdXAgJiYgZ3JvdXAuaXRlbUxpc3QpIHsKICAgICAgICAgIGdyb3VwLml0ZW1MaXN0ID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShncm91cC5pdGVtTGlzdCksIF90b0NvbnN1bWFibGVBcnJheShfdGhpczIuc2hlbGZTZWxlY3RlZCkpOwogICAgICAgIH0KCiAgICAgICAgZ3JvdXAuaXRlbUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIGl0ZW0uaWQgPSBpbmRleCArIDE7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi5zaW1wbGVUb2FzdChfdGhpczIuJHQoJ3NoZWxmLm1vdmVCb29rSW5TdWNjZXNzJykucmVwbGFjZSgnJDEnLCBncm91cC50aXRsZSkpOwoKICAgICAgICBfdGhpczIub25Db21wbGV0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBtb3ZlT3V0RnJvbUdyb3VwOiBmdW5jdGlvbiBtb3ZlT3V0RnJvbUdyb3VwKCkgewogICAgICB0aGlzLm1vdmVPdXRPZkdyb3VwKHRoaXMub25Db21wbGV0ZSk7CiAgICB9LAogICAgY3JlYXRlTmV3R3JvdXA6IGZ1bmN0aW9uIGNyZWF0ZU5ld0dyb3VwKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5uZXdHcm91cE5hbWUgfHwgdGhpcy5uZXdHcm91cE5hbWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5zaG93TmV3R3JvdXApIHsKICAgICAgICB0aGlzLnNoZWxmQ2F0ZWdvcnkudGl0bGUgPSB0aGlzLm5ld0dyb3VwTmFtZTsKICAgICAgICB0aGlzLm9uQ29tcGxldGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZ3JvdXAgPSB7CiAgICAgICAgICBpZDogdGhpcy5zaGVsZkxpc3RbdGhpcy5zaGVsZkxpc3QubGVuZ3RoIC0gMl0uaWQgKyAxLAogICAgICAgICAgaXRlbUxpc3Q6IFtdLAogICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLAogICAgICAgICAgdGl0bGU6IHRoaXMubmV3R3JvdXBOYW1lLAogICAgICAgICAgdHlwZTogMgogICAgICAgIH07CiAgICAgICAgdmFyIGxpc3QgPSByZW1vdmVBZGRGcm9tU2hlbGYodGhpcy5zaGVsZkxpc3QpOwogICAgICAgIGxpc3QucHVzaChncm91cCk7CiAgICAgICAgbGlzdCA9IGFwcGVuZEFkZFRvU2hlbGYobGlzdCk7CiAgICAgICAgdGhpcy5zZXRTaGVsZkxpc3QobGlzdCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMubW92ZVRvR3JvdXAoZ3JvdXApOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25Db21wbGV0ZTogZnVuY3Rpb24gb25Db21wbGV0ZSgpIHsKICAgICAgc2F2ZUJvb2tTaGVsZih0aGlzLnNoZWxmTGlzdCk7CiAgICAgIHRoaXMuaGlkZSgpOwogICAgICB0aGlzLnNldElzRWRpdE1vZGUoZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ShelfGroupDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <ebook-dialog :title=\"title\" ref=\"dialog\">\r\n    <!--插槽/slot-->\r\n    <div class=\"dialog-list-wrapper\" v-if=\"!ifNewGroup\">\r\n      <div\r\n        class=\"dialog-list-item\"\r\n        :class=\"{'is-add': item.edit  ? item.edit === 1 : false}\"\r\n        v-for=\"(item, index) in categoryList\"\r\n        :key=\"index\"\r\n        @click=\"onGroupClick(item)\"\r\n        v-show=\"(item.edit === 2 && isInGroup) || item.edit !== 2 || !item.edit\"\r\n      >\r\n        <div class=\"dialog-list-item-text\">{{item.title}}</div>\r\n        <div\r\n          class=\"dialog-list-icon-wrapper\"\r\n          v-if=\"isInGroup && shelfCategory.id === item.id\"\r\n        >\r\n          <span class=\"icon-check\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"dialog-new-group-wrapper\" v-else>\r\n      <div class=\"dialog-input-title-wrapper\">\r\n        <span class=\"dialog-input-title\">{{$t('shelf.groupName')}}</span>\r\n      </div>\r\n      <div class=\"dialog-input-wrapper\">\r\n        <div class=\"dialog-input-inner-wrapper\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"dialog-input\"\r\n            v-model=\"newGroupName\"\r\n            ref=\"dialogInput\"\r\n          />\r\n          <div\r\n            class=\"dialog-input-clear-wrapper\"\r\n            @click=\"clear\"\r\n            v-show=\"newGroupName && newGroupName.length > 0\"\r\n          >\r\n            <span class=\"icon-close-circle-fill\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div slot=\"btn\" class=\"group-dialog-btn-wrapper\">\r\n      <div class=\"dialog-btn\" @click=\"hide\">{{$t('shelf.cancel')}}</div>\r\n      <div\r\n        class=\"dialog-btn\"\r\n        @click=\"createNewGroup\"\r\n        :class=\"{'is-empty': newGroupName && newGroupName.length === 0}\"\r\n        v-if=\"ifNewGroup\"\r\n      >{{$t('shelf.confirm')}}</div>\r\n    </div>\r\n  </ebook-dialog>\r\n</template>\r\n\r\n<script>\r\n  import EbookDialog from '../common/Dialog'\r\n  import { storeShelfMixin } from '../../utils/mixin'\r\n  import { removeAddFromShelf, appendAddToShelf } from '../../utils/store'\r\n  import { saveBookShelf } from '../../utils/localStorage'\r\n\r\n  export default {\r\n    name: 'group-dialog',\r\n    mixins: [storeShelfMixin],\r\n    components: {\r\n      EbookDialog\r\n    },\r\n    props: {\r\n      showNewGroup: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      groupName: String\r\n    },\r\n    computed: {\r\n      isInGroup() {\r\n        return this.currentType === 2\r\n      },\r\n      defaultCategory() {\r\n        return [\r\n          {\r\n            title: this.$t('shelf.newGroup'),\r\n            edit: 1\r\n          },\r\n          {\r\n            title: this.$t('shelf.groupOut'),\r\n            edit: 2\r\n          }\r\n        ]\r\n      },\r\n      category() {\r\n        return this.shelfList.filter(item => item.type === 2)\r\n      },\r\n      categoryList() {\r\n        return [...this.defaultCategory, ...this.category]\r\n      },\r\n      title() {\r\n        return !this.ifNewGroup\r\n          ? this.$t('shelf.moveBook')\r\n          : this.$t('shelf.newGroup')\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        ifNewGroup: false,\r\n        newGroupName: ''\r\n      }\r\n    },\r\n    methods: {\r\n      show() {\r\n        this.ifNewGroup = this.showNewGroup\r\n        this.newGroupName = this.groupName\r\n        this.$refs.dialog.show()\r\n      },\r\n      hide() {\r\n        this.$refs.dialog.hide()\r\n        setTimeout(() => {\r\n          this.ifNewGroup = false\r\n        }, 200)\r\n      },\r\n      onGroupClick(item) {\r\n        if (item.edit && item.edit === 1) {\r\n          //新建分组\r\n          this.ifNewGroup = true\r\n        } else if (item.edit && item.edit === 2) {\r\n          //移除分组\r\n          this.moveOutFromGroup(item)\r\n        } else {\r\n          this.moveToGroup(item)\r\n        }\r\n      },\r\n      clear() {\r\n        this.newGroupName = ''\r\n      },\r\n      moveToGroup(group) {\r\n        this.setShelfList(\r\n          this.shelfList.filter(book => {\r\n            if (book.itemList) {\r\n              book.itemList = book.itemList.filter(\r\n                subBook => this.shelfSelected.indexOf(subBook) < 0\r\n              )\r\n            }\r\n            return this.shelfSelected.indexOf(book) < 0\r\n          })\r\n        ).then(() => {\r\n          if (group && group.itemList) {\r\n            group.itemList = [...group.itemList, ...this.shelfSelected]\r\n          }\r\n          group.itemList.forEach((item, index) => {\r\n            item.id = index + 1\r\n          })\r\n          this.simpleToast(\r\n            this.$t('shelf.moveBookInSuccess').replace('$1', group.title)\r\n          )\r\n          this.onComplete()\r\n        })\r\n      },\r\n      moveOutFromGroup() {\r\n        this.moveOutOfGroup(this.onComplete)\r\n      },\r\n      createNewGroup() {\r\n        if (!this.newGroupName || this.newGroupName.length === 0) {\r\n          return\r\n        }\r\n        if (this.showNewGroup) {\r\n          this.shelfCategory.title = this.newGroupName\r\n          this.onComplete()\r\n        } else {\r\n          const group = {\r\n            id: this.shelfList[this.shelfList.length - 2].id + 1,\r\n            itemList: [],\r\n            selected: false,\r\n            title: this.newGroupName,\r\n            type: 2\r\n          }\r\n          let list = removeAddFromShelf(this.shelfList)\r\n          list.push(group)\r\n          list = appendAddToShelf(list)\r\n          this.setShelfList(list).then(() => {\r\n            this.moveToGroup(group)\r\n          })\r\n        }\r\n      },\r\n      onComplete() {\r\n        saveBookShelf(this.shelfList)\r\n        this.hide()\r\n        this.setIsEditMode(false)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n  @import '../../assets/styles/global';\r\n\r\n  .dialog-list-wrapper {\r\n    width: 100%;\r\n    padding: 0 px2rem(20);\r\n    box-sizing: border-box;\r\n    font-size: px2rem(14);\r\n    @include scroll;\r\n    .dialog-list-item {\r\n      display: flex;\r\n      padding: px2rem(15) 0;\r\n      box-sizing: border-box;\r\n      color: #666;\r\n      position: relative;\r\n      &.is-add {\r\n        color: $color-blue;\r\n        &:active {\r\n          color: $color-blue-transparent;\r\n        }\r\n      }\r\n      &:active {\r\n        color: rgba(102, 102, 102, 0.5);\r\n      }\r\n      .dialog-list-item-text {\r\n        flex: 1;\r\n      }\r\n      .dialog-list-icon-wrapper {\r\n        //flex: 0 0 px2rem(30);\r\n        color: $color-blue;\r\n        //@include right;\r\n        position: absolute;\r\n        right: px2rem(5);\r\n      }\r\n    }\r\n  }\r\n\r\n  .dialog-new-group-wrapper {\r\n    width: 100%;\r\n    padding: 0 px2rem(20);\r\n    box-sizing: border-box;\r\n    .dialog-input-title-wrapper {\r\n      font-size: px2rem(10);\r\n      margin-top: px2rem(20);\r\n    }\r\n    .dialog-input-wrapper {\r\n      width: 100%;\r\n      padding: 0 0 px2rem(30) 0;\r\n      box-sizing: border-box;\r\n      .dialog-input-inner-wrapper {\r\n        display: flex;\r\n        width: 100%;\r\n        padding: px2rem(10) 0;\r\n        box-sizing: border-box;\r\n        border-bottom: px2rem(1) solid #eee;\r\n        font-size: px2rem(14);\r\n        color: #666;\r\n        .dialog-input {\r\n          flex: 1;\r\n          border: none;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n        .dialog-input-clear-wrapper {\r\n          flex: 0 0 px2rem(30);\r\n          color: #ccc;\r\n          @include center;\r\n          &:active {\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .group-dialog-btn-wrapper {\r\n    width: 100%;\r\n    @include center;\r\n  }\r\n\r\n  .dialog-btn {\r\n    flex: 1;\r\n    &.is-empty {\r\n      color: rgba(255, 255, 255, 0.5);\r\n    }\r\n    &:active {\r\n      color: rgba(255, 255, 255, 0.5);\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/shelf"}]}