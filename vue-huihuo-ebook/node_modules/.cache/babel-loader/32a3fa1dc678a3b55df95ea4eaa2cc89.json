{"remainingRequest":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\src\\views\\store\\StoreSpeaking.vue","mtime":1588909953411},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\JodPreparation\\Practice\\项目\\huihuo-ebook\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkU6XFxKb2RQcmVwYXJhdGlvblxcUHJhY3RpY2VcXFx1OTg3OVx1NzZFRVxcaHVpaHVvLWVib29rXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRTpcXEpvZFByZXBhcmF0aW9uXFxQcmFjdGljZVxcXHU5ODc5XHU3NkVFXFxodWlodW8tZWJvb2tcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERldGFpbFRpdGxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGV0YWlsL0RldGFpbFRpdGxlJzsKaW1wb3J0IEJvb2tJbmZvIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGV0YWlsL0Jvb2tJbmZvJzsKaW1wb3J0IFNjcm9sbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbW1vbi9TY3JvbGwnOwppbXBvcnQgU3BlYWtQbGF5aW5nIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3BlYWsvU3BlYWtQbGF5aW5nJzsKaW1wb3J0IEJvdHRvbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3NwZWFrL1NwZWFrQm90dG9tJzsKaW1wb3J0IFNwZWFrV2luZG93IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc3BlYWsvU3BlYWtNYXNrJzsKaW1wb3J0IHsgZmluZEJvb2ssIGdldENhdGVnb3J5TmFtZSB9IGZyb20gJy4uLy4uL3V0aWxzL3N0b3JlJzsKaW1wb3J0IHsgZmxhdExpc3QgfSBmcm9tICcuLi8uLi9hcGkvc3RvcmUnOwppbXBvcnQgeyBnZXRMb2NhbEZvcmFnZSB9IGZyb20gJy4uLy4uL3V0aWxzL2xvY2FsRm9yYWdlJzsKaW1wb3J0IHsgcmVhbFB4IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnOwppbXBvcnQgRXB1YiBmcm9tICdlcHVianMnOwpnbG9iYWwuZVB1YiA9IEVwdWI7CnZhciBBUFBJRCA9ICc1YjRkYTY4Yic7CnZhciBBUElfU0VDUkVUID0gJzQ4NDg3ZTI1ZGU4MmEyYzE2N2VjY2RhMzBmN2EzYzcwJzsKdmFyIEFQSV9LRVkgPSAnNzE1NDE3MDIxOWUzZTQ0MjYwMjVhZmVmODEyZDA3MGUnOwp2YXIgaXNDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZS8pOwp2YXIgbm90U3VwcG9ydFRpcCA9IGlzQ2hyb21lID8gJ+aCqOeahOa1j+iniOWZqOaaguaXtuS4jeaUr+aMgeS9k+mqjOWKn+iDve+8jOivt+WNh+e6p+aCqOeahOa1j+iniOWZqCcgOiAn5oKo546w5Zyo5L2/55So55qE5rWP6KeI5Zmo5pqC5pe25LiN5pSv5oyB5L2T6aqM5Yqf6IO977yMPGJyIC8+5o6o6I2Q5L2/55So6LC35q2M5rWP6KeI5ZmoQ2hyb21lJzsKCmZ1bmN0aW9uIGdldFdlYnNvY2tldFVybCgpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIGFwaUtleSA9IEFQSV9LRVk7CiAgICB2YXIgYXBpU2VjcmV0ID0gQVBJX1NFQ1JFVDsKICAgIHZhciB1cmwgPSAnd3NzOi8vdHRzLWFwaS54Znl1bi5jbi92Mi90dHMnOwogICAgdmFyIGhvc3QgPSBsb2NhdGlvbi5ob3N0OwogICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLnRvR01UU3RyaW5nKCk7CiAgICB2YXIgYWxnb3JpdGhtID0gJ2htYWMtc2hhMjU2JzsKICAgIHZhciBoZWFkZXJzID0gJ2hvc3QgZGF0ZSByZXF1ZXN0LWxpbmUnOwogICAgdmFyIHNpZ25hdHVyZU9yaWdpbiA9ICJob3N0OiAiLmNvbmNhdChob3N0LCAiXG5kYXRlOiAiKS5jb25jYXQoZGF0ZSwgIlxuR0VUIC92Mi90dHMgSFRUUC8xLjEiKTsKICAgIHZhciBzaWduYXR1cmVTaGEgPSBDcnlwdG9KUy5IbWFjU0hBMjU2KHNpZ25hdHVyZU9yaWdpbiwgYXBpU2VjcmV0KTsKICAgIHZhciBzaWduYXR1cmUgPSBDcnlwdG9KUy5lbmMuQmFzZTY0LnN0cmluZ2lmeShzaWduYXR1cmVTaGEpOwogICAgdmFyIGF1dGhvcml6YXRpb25PcmlnaW4gPSAiYXBpX2tleT1cIiIuY29uY2F0KGFwaUtleSwgIlwiLCBhbGdvcml0aG09XCIiKS5jb25jYXQoYWxnb3JpdGhtLCAiXCIsIGhlYWRlcnM9XCIiKS5jb25jYXQoaGVhZGVycywgIlwiLCBzaWduYXR1cmU9XCIiKS5jb25jYXQoc2lnbmF0dXJlLCAiXCIiKTsKICAgIHZhciBhdXRob3JpemF0aW9uID0gYnRvYShhdXRob3JpemF0aW9uT3JpZ2luKTsKICAgIHVybCA9ICIiLmNvbmNhdCh1cmwsICI/YXV0aG9yaXphdGlvbj0iKS5jb25jYXQoYXV0aG9yaXphdGlvbiwgIiZkYXRlPSIpLmNvbmNhdChkYXRlLCAiJmhvc3Q9IikuY29uY2F0KGhvc3QpOwogICAgcmVzb2x2ZSh1cmwpOwogIH0pOwp9Cgp2YXIgYXVkaW9DdHg7CnZhciBzb3VyY2U7CnZhciBidG5TdGF0ZSA9IHsKICB1blRUUzogJ+eri+WNs+WQiOaIkCcsCiAgdHRzaW5nOiAn5q2j5Zyo5ZCI5oiQJywKICBlbmRUVFM6ICfnq4vljbPmkq3mlL4nLAogIHBsYXk6ICflgZzmraLmkq3mlL4nLAogIHBhdXNlOiAn57un57ut5pKt5pS+JywKICBlbmRQbGF5OiAn6YeN5paw5pKt5pS+JywKICBlcnJvclRUUzogJ+WQiOaIkOWksei0pScKfTsKCnZhciBFeHBlcmllbmNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBFeHBlcmllbmNlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sCiAgICAgICAgX3JlZiRzcGVlZCA9IF9yZWYuc3BlZWQsCiAgICAgICAgc3BlZWQgPSBfcmVmJHNwZWVkID09PSB2b2lkIDAgPyA1MCA6IF9yZWYkc3BlZWQsCiAgICAgICAgX3JlZiR2b2ljZSA9IF9yZWYudm9pY2UsCiAgICAgICAgdm9pY2UgPSBfcmVmJHZvaWNlID09PSB2b2lkIDAgPyA1MCA6IF9yZWYkdm9pY2UsCiAgICAgICAgX3JlZiRwaXRjaCA9IF9yZWYucGl0Y2gsCiAgICAgICAgcGl0Y2ggPSBfcmVmJHBpdGNoID09PSB2b2lkIDAgPyA1MCA6IF9yZWYkcGl0Y2gsCiAgICAgICAgX3JlZiR0ZXh0ID0gX3JlZi50ZXh0LAogICAgICAgIHRleHQgPSBfcmVmJHRleHQgPT09IHZvaWQgMCA/ICcnIDogX3JlZiR0ZXh0LAogICAgICAgIF9yZWYkZW5naW5lVHlwZSA9IF9yZWYuZW5naW5lVHlwZSwKICAgICAgICBlbmdpbmVUeXBlID0gX3JlZiRlbmdpbmVUeXBlID09PSB2b2lkIDAgPyAnYWlzb3VuZCcgOiBfcmVmJGVuZ2luZVR5cGUsCiAgICAgICAgX3JlZiR2b2ljZU5hbWUgPSBfcmVmLnZvaWNlTmFtZSwKICAgICAgICB2b2ljZU5hbWUgPSBfcmVmJHZvaWNlTmFtZSA9PT0gdm9pZCAwID8gJ3hpYW95YW4nIDogX3JlZiR2b2ljZU5hbWUsCiAgICAgICAgX3JlZiRwbGF5QnRuID0gX3JlZi5wbGF5QnRuLAogICAgICAgIHBsYXlCdG4gPSBfcmVmJHBsYXlCdG4gPT09IHZvaWQgMCA/ICcuanMtYmFzZS1wbGF5JyA6IF9yZWYkcGxheUJ0biwKICAgICAgICBfcmVmJGRlZmF1bHRUZXh0ID0gX3JlZi5kZWZhdWx0VGV4dCwKICAgICAgICBkZWZhdWx0VGV4dCA9IF9yZWYkZGVmYXVsdFRleHQgPT09IHZvaWQgMCA/ICcnIDogX3JlZiRkZWZhdWx0VGV4dDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwZXJpZW5jZSk7CgogICAgdGhpcy5zcGVlZCA9IHNwZWVkOwogICAgdGhpcy52b2ljZSA9IHZvaWNlOwogICAgdGhpcy5waXRjaCA9IHBpdGNoOwogICAgdGhpcy50ZXh0ID0gdGV4dDsKICAgIHRoaXMuZGVmYXVsdFRleHQgPSBkZWZhdWx0VGV4dDsKICAgIHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGU7CiAgICB0aGlzLnZvaWNlTmFtZSA9IHZvaWNlTmFtZTsKICAgIHRoaXMucGxheUJ0biA9IHBsYXlCdG47CiAgICB0aGlzLnBsYXlTdGF0ZSA9ICcnOwogICAgdGhpcy5hdWRpb0RhdGFzID0gW107CiAgICB0aGlzLnBjbVBsYXlXb3JrID0gbmV3IFdvcmtlcignLi90cmFuc2Zvcm0ud29ya2VyLmpzJyk7CgogICAgdGhpcy5wY21QbGF5V29yay5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICBfdGhpcy5vbm1lc3NhZ2VXb3JrKGUpOwogICAgfTsKICB9CgogIF9jcmVhdGVDbGFzcyhFeHBlcmllbmNlLCBbewogICAga2V5OiAic2V0Q29uZmlnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb25maWcoX3JlZjIpIHsKICAgICAgdmFyIHNwZWVkID0gX3JlZjIuc3BlZWQsCiAgICAgICAgICB2b2ljZSA9IF9yZWYyLnZvaWNlLAogICAgICAgICAgcGl0Y2ggPSBfcmVmMi5waXRjaCwKICAgICAgICAgIHRleHQgPSBfcmVmMi50ZXh0LAogICAgICAgICAgZGVmYXVsdFRleHQgPSBfcmVmMi5kZWZhdWx0VGV4dCwKICAgICAgICAgIGVuZ2luZVR5cGUgPSBfcmVmMi5lbmdpbmVUeXBlLAogICAgICAgICAgdm9pY2VOYW1lID0gX3JlZjIudm9pY2VOYW1lOwogICAgICBzcGVlZCAmJiAodGhpcy5zcGVlZCA9IHNwZWVkKTsKICAgICAgdm9pY2UgJiYgKHRoaXMudm9pY2UgPSB2b2ljZSk7CiAgICAgIHBpdGNoICYmICh0aGlzLnBpdGNoID0gcGl0Y2gpOwogICAgICB0ZXh0ICYmICh0aGlzLnRleHQgPSB0ZXh0KTsKICAgICAgZGVmYXVsdFRleHQgJiYgKHRoaXMuZGVmYXVsdFRleHQgPSBkZWZhdWx0VGV4dCk7CiAgICAgIGVuZ2luZVR5cGUgJiYgKHRoaXMuZW5naW5lVHlwZSA9IGVuZ2luZVR5cGUpOwogICAgICB2b2ljZU5hbWUgJiYgKHRoaXMudm9pY2VOYW1lID0gdm9pY2VOYW1lKTsKICAgICAgdGhpcy5yZXNldEF1ZGlvKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25tZXNzYWdlV29yayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25tZXNzYWdlV29yayhlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc3dpdGNoIChlLmRhdGEuY29tbWFuZCkgewogICAgICAgIGNhc2UgJ25ld0F1ZGlvRGF0YSc6CiAgICAgICAgICB7CiAgICAgICAgICAgIHRoaXMuYXVkaW9EYXRhcy5wdXNoKGUuZGF0YS5kYXRhKTsKCiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlTdGF0ZSA9PT0gJ3R0c2luZycgJiYgdGhpcy5hdWRpb0RhdGFzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgIHRoaXMucGxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMi5hdWRpb1BsYXkoKTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRCdG5TdGF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QnRuU3RhdGUoc3RhdGUpIHsKICAgICAgdmFyIG9sZFN0YXRlID0gdGhpcy5wbGF5U3RhdGU7CiAgICAgIHRoaXMucGxheVN0YXRlID0gc3RhdGU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QXVkaW8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1ZGlvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuc2V0QnRuU3RhdGUoJ3R0c2luZycpOwogICAgICBnZXRXZWJzb2NrZXRVcmwoKS50aGVuKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICBfdGhpczMuY29ubmVjdFdlYnNvY2tldCh1cmwpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb25uZWN0V2Vic29ja2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0V2Vic29ja2V0KHVybCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICgnV2ViU29ja2V0JyBpbiB3aW5kb3cpIHsKICAgICAgICB0aGlzLndlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJsKTsKICAgICAgfSBlbHNlIGlmICgnTW96V2ViU29ja2V0JyBpbiB3aW5kb3cpIHsKICAgICAgICB0aGlzLndlYnNvY2tldCA9IG5ldyBNb3pXZWJTb2NrZXQodXJsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydChub3RTdXBwb3J0VGlwKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzZWxmID0gdGhpczsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIGNvbW1vbjogewogICAgICAgICAgICBhcHBfaWQ6IEFQUElEIC8vIEFQUElECgogICAgICAgICAgfSwKICAgICAgICAgIGJ1c2luZXNzOiB7CiAgICAgICAgICAgIGVudDogc2VsZi5lbmdpbmVUeXBlLAogICAgICAgICAgICBhdWU6ICdyYXcnLAogICAgICAgICAgICBhdWY6ICdhdWRpby9MMTY7cmF0ZT0xNjAwMCcsCiAgICAgICAgICAgIHZjbjogc2VsZi52b2ljZU5hbWUsCiAgICAgICAgICAgIHNwZWVkOiBzZWxmLnNwZWVkLAogICAgICAgICAgICB2b2x1bWU6IHNlbGYudm9pY2UgKiAxMCwKICAgICAgICAgICAgcGl0Y2g6IHNlbGYucGl0Y2gsCiAgICAgICAgICAgIC8vJ2Jncyc6IDEsCiAgICAgICAgICAgIHR0ZTogJ1VURjgnCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBzdGF0dXM6IDIsCiAgICAgICAgICAgIHRleHQ6IEJhc2U2NC5lbmNvZGUoc2VsZi50ZXh0IHx8IHNlbGYuZGVmYXVsdFRleHQgfHwgREVGQVVMVF9URVhUKQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIF90aGlzNC53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgfTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGpzb25EYXRhID0gSlNPTi5wYXJzZShlLmRhdGEpOyAvLyDlkIjmiJDlpLHotKUKCiAgICAgICAgaWYgKGpzb25EYXRhLmNvZGUgIT09IDApIHsKICAgICAgICAgIGFsZXJ0KCIiLmNvbmNhdChqc29uRGF0YS5jb2RlLCAiOiIpLmNvbmNhdChqc29uRGF0YS5tZXNzYWdlKSk7CiAgICAgICAgICBzZWxmLnJlc2V0QXVkaW8oKTsKCiAgICAgICAgICBfdGhpczQud2Vic29ja2V0LmNsb3NlKCk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5wY21QbGF5V29yay5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBjb21tYW5kOiAndHJhbnNEYXRhJywKICAgICAgICAgIGRhdGE6IGpzb25EYXRhLmRhdGEuYXVkaW8KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGpzb25EYXRhLmNvZGUgPT09IDAgJiYganNvbkRhdGEuZGF0YS5zdGF0dXMgPT09IDIpIHsKICAgICAgICAgIF90aGlzNC53ZWJzb2NrZXQuY2xvc2UoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICBjb25zb2xlLmxvZyhlLmRhdGEpOwogICAgICB9OwoKICAgICAgdGhpcy53ZWJzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAicmVzZXRBdWRpbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRBdWRpbygpIHsKICAgICAgdGhpcy5hdWRpb1BhdXNlKCk7CiAgICAgIHRoaXMuc2V0QnRuU3RhdGUoJ3VuVFRTJyk7CiAgICAgIHRoaXMuYXVkaW9EYXRhc0luZGV4ID0gMDsKICAgICAgdGhpcy5hdWRpb0RhdGFzID0gW107CiAgICAgIHRoaXMud2Vic29ja2V0ICYmIHRoaXMud2Vic29ja2V0LmNsb3NlKCk7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBsYXlUaW1lb3V0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdWRpb1BsYXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGF1ZGlvUGxheSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIWF1ZGlvQ3R4KSB7CiAgICAgICAgICBhdWRpb0N0eCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFhdWRpb0N0eCkgewogICAgICAgICAgYWxlcnQobm90U3VwcG9ydFRpcCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQobm90U3VwcG9ydFRpcCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmF1ZGlvRGF0YXNJbmRleCA9IDA7CgogICAgICBpZiAodGhpcy5hdWRpb0RhdGFzLmxlbmd0aCkgewogICAgICAgIHRoaXMucGxheVNvdXJjZSgpOwogICAgICAgIHRoaXMuc2V0QnRuU3RhdGUoJ3BsYXknKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldEF1ZGlvKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdWRpb1BhdXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdWRpb1BhdXNlKHN0YXRlKSB7CiAgICAgIGlmICh0aGlzLnBsYXlTdGF0ZSA9PT0gJ3BsYXknKSB7CiAgICAgICAgdGhpcy5zZXRCdG5TdGF0ZShzdGF0ZSB8fCAnZW5kUGxheScpOwogICAgICB9CgogICAgICBjbGVhclRpbWVvdXQodGhpcy5wbGF5VGltZW91dCk7CgogICAgICB0cnkgewogICAgICAgIHNvdXJjZSAmJiBzb3VyY2Uuc3RvcCgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJwbGF5U291cmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5U291cmNlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBidWZmZXJMZW5ndGggPSAwOwogICAgICB2YXIgZGF0YUxlbmd0aCA9IHRoaXMuYXVkaW9EYXRhcy5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gdGhpcy5hdWRpb0RhdGFzSW5kZXg7IGkgPCBkYXRhTGVuZ3RoOyBpKyspIHsKICAgICAgICBidWZmZXJMZW5ndGggKz0gdGhpcy5hdWRpb0RhdGFzW2ldLmxlbmd0aDsKICAgICAgfQoKICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyKDEsIGJ1ZmZlckxlbmd0aCwgMjIwNTApOwogICAgICB2YXIgb2Zmc2V0ID0gMDsKICAgICAgdmFyIG5vd0J1ZmZlcmluZyA9IGF1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhKDApOwoKICAgICAgZm9yICh2YXIgX2kgPSB0aGlzLmF1ZGlvRGF0YXNJbmRleDsgX2kgPCBkYXRhTGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGF1ZGlvRGF0YSA9IHRoaXMuYXVkaW9EYXRhc1tfaV07CgogICAgICAgIGlmIChhdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsKSB7CiAgICAgICAgICBhdWRpb0J1ZmZlci5jb3B5VG9DaGFubmVsKGF1ZGlvRGF0YSwgMCwgb2Zmc2V0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdWRpb0RhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgbm93QnVmZmVyaW5nW29mZnNldCArIGpdID0gYXVkaW9EYXRhW2pdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgb2Zmc2V0ICs9IGF1ZGlvRGF0YS5sZW5ndGg7CiAgICAgICAgdGhpcy5hdWRpb0RhdGFzSW5kZXgrKzsKICAgICAgfQoKICAgICAgc291cmNlID0gYXVkaW9DdHguY3JlYXRlQnVmZmVyU291cmNlKCk7CiAgICAgIHNvdXJjZS5idWZmZXIgPSBhdWRpb0J1ZmZlcjsKICAgICAgc291cmNlLmNvbm5lY3QoYXVkaW9DdHguZGVzdGluYXRpb24pOwogICAgICBzb3VyY2Uuc3RhcnQoKTsKCiAgICAgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgaWYgKF90aGlzNS5wbGF5U3RhdGUgIT09ICdwbGF5JykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzNS5hdWRpb0RhdGFzSW5kZXggPCBfdGhpczUuYXVkaW9EYXRhcy5sZW5ndGgpIHsKICAgICAgICAgIF90aGlzNS5wbGF5U291cmNlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS5hdWRpb1BhdXNlKCdlbmRQbGF5Jyk7CiAgICAgICAgfQogICAgICB9OwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEV4cGVyaWVuY2U7Cn0oKTsKCnZhciBleHBlcmllbmNlID0gbmV3IEV4cGVyaWVuY2UoewogIHNwZWVkOiA1MCwKICB2b2ljZTogNTAsCiAgcGl0Y2g6IDUwLAogIHBsYXlCdG46ICIuYXVkaW8tY3RybC1idG4iCn0pOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGV0YWlsVGl0bGU6IERldGFpbFRpdGxlLAogICAgQm9va0luZm86IEJvb2tJbmZvLAogICAgU2Nyb2xsOiBTY3JvbGwsCiAgICBTcGVha1BsYXlpbmc6IFNwZWFrUGxheWluZywKICAgIEJvdHRvbTogQm90dG9tLAogICAgU3BlYWtXaW5kb3c6IFNwZWFrV2luZG93CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g6Z+z6aKR5b2T5YmN5pKt5pS+55qE5YiG6ZKf5pWwCiAgICBjdXJyZW50TWludXRlOiBmdW5jdGlvbiBjdXJyZW50TWludXRlKCkgewogICAgICB2YXIgbSA9IE1hdGguZmxvb3IodGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLyA2MCk7CiAgICAgIHJldHVybiBtIDwgMTAgPyAnMCcgKyBtIDogbTsKICAgIH0sCiAgICAvLyDpn7PpopHlvZPliY3mkq3mlL7nmoTnp5LmlbAKICAgIGN1cnJlbnRTZWNvbmQ6IGZ1bmN0aW9uIGN1cnJlbnRTZWNvbmQoKSB7CiAgICAgIHZhciBzID0gTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRQbGF5aW5nVGltZSAtIHBhcnNlSW50KHRoaXMuY3VycmVudE1pbnV0ZSkgKiA2MCk7CiAgICAgIHJldHVybiBzIDwgMTAgPyAnMCcgKyBzIDogczsKICAgIH0sCiAgICAvLyDpn7PpopHnmoTmgLvml7bplb8KICAgIHRvdGFsTWludXRlOiBmdW5jdGlvbiB0b3RhbE1pbnV0ZSgpIHsKICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKHRoaXMudG90YWxQbGF5aW5nVGltZSAvIDYwKTsKICAgICAgcmV0dXJuIG0gPCAxMCA/ICcwJyArIG0gOiBtOwogICAgfSwKICAgIC8vIOmfs+mikeeahOaAu+enkuaVsAogICAgdG90YWxTZWNvbmQ6IGZ1bmN0aW9uIHRvdGFsU2Vjb25kKCkgewogICAgICB2YXIgcyA9IE1hdGguZmxvb3IodGhpcy50b3RhbFBsYXlpbmdUaW1lIC0gcGFyc2VJbnQodGhpcy50b3RhbE1pbnV0ZSkgKiA2MCk7CiAgICAgIHJldHVybiBzIDwgMTAgPyAnMCcgKyBzIDogczsKICAgIH0sCiAgICAvLyDpn7PpopHnmoTliankvZnliIbpkp/mlbAKICAgIGxlZnRNaW51dGU6IGZ1bmN0aW9uIGxlZnRNaW51dGUoKSB7CiAgICAgIHZhciBtID0gTWF0aC5mbG9vcigodGhpcy50b3RhbFBsYXlpbmdUaW1lIC0gdGhpcy5jdXJyZW50UGxheWluZ1RpbWUpIC8gNjApOwogICAgICByZXR1cm4gbSA8IDEwID8gJzAnICsgbSA6IG07CiAgICB9LAogICAgLy8g6Z+z6aKR55qE5Ymp5L2Z56eS5pWwCiAgICBsZWZ0U2Vjb25kOiBmdW5jdGlvbiBsZWZ0U2Vjb25kKCkgewogICAgICB2YXIgcyA9IE1hdGguZmxvb3IodGhpcy50b3RhbFBsYXlpbmdUaW1lIC0gdGhpcy5jdXJyZW50UGxheWluZ1RpbWUgLSBwYXJzZUludCh0aGlzLmxlZnRNaW51dGUpICogNjApOwogICAgICByZXR1cm4gcyA8IDEwID8gJzAnICsgcyA6IHM7CiAgICB9LAogICAgLy8g5pKt5pS+5L+h5oGv5a+56LGhCiAgICBwbGF5SW5mbzogZnVuY3Rpb24gcGxheUluZm8oKSB7CiAgICAgIGlmICh0aGlzLmF1ZGlvQ2FuUGxheSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjdXJyZW50TWludXRlOiB0aGlzLmN1cnJlbnRNaW51dGUsCiAgICAgICAgICBjdXJyZW50U2Vjb25kOiB0aGlzLmN1cnJlbnRTZWNvbmQsCiAgICAgICAgICB0b3RhbE1pbnV0ZTogdGhpcy50b3RhbE1pbnV0ZSwKICAgICAgICAgIHRvdGFsU2Vjb25kOiB0aGlzLnRvdGFsU2Vjb25kLAogICAgICAgICAgbGVmdE1pbnV0ZTogdGhpcy5sZWZ0TWludXRlLAogICAgICAgICAgbGVmdFNlY29uZDogdGhpcy5sZWZ0U2Vjb25kCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8vIOeUteWtkOS5pueahOivreenjQogICAgbGFuZzogZnVuY3Rpb24gbGFuZygpIHsKICAgICAgcmV0dXJuIHRoaXMubWV0YWRhdGEgPyB0aGlzLm1ldGFkYXRhLmxhbmd1YWdlIDogJyc7CiAgICB9LAogICAgLy8g5b2T5pKt5pS+6Z2i5p2/5pi+56S65pe277yM56aB55So5rua5Yqo5p2h77yI6Kej5Yaz5LqL5Lu256m/6YCP6Zeu6aKY77yJCiAgICBkaXNhYmxlU2Nyb2xsOiBmdW5jdGlvbiBkaXNhYmxlU2Nyb2xsKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5zcGVha1dpbmRvdykgewogICAgICAgIHJldHVybiB0aGlzLiRyZWZzLnNwZWFrV2luZG93LnZpc2libGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g5piv5ZCm5bqV6YOo55qE5pKt5pS+6Z2i5p2/CiAgICBzaG93UGxheTogZnVuY3Rpb24gc2hvd1BsYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLnBsYXlpbmdJbmRleCA+PSAwOwogICAgfSwKICAgIC8vIOa7muWKqOadoei3neW6lemDqOi3neemu++8jOW9k+aYvuekuuaSreaUvumdouadv+aXtuS4ujExNuWDj+e0oO+8jOS4jeaYvuekuuaXtuS4ujUy5YOP57SgCiAgICBzY3JvbGxCb3R0b206IGZ1bmN0aW9uIHNjcm9sbEJvdHRvbSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd1BsYXkgPyAxMTYgOiA1MjsKICAgIH0sCiAgICAvLyDlvZPliY3nq6DoioLkv6Hmga8KICAgIGNoYXB0ZXI6IGZ1bmN0aW9uIGNoYXB0ZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmZsYXROYXZpZ2F0aW9uW3RoaXMucGxheWluZ0luZGV4XTsKICAgIH0sCiAgICAvLyDnlLXlrZDkuabmkZjopoHkv6Hmga8KICAgIGRlc2M6IGZ1bmN0aW9uIGRlc2MoKSB7CiAgICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDEwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgLy8g5LiA57u05pWw57uE55qE55uu5b2VCiAgICBmbGF0TmF2aWdhdGlvbjogZnVuY3Rpb24gZmxhdE5hdmlnYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLm5hdmlnYXRpb24pIHsKICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdGhpcy5kb0ZsYXROYXZpZ2F0aW9uKHRoaXMubmF2aWdhdGlvbi50b2MpKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8g55S15a2Q5Lmm5YiG57G7CiAgICBjYXRlZ29yeTogZnVuY3Rpb24gY2F0ZWdvcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLmJvb2tJdGVtID8gZ2V0Q2F0ZWdvcnlOYW1lKHRoaXMuYm9va0l0ZW0uY2F0ZWdvcnkpIDogJyc7CiAgICB9LAogICAgLy8g55S15a2Q5Lmm5Lmm5ZCNCiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhID8gdGhpcy5tZXRhZGF0YS50aXRsZSA6ICcnOwogICAgfSwKICAgIC8vIOeUteWtkOS5puS9nOiAhQogICAgYXV0aG9yOiBmdW5jdGlvbiBhdXRob3IoKSB7CiAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhID8gdGhpcy5tZXRhZGF0YS5jcmVhdG9yIDogJyc7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9va0l0ZW06IG51bGwsCiAgICAgIGJvb2s6IG51bGwsCiAgICAgIHJlbmRpdGlvbjogbnVsbCwKICAgICAgbWV0YWRhdGE6IG51bGwsCiAgICAgIGNvdmVyOiBudWxsLAogICAgICBuYXZpZ2F0aW9uOiBudWxsLAogICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgaWZTaG93Q29udGVudDogdHJ1ZSwKICAgICAgcGxheWluZ0luZGV4OiAtMSwKICAgICAgcGFyYWdyYXBoOiBudWxsLAogICAgICBjdXJyZW50U2VjdGlvbkluZGV4OiBudWxsLAogICAgICBjdXJyZW50U2VjdGlvblRvdGFsOiBudWxsLAogICAgICBzZWN0aW9uOiBudWxsLAogICAgICBpc1BsYXlpbmc6IGZhbHNlLAogICAgICBhdWRpbzogbnVsbCwKICAgICAgYXVkaW9DYW5QbGF5OiBmYWxzZSwKICAgICAgY3VycmVudFBsYXlpbmdUaW1lOiAwLAogICAgICB0b3RhbFBsYXlpbmdUaW1lOiAwLAogICAgICBwbGF5U3RhdHVzOiAwLAogICAgICAvLyAwIC0g5pyq5pKt5pS+77yMMSAtIOaSreaUvuS4re+8jDIgLSDmmoLlgZzkuK0KICAgICAgdG9hc3RUZXh0OiAnJywKICAgICAgaXNPbmxpbmU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Zyo57q/6K+t6Z+z5ZCI5oiQCiAgICBjcmVhdGVWb2ljZTogZnVuY3Rpb24gY3JlYXRlVm9pY2UodGV4dCkgewogICAgICBjb25zb2xlLmxvZygn5Zyo57q/6K+t6Z+z5ZCI5oiQJywgdGV4dCk7CgogICAgICBpZiAodGV4dCAhPT0gZXhwZXJpZW5jZS50ZXh0KSB7CiAgICAgICAgZXhwZXJpZW5jZS5zZXRDb25maWcoewogICAgICAgICAgdGV4dDogdGV4dAogICAgICAgIH0pOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhleHBlcmllbmNlKTsKCiAgICAgIGlmIChleHBlcmllbmNlLnBsYXlTdGF0ZSA9PT0gJ3BsYXknKSB7CiAgICAgICAgZXhwZXJpZW5jZS5hdWRpb1BhdXNlKCk7CiAgICAgICAgdGhpcy5yZXNldFBsYXkoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBleHBlcmllbmNlLmF1ZGlvUGxheSgpOwogICAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLnBsYXlTdGF0dXMgPSAxOwogICAgICB9IC8vIGNvbnN0IHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKQogICAgICAvLyAvLyDliJvlu7pIVFRQ6K+35rGC77yM5ZCM5q2l5o6l5pS257uT5p6cCiAgICAgIC8vIHhtbGh0dHAub3BlbignR0VUJywgYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9WT0lDRV9VUkx9L3ZvaWNlP3RleHQ9JHt0ZXh0fSZsYW5nPSR7dGhpcy5sYW5nLnRvTG93ZXJDYXNlKCl9YCwgZmFsc2UpCiAgICAgIC8vIC8vIOWPkemAgeivt+axggogICAgICAvLyB4bWxodHRwLnNlbmQoKQogICAgICAvLyAvLyDojrflj5blk43lupTlhoXlrrkKICAgICAgLy8gY29uc3QgeG1sRG9jID0geG1saHR0cC5yZXNwb25zZVRleHQKICAgICAgLy8gaWYgKHhtbERvYykgewogICAgICAvLyAgIC8vIOino+aekOWTjeW6lOWGheWuuQogICAgICAvLyAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKHhtbERvYykKICAgICAgLy8gICBpZiAoanNvbi5wYXRoKSB7CiAgICAgIC8vICAgICAvLyBwYXRo5Li66K+t6Z+z5ZCI5oiQ55Sf5oiQ55qETVAz5paH5Lu25LiL6L296Lev5b6E77yM5bCG6K+l6Lev5b6E6LWL5YC8YXVkaW8uc3JjCiAgICAgIC8vICAgICAvLyBhdWRpb+aOp+S7tuS8muiHquWKqOWKoOi9vemfs+mikeaWh+S7tgogICAgICAvLyAgICAgdGhpcy4kcmVmcy5hdWRpby5zcmMgPSBqc29uLnBhdGgKICAgICAgLy8gICAgIC8vIOiHquWKqOaSreaUvk1QMwogICAgICAvLyAgICAgdGhpcy5jb250aW51ZVBsYXkoKQogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICB0aGlzLnNob3dUb2FzdCgn5pKt5pS+5aSx6LSl77yM5pyq55Sf5oiQ6ZO+5o6lJykKICAgICAgLy8gICB9CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgdGhpcy5zaG93VG9hc3QoJ+aSreaUvuWksei0pScpCiAgICAgIC8vIH0KCiAgICB9LAogICAgLy8g5YiH5o2i5pKt5pS+54q25oCB77yM5aaC5p6c5aSE5LqO5pKt5pS+54q25oCB5YiZ5pqC5YGc77yM5aaC5p6c5aSE5LqO5pqC5YGc54q25oCB77yM5YiZ5pKt5pS+CiAgICAvLyDms6jmhI/nirbmgIEw5ZKM54q25oCBMuaYr+S4jemAmueahAogICAgLy8g54q25oCBMCDooajnpLrov5jmnKrmkq3mlL7vvIzmiYDku6XpnIDopoHlhYjov5vooYzor63pn7PlkIjmiJAKICAgIC8vIOeKtuaAgTIg6KGo56S65bey57uP5ZCI5oiQ77yM5omA5Lul55u05o6l6L+b6KGM5pKt5pS+5Y2z5Y+vCiAgICB0b2dnbGVQbGF5OiBmdW5jdGlvbiB0b2dnbGVQbGF5KCkgewogICAgICBpZiAoIXRoaXMuaXNQbGF5aW5nKSB7CiAgICAgICAgaWYgKHRoaXMucGxheVN0YXR1cyA9PT0gMCkgewogICAgICAgICAgdGhpcy5wbGF5KCk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09IDIpIHsKICAgICAgICAgIHRoaXMuY29udGludWVQbGF5KCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGF1c2VQbGF5KCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnlJ/miJDor63pn7PlkIjmiJDnmoTmlofmnKzkv6Hmga8KICAgIHNwZWFrOiBmdW5jdGlvbiBzcGVhayhpdGVtLCBpbmRleCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIC8vIOmHjee9ruaSreaUvueKtuaAge+8jOWBnOatouS4gOWIh+aSreaUvgogICAgICB0aGlzLnJlc2V0UGxheSgpOwogICAgICB0aGlzLnBsYXlpbmdJbmRleCA9IGluZGV4OwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRyZWZzLnNjcm9sbC5yZWZyZXNoKCk7CgogICAgICAgIGlmIChfdGhpczYuY2hhcHRlcikgewogICAgICAgICAgLy8g6I635Y+W5b2T5YmN54K55Ye755qE56ug6IqC5L+h5oGvCiAgICAgICAgICBfdGhpczYuc2VjdGlvbiA9IF90aGlzNi5ib29rLnNwaW5lLmdldChfdGhpczYuY2hhcHRlci5ocmVmKTsgLy8g5riy5p+T56ug6IqCCgogICAgICAgICAgX3RoaXM2LnJlbmRpdGlvbi5kaXNwbGF5KF90aGlzNi5zZWN0aW9uLmhyZWYpLnRoZW4oZnVuY3Rpb24gKHNlY3Rpb24pIHsKICAgICAgICAgICAgLy8g6I635Y+W5b2T5YmN5L2N572u5a+56LGhCiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IF90aGlzNi5yZW5kaXRpb24uY3VycmVudExvY2F0aW9uKCk7CgogICAgICAgICAgICB2YXIgY2ZpYmFzZSA9IHNlY3Rpb24uY2ZpQmFzZTsKICAgICAgICAgICAgdmFyIGNmaXN0YXJ0ID0gY3VycmVudFBhZ2Uuc3RhcnQuY2ZpLnJlcGxhY2UoLy4qIS8sICcnKS5yZXBsYWNlKC9cKS8sICcnKTsKICAgICAgICAgICAgdmFyIGNmaWVuZCA9IGN1cnJlbnRQYWdlLmVuZC5jZmkucmVwbGFjZSgvLiohLywgJycpLnJlcGxhY2UoL1wpLywgJycpOwogICAgICAgICAgICBfdGhpczYuY3VycmVudFNlY3Rpb25JbmRleCA9IGN1cnJlbnRQYWdlLnN0YXJ0LmRpc3BsYXllZC5wYWdlOwogICAgICAgICAgICBfdGhpczYuY3VycmVudFNlY3Rpb25Ub3RhbCA9IGN1cnJlbnRQYWdlLnN0YXJ0LmRpc3BsYXllZC50b3RhbDsgLy8g5ZCI5oiQY2Zp5L+h5oGvCgogICAgICAgICAgICB2YXIgY2ZpID0gImVwdWJjZmkoIi5jb25jYXQoY2ZpYmFzZSwgIiEsIikuY29uY2F0KGNmaXN0YXJ0LCAiLCIpLmNvbmNhdChjZmllbmQsICIpIik7IC8vIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlLCBjZmksIGNmaWJhc2UsIGNmaXN0YXJ0LCBjZmllbmQpCiAgICAgICAgICAgIC8vIOmAmui/h0Jvb2suZ2V0UmFuZ2UoY2ZpKeaWueazleiOt+WPluaMh+WumueJh+auteeahGNmaeWvueW6lOeahOaWh+acrAoKICAgICAgICAgICAgX3RoaXM2LmJvb2suZ2V0UmFuZ2UoY2ZpKS50aGVuKGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgICAgICAgIC8vIOiOt+WPlueroOiKgueJh+auteeahOaWh+acrOS/oeaBrwogICAgICAgICAgICAgIHZhciB0ZXh0ID0gcmFuZ2UudG9Mb2NhbGVTdHJpbmcoKTsgLy8g5a+55paH5pys5L+h5oGv6L+b6KGM6L+H5ruk77yM5Y676Zmk5YW25Lit55qE56m65qC877yI5rOo5oSP5pivMuS4quepuuagvO+8jDHkuKrnqbrmoLzmmK/lkIjnkIbnmoTvvInjgIHmjaLooYznrKbnrYnnibnmrorlrZfnrKYKCiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXHMoMiwpL2csICcnKTsKICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cci9nLCAnJyk7CiAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXG4vZywgJycpOwogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1x0L2csICcnKTsKICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cZi9nLCAnJyk7IC8vIOabtOaWsOivremfs+WQiOaIkOeahOaWh+acrOS/oeaBrwoKICAgICAgICAgICAgICBfdGhpczYudXBkYXRlVGV4dCh0ZXh0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjee9ruaSreaUvueKtuaAgQogICAgcmVzZXRQbGF5OiBmdW5jdGlvbiByZXNldFBsYXkoKSB7CiAgICAgIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09IDEpIHsKICAgICAgICB0aGlzLnBhdXNlUGxheSgpOwogICAgICB9CgogICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlOwogICAgICB0aGlzLnBsYXlTdGF0dXMgPSAwOwogICAgfSwKICAgIC8vIOS7juWktOW8gOWni+ivremfs+WQiOaIkOW5tuaSreaUvgogICAgcGxheTogZnVuY3Rpb24gcGxheSgpIHsKICAgICAgdGhpcy5jcmVhdGVWb2ljZSh0aGlzLnBhcmFncmFwaCk7CiAgICB9LAogICAgLy8g57un57ut5pKt5pS+CiAgICBjb250aW51ZVBsYXk6IGZ1bmN0aW9uIGNvbnRpbnVlUGxheSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmF1ZGlvLnBsYXkoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDmmL7npLrmkq3mlL7liqjnlLsKICAgICAgICBfdGhpczcuJHJlZnMuc3BlYWtQbGF5aW5nWzBdLnN0YXJ0QW5pbWF0aW9uKCk7CgogICAgICAgIF90aGlzNy5pc1BsYXlpbmcgPSB0cnVlOwogICAgICAgIF90aGlzNy5wbGF5U3RhdHVzID0gMTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pqC5YGc5pKt5pS+CiAgICBwYXVzZVBsYXk6IGZ1bmN0aW9uIHBhdXNlUGxheSgpIHsKICAgICAgdGhpcy4kcmVmcy5hdWRpby5wYXVzZSgpOyAvLyDmmoLlgZzmkq3mlL7liqjnlLsKCiAgICAgIHRoaXMuJHJlZnMuc3BlYWtQbGF5aW5nWzBdLnN0b3BBbmltYXRpb24oKTsKICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wbGF5U3RhdHVzID0gMjsKICAgIH0sCiAgICAvLyDlvZPmkq3mlL7nu5PmnZ/ml7bvvIzliLfmlrDmkq3mlL7kv6Hmga8KICAgIG9uQXVkaW9FbmRlZDogZnVuY3Rpb24gb25BdWRpb0VuZGVkKCkgewogICAgICB0aGlzLnJlc2V0UGxheSgpOwogICAgICB0aGlzLmN1cnJlbnRQbGF5aW5nVGltZSA9IHRoaXMuJHJlZnMuYXVkaW8uY3VycmVudFRpbWU7CiAgICAgIHZhciBwZXJjZW50ID0gTWF0aC5mbG9vcih0aGlzLmN1cnJlbnRQbGF5aW5nVGltZSAvIHRoaXMudG90YWxQbGF5aW5nVGltZSAqIDEwMCk7CiAgICAgIHRoaXMuJHJlZnMuc3BlYWtXaW5kb3cucmVmcmVzaFByb2dyZXNzKHBlcmNlbnQpOwogICAgfSwKICAgIC8vIOW9k+aSreaUvui/m+ihjOaXtu+8jOWIt+aWsOaSreaUvuS/oeaBrwogICAgb25UaW1lVXBkYXRlOiBmdW5jdGlvbiBvblRpbWVVcGRhdGUoKSB7CiAgICAgIHRoaXMuY3VycmVudFBsYXlpbmdUaW1lID0gdGhpcy4kcmVmcy5hdWRpby5jdXJyZW50VGltZTsKICAgICAgdmFyIHBlcmNlbnQgPSBNYXRoLmZsb29yKHRoaXMuY3VycmVudFBsYXlpbmdUaW1lIC8gdGhpcy50b3RhbFBsYXlpbmdUaW1lICogMTAwKTsKICAgICAgdGhpcy4kcmVmcy5zcGVha1dpbmRvdy5yZWZyZXNoUHJvZ3Jlc3MocGVyY2VudCk7CiAgICB9LAogICAgLy8g6LCD55SoYXVkaW8uc3Jj5pe277yMYXVkaW/mjqfku7bkvJrosIPnlKhjYW5wbGF55LqL5Lu2CiAgICAvLyDmraTml7bmiJHku6zlj6/ku6Xojrflj5bmgLvmkq3mlL7ml7bplb/lkozlvZPliY3mkq3mlL7ml7bplb8KICAgIG9uQ2FuUGxheTogZnVuY3Rpb24gb25DYW5QbGF5KCkgewogICAgICB0aGlzLmF1ZGlvQ2FuUGxheSA9IHRydWU7CiAgICAgIHRoaXMuY3VycmVudFBsYXlpbmdUaW1lID0gdGhpcy4kcmVmcy5hdWRpby5jdXJyZW50VGltZTsKICAgICAgdGhpcy50b3RhbFBsYXlpbmdUaW1lID0gdGhpcy4kcmVmcy5hdWRpby5kdXJhdGlvbjsKICAgIH0sCiAgICAvLyDpgJrov4dBUEnmib7liLDlvZPliY3nlLXlrZDkuabnmoTor6bmg4XmlbDmja4KICAgIGZpbmRCb29rRnJvbUxpc3Q6IGZ1bmN0aW9uIGZpbmRCb29rRnJvbUxpc3QoZmlsZU5hbWUpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICBmbGF0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICB2YXIgYm9va0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmZpbGVOYW1lID09PSBmaWxlTmFtZTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChib29rTGlzdCAmJiBib29rTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIF90aGlzOC5ib29rSXRlbSA9IGJvb2tMaXN0WzBdOwoKICAgICAgICAgICAgX3RoaXM4LmluaXQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIneWni+WMluWPguaVsOS/oeaBrwogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICB2YXIgZmlsZU5hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5maWxlTmFtZTsKCiAgICAgIGlmICghdGhpcy5ib29rSXRlbSkgewogICAgICAgIHRoaXMuYm9va0l0ZW0gPSBmaW5kQm9vayhmaWxlTmFtZSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmJvb2tJdGVtKSB7CiAgICAgICAgLy8g5aaC5p6c55S15a2Q5Lmm5bey57uP57yT5a2Y77yM5YiZ55u05o6l5LuOSW5kZXhlZERC5pWw5o2u5bqT5Lit6I635Y+WCiAgICAgICAgZ2V0TG9jYWxGb3JhZ2UoZmlsZU5hbWUsIGZ1bmN0aW9uIChlcnIsIGJsb2IpIHsKICAgICAgICAgIGlmIChlcnIgfHwgIWJsb2IpIHsKICAgICAgICAgICAgLy8g5aaC5p6c6I635Y+W57yT5a2Y5aSx6LSl77yM5YiZ5ou85o6lb3Bm5paH5Lu25p2l6I635Y+W55S15a2Q5LmmCiAgICAgICAgICAgIF90aGlzOS5pc09ubGluZSA9IHRydWU7CiAgICAgICAgICAgIHZhciBvcGYgPSBfdGhpczkuJHJvdXRlLnF1ZXJ5Lm9wZjsKCiAgICAgICAgICAgIGlmIChvcGYpIHsKICAgICAgICAgICAgICBfdGhpczkucGFyc2VCb29rKG9wZik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzOS5pc09ubGluZSA9IGZhbHNlOyAvLyDop6PmnpDnlLXlrZDkuaYKCiAgICAgICAgICAgIF90aGlzOS5wYXJzZUJvb2soYmxvYik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maW5kQm9va0Zyb21MaXN0KGZpbGVOYW1lKTsKICAgICAgfQogICAgfSwKICAgIC8vIOino+aekOeUteWtkOS5pgogICAgcGFyc2VCb29rOiBmdW5jdGlvbiBwYXJzZUJvb2soYmxvYikgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICAvLyDop6PmnpDnlLXlrZDkuaYKICAgICAgdGhpcy5ib29rID0gbmV3IEVwdWIoYmxvYik7IC8vIOiOt+WPlueUteWtkOS5pueahG1ldGFkYXRhCgogICAgICB0aGlzLmJvb2subG9hZGVkLm1ldGFkYXRhLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7CiAgICAgICAgX3RoaXMxMC5tZXRhZGF0YSA9IG1ldGFkYXRhOwogICAgICB9KTsgLy8g5aaC5p6c5piv5Zyo57q/6I635Y+W55qE55S15a2Q5Lmm77yM5YiZ6YCa6L+HQm9vay5jb3ZlclVybCgp5pa55rOV6I635Y+W5bCB6Z2i6ZO+5o6lCgogICAgICBpZiAodGhpcy5pc09ubGluZSkgewogICAgICAgIHRoaXMuYm9vay5jb3ZlclVybCgpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgX3RoaXMxMC5jb3ZlciA9IHVybDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzmmK/mnKzlnLDojrflj5bnmoTnlLXlrZDkuabvvIzpgJrov4dCb29rLmxvYWRlZC5jb3ZlcuaWueazleiOt+WPluWwgemdoumTvuaOpe+8iOWKoOW/q+WwgemdouiOt+WPlumAn+W6pu+8iQogICAgICAgIHRoaXMuYm9vay5sb2FkZWQuY292ZXIudGhlbihmdW5jdGlvbiAoY292ZXIpIHsKICAgICAgICAgIF90aGlzMTAuYm9vay5hcmNoaXZlLmNyZWF0ZVVybChjb3ZlcikudGhlbihmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgIF90aGlzMTAuY292ZXIgPSB1cmw7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSAvLyDojrflj5bnlLXlrZDkuabnmoTnm67lvZXkv6Hmga8KCgogICAgICB0aGlzLmJvb2subG9hZGVkLm5hdmlnYXRpb24udGhlbihmdW5jdGlvbiAobmF2KSB7CiAgICAgICAgX3RoaXMxMC5uYXZpZ2F0aW9uID0gbmF2OwogICAgICB9KTsgLy8g5riy5p+T55S15a2Q5LmmCgogICAgICB0aGlzLmRpc3BsYXkoKTsKICAgIH0sCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIC8vIOWkhOeQhua7muWKqOadoeeahOS6i+S7tu+8jOWGs+Wumuagh+mimOmYtOW9seaYr+WQpuWxleekugogICAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKG9mZnNldFkpIHsKICAgICAgaWYgKG9mZnNldFkgPiByZWFsUHgoNDIpKSB7CiAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5zaG93U2hhZG93KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy50aXRsZS5oaWRlU2hhZG93KCk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVDb250ZW50OiBmdW5jdGlvbiB0b2dnbGVDb250ZW50KCkgewogICAgICB0aGlzLmlmU2hvd0NvbnRlbnQgPSAhdGhpcy5pZlNob3dDb250ZW50OwogICAgfSwKICAgIC8vIOa4suafk+eUteWtkOS5pgogICAgZGlzcGxheTogZnVuY3Rpb24gZGlzcGxheSgpIHsKICAgICAgdmFyIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuOSAtIHJlYWxQeCg0MCkgLSByZWFsUHgoNTQpIC0gcmVhbFB4KDQ2KSAtIHJlYWxQeCg0OCkgLSByZWFsUHgoNjApIC0gcmVhbFB4KDQ0KTsKICAgICAgdGhpcy5yZW5kaXRpb24gPSB0aGlzLmJvb2sucmVuZGVyVG8oJ3JlYWQnLCB7CiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICAgIG1ldGhvZDogJ2RlZmF1bHQnCiAgICAgIH0pOwogICAgICB0aGlzLnJlbmRpdGlvbi5kaXNwbGF5KCk7CiAgICB9LAogICAgZG9GbGF0TmF2aWdhdGlvbjogZnVuY3Rpb24gZG9GbGF0TmF2aWdhdGlvbihjb250ZW50KSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgIHZhciBkZWVwID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxOwogICAgICB2YXIgYXJyID0gW107CiAgICAgIGNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uZGVlcCA9IGRlZXA7CiAgICAgICAgYXJyLnB1c2goaXRlbSk7CgogICAgICAgIGlmIChpdGVtLnN1Yml0ZW1zICYmIGl0ZW0uc3ViaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgYXJyLnB1c2goX3RoaXMxMS5kb0ZsYXROYXZpZ2F0aW9uKGl0ZW0uc3ViaXRlbXMsIGRlZXAgKyAxKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICBzaG93VG9hc3Q6IGZ1bmN0aW9uIHNob3dUb2FzdCh0ZXh0KSB7CiAgICAgIHRoaXMuc2ltcGxlVG9hc3QodGV4dCk7CiAgICB9LAogICAgb25QbGF5aW5nQ2FyZENsaWNrOiBmdW5jdGlvbiBvblBsYXlpbmdDYXJkQ2xpY2soKSB7CiAgICAgIHRoaXMuJHJlZnMuc3BlYWtXaW5kb3cuc2hvdygpOwogICAgfSwKICAgIHVwZGF0ZVRleHQ6IGZ1bmN0aW9uIHVwZGF0ZVRleHQodGV4dCkgewogICAgICB0aGlzLnBhcmFncmFwaCA9IHRleHQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["StoreSpeaking.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 听书组件 -->\r\n<template>\r\n  <div class=\"book-speaking\">\r\n    <!-- title -->\r\n    <detail-title @back=\"back\" ref=\"title\"></detail-title>\r\n    <scroll\r\n      class=\"content-wrapper\"\r\n      :top=\"42\"\r\n      :bottom=\"scrollBottom\"\r\n      :ifNoScroll=\"disableScroll\"\r\n      @onScroll=\"onScroll\"\r\n      ref=\"scroll\"\r\n    >\r\n      <!-- 图书详情 -->\r\n      <book-info :cover=\"cover\" :title=\"title\" :author=\"author\" :desc=\"desc\"></book-info>\r\n      <div class=\"book-speak-title-wrapper\">\r\n        <div class=\"icon-speak-wrapper\">\r\n          <span class=\"icon-speak\"></span>\r\n        </div>\r\n        <div class=\"speak-title-wrapper\">\r\n          <span class=\"speak-title\">{{$t('speak.voice')}}</span>\r\n        </div>\r\n        <div class=\"icon-down-wrapper\" @click=\"toggleContent\">\r\n          <span\r\n            :class=\"{'icon-down2': !ifShowContent, 'icon-up': ifShowContent}\"\r\n          ></span>\r\n        </div>\r\n      </div>\r\n      <!-- 图书章节详情 -->\r\n      <div class=\"book-detail-content-wrapper\" v-show=\"ifShowContent\">\r\n        <div class=\"book-detail-content-list-wrapper\">\r\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\r\n            <span class=\"loading-text\">{{$t('detail.loading')}}</span>\r\n          </div>\r\n          <div class=\"book-detail-content-item-wrapper\">\r\n            <div\r\n              class=\"book-detail-content-item\"\r\n              v-for=\"(item, index) in flatNavigation\"\r\n              :key=\"index\"\r\n              @click=\"speak(item, index)\"\r\n            >\r\n              <!-- 播放动画 -->\r\n              <speak-playing\r\n                v-if=\"playingIndex === index\"\r\n                :number=\"5\"\r\n                ref=\"speakPlaying\"\r\n              ></speak-playing>\r\n              <div\r\n                class=\"book-detail-content-navigation-text\"\r\n                :class=\"{'is-playing': playingIndex === index}\"\r\n                v-if=\"item.label\"\r\n              >{{item.label}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 播放器 -->\r\n      <audio\r\n        @canplay=\"onCanPlay\"\r\n        @timeupdate=\"onTimeUpdate\"\r\n        @ended=\"onAudioEnded\"\r\n        ref=\"audio\"\r\n      ></audio>\r\n    </scroll>\r\n    <!-- 播放面板-->\r\n    <bottom\r\n      :chapter=\"chapter\"\r\n      :currentSectionIndex=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :showPlay=\"showPlay\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @onPlayingCardClick=\"onPlayingCardClick\"\r\n    ></bottom>\r\n    <!-- 挂载电子书-->\r\n    <div class=\"book-wrapper\">\r\n      <div id=\"read\"></div>\r\n    </div>\r\n    <speak-window\r\n      :title=\"this.chapter ? this.chapter.label : ''\"\r\n      :book=\"book\"\r\n      :section=\"section\"\r\n      :currentSectionIndex.sync=\"currentSectionIndex\"\r\n      :currentSectionTotal=\"currentSectionTotal\"\r\n      :isPlaying.sync=\"isPlaying\"\r\n      :playInfo=\"playInfo\"\r\n      @updateText=\"updateText\"\r\n      ref=\"speakWindow\"\r\n    ></speak-window>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import DetailTitle from '../../components/detail/DetailTitle'\r\n  import BookInfo from '../../components/detail/BookInfo'\r\n  import Scroll from '../../components/common/Scroll'\r\n  import SpeakPlaying from '../../components/speak/SpeakPlaying'\r\n  import Bottom from '../../components/speak/SpeakBottom'\r\n  import SpeakWindow from '../../components/speak/SpeakMask'\r\n  import { findBook, getCategoryName } from '../../utils/store'\r\n  import { flatList } from '../../api/store'\r\n  import { getLocalForage } from '../../utils/localForage'\r\n  import { realPx } from '../../utils/utils'\r\n  import Epub from 'epubjs'\r\n\r\n  global.ePub = Epub\r\n\r\n  const APPID = '5b4da68b'\r\n  const API_SECRET = '48487e25de82a2c167eccda30f7a3c70'\r\n  const API_KEY = '7154170219e3e4426025afef812d070e'\r\n  let isChrome = navigator.userAgent.toLowerCase().match(/chrome/)\r\n  let notSupportTip = isChrome\r\n    ? '您的浏览器暂时不支持体验功能，请升级您的浏览器'\r\n    : '您现在使用的浏览器暂时不支持体验功能，<br />推荐使用谷歌浏览器Chrome'\r\n\r\n  function getWebsocketUrl() {\r\n    return new Promise((resolve, reject) => {\r\n      var apiKey = API_KEY\r\n      var apiSecret = API_SECRET\r\n      var url = 'wss://tts-api.xfyun.cn/v2/tts'\r\n      var host = location.host\r\n      var date = new Date().toGMTString()\r\n      var algorithm = 'hmac-sha256'\r\n      var headers = 'host date request-line'\r\n      var signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET /v2/tts HTTP/1.1`\r\n      var signatureSha = CryptoJS.HmacSHA256(signatureOrigin, apiSecret)\r\n      var signature = CryptoJS.enc.Base64.stringify(signatureSha)\r\n      var authorizationOrigin = `api_key=\"${apiKey}\", algorithm=\"${algorithm}\", headers=\"${headers}\", signature=\"${signature}\"`\r\n      var authorization = btoa(authorizationOrigin)\r\n      url = `${url}?authorization=${authorization}&date=${date}&host=${host}`\r\n      resolve(url)\r\n    })\r\n  }\r\n\r\n  let audioCtx\r\n  let source\r\n  let btnState = {\r\n    unTTS: '立即合成',\r\n    ttsing: '正在合成',\r\n    endTTS: '立即播放',\r\n    play: '停止播放',\r\n    pause: '继续播放',\r\n    endPlay: '重新播放',\r\n    errorTTS: '合成失败'\r\n  }\r\n\r\n  class Experience {\r\n    constructor({\r\n      speed = 50,\r\n      voice = 50,\r\n      pitch = 50,\r\n      text = '',\r\n      engineType = 'aisound',\r\n      voiceName = 'xiaoyan',\r\n      playBtn = '.js-base-play',\r\n      defaultText = ''\r\n    } = {}) {\r\n      this.speed = speed\r\n      this.voice = voice\r\n      this.pitch = pitch\r\n      this.text = text\r\n      this.defaultText = defaultText\r\n      this.engineType = engineType\r\n      this.voiceName = voiceName\r\n      this.playBtn = playBtn\r\n      this.playState = ''\r\n      this.audioDatas = []\r\n      this.pcmPlayWork = new Worker('./transform.worker.js')\r\n      this.pcmPlayWork.onmessage = e => {\r\n        this.onmessageWork(e)\r\n      }\r\n    }\r\n\r\n    setConfig({ speed, voice, pitch, text, defaultText, engineType, voiceName }) {\r\n      speed && (this.speed = speed)\r\n      voice && (this.voice = voice)\r\n      pitch && (this.pitch = pitch)\r\n      text && (this.text = text)\r\n      defaultText && (this.defaultText = defaultText)\r\n      engineType && (this.engineType = engineType)\r\n      voiceName && (this.voiceName = voiceName)\r\n      this.resetAudio()\r\n    }\r\n\r\n    onmessageWork(e) {\r\n      switch (e.data.command) {\r\n        case 'newAudioData': {\r\n          this.audioDatas.push(e.data.data)\r\n          if (this.playState === 'ttsing' && this.audioDatas.length === 1) {\r\n            this.playTimeout = setTimeout(() => {\r\n              this.audioPlay()\r\n            }, 1000)\r\n          }\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    setBtnState(state) {\r\n      let oldState = this.playState\r\n      this.playState = state\r\n    }\r\n\r\n    getAudio() {\r\n      this.setBtnState('ttsing')\r\n      getWebsocketUrl().then(url => {\r\n        this.connectWebsocket(url)\r\n      })\r\n    }\r\n\r\n    connectWebsocket(url) {\r\n      if ('WebSocket' in window) {\r\n        this.websocket = new WebSocket(url)\r\n      } else if ('MozWebSocket' in window) {\r\n        this.websocket = new MozWebSocket(url)\r\n      } else {\r\n        alert(notSupportTip)\r\n        return\r\n      }\r\n      let self = this\r\n      this.websocket.onopen = e => {\r\n        var params = {\r\n          common: {\r\n            app_id: APPID // APPID\r\n          },\r\n          business: {\r\n            ent: self.engineType,\r\n            aue: 'raw',\r\n            auf: 'audio/L16;rate=16000',\r\n            vcn: self.voiceName,\r\n            speed: self.speed,\r\n            volume: self.voice * 10,\r\n            pitch: self.pitch,\r\n            //'bgs': 1,\r\n            tte: 'UTF8'\r\n          },\r\n          data: {\r\n            status: 2,\r\n            text: Base64.encode(self.text || self.defaultText || DEFAULT_TEXT)\r\n          }\r\n        }\r\n        this.websocket.send(JSON.stringify(params))\r\n      }\r\n      this.websocket.onmessage = e => {\r\n        let jsonData = JSON.parse(e.data)\r\n        // 合成失败\r\n        if (jsonData.code !== 0) {\r\n          alert(`${jsonData.code}:${jsonData.message}`)\r\n          self.resetAudio()\r\n          this.websocket.close()\r\n          return\r\n        }\r\n        self.pcmPlayWork.postMessage({\r\n          command: 'transData',\r\n          data: jsonData.data.audio\r\n        })\r\n\r\n        if (jsonData.code === 0 && jsonData.data.status === 2) {\r\n          this.websocket.close()\r\n        }\r\n      }\r\n      this.websocket.onerror = e => {\r\n        console.log(e)\r\n        console.log(e.data)\r\n      }\r\n      this.websocket.onclose = e => {\r\n        console.log(e)\r\n      }\r\n    }\r\n\r\n    resetAudio() {\r\n      this.audioPause()\r\n      this.setBtnState('unTTS')\r\n      this.audioDatasIndex = 0\r\n      this.audioDatas = []\r\n      this.websocket && this.websocket.close()\r\n      clearTimeout(this.playTimeout)\r\n    }\r\n\r\n    audioPlay() {\r\n      try {\r\n        if (!audioCtx) {\r\n          audioCtx = new (window.AudioContext || window.webkitAudioContext)()\r\n        }\r\n        if (!audioCtx) {\r\n          alert(notSupportTip)\r\n          return\r\n        }\r\n      } catch (e) {\r\n        alert(notSupportTip)\r\n        return\r\n      }\r\n      this.audioDatasIndex = 0\r\n      if (this.audioDatas.length) {\r\n        this.playSource()\r\n        this.setBtnState('play')\r\n      } else {\r\n        this.getAudio()\r\n      }\r\n    }\r\n\r\n    audioPause(state) {\r\n      if (this.playState === 'play') {\r\n        this.setBtnState(state || 'endPlay')\r\n      }\r\n      clearTimeout(this.playTimeout)\r\n      try {\r\n        source && source.stop()\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n\r\n    playSource() {\r\n      let bufferLength = 0\r\n      let dataLength = this.audioDatas.length\r\n      for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n        bufferLength += this.audioDatas[i].length\r\n      }\r\n      let audioBuffer = audioCtx.createBuffer(1, bufferLength, 22050)\r\n      let offset = 0\r\n      let nowBuffering = audioBuffer.getChannelData(0)\r\n      for (let i = this.audioDatasIndex; i < dataLength; i++) {\r\n        let audioData = this.audioDatas[i]\r\n        if (audioBuffer.copyToChannel) {\r\n          audioBuffer.copyToChannel(audioData, 0, offset)\r\n        } else {\r\n          for (let j = 0; j < audioData.length; j++) {\r\n            nowBuffering[offset + j] = audioData[j]\r\n          }\r\n        }\r\n        offset += audioData.length\r\n        this.audioDatasIndex++\r\n      }\r\n\r\n      source = audioCtx.createBufferSource()\r\n      source.buffer = audioBuffer\r\n      source.connect(audioCtx.destination)\r\n      source.start()\r\n      source.onended = event => {\r\n        if (this.playState !== 'play') {\r\n          return\r\n        }\r\n        if (this.audioDatasIndex < this.audioDatas.length) {\r\n          this.playSource()\r\n        } else {\r\n          this.audioPause('endPlay')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let experience = new Experience({\r\n    speed: 50,\r\n    voice: 50,\r\n    pitch: 50,\r\n    playBtn: `.audio-ctrl-btn`\r\n  })\r\n\r\n  export default {\r\n    components: {\r\n      DetailTitle,\r\n      BookInfo,\r\n      Scroll,\r\n      SpeakPlaying,\r\n      Bottom,\r\n      SpeakWindow\r\n    },\r\n    computed: {\r\n      // 音频当前播放的分钟数\r\n      currentMinute() {\r\n        const m = Math.floor(this.currentPlayingTime / 60)\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      // 音频当前播放的秒数\r\n      currentSecond() {\r\n        const s = Math.floor(\r\n          this.currentPlayingTime - parseInt(this.currentMinute) * 60\r\n        )\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      // 音频的总时长\r\n      totalMinute() {\r\n        const m = Math.floor(this.totalPlayingTime / 60)\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      // 音频的总秒数\r\n      totalSecond() {\r\n        const s = Math.floor(\r\n          this.totalPlayingTime - parseInt(this.totalMinute) * 60\r\n        )\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      // 音频的剩余分钟数\r\n      leftMinute() {\r\n        const m = Math.floor(\r\n          (this.totalPlayingTime - this.currentPlayingTime) / 60\r\n        )\r\n        return m < 10 ? '0' + m : m\r\n      },\r\n      // 音频的剩余秒数\r\n      leftSecond() {\r\n        const s = Math.floor(\r\n          this.totalPlayingTime -\r\n            this.currentPlayingTime -\r\n            parseInt(this.leftMinute) * 60\r\n        )\r\n        return s < 10 ? '0' + s : s\r\n      },\r\n      // 播放信息对象\r\n      playInfo() {\r\n        if (this.audioCanPlay) {\r\n          return {\r\n            currentMinute: this.currentMinute,\r\n            currentSecond: this.currentSecond,\r\n            totalMinute: this.totalMinute,\r\n            totalSecond: this.totalSecond,\r\n            leftMinute: this.leftMinute,\r\n            leftSecond: this.leftSecond\r\n          }\r\n        } else {\r\n          return null\r\n        }\r\n      },\r\n      // 电子书的语种\r\n      lang() {\r\n        return this.metadata ? this.metadata.language : ''\r\n      },\r\n      // 当播放面板显示时，禁用滚动条（解决事件穿透问题）\r\n      disableScroll() {\r\n        if (this.$refs.speakWindow) {\r\n          return this.$refs.speakWindow.visible\r\n        } else {\r\n          return false\r\n        }\r\n      },\r\n      // 是否底部的播放面板\r\n      showPlay() {\r\n        return this.playingIndex >= 0\r\n      },\r\n      // 滚动条距底部距离，当显示播放面板时为116像素，不显示时为52像素\r\n      scrollBottom() {\r\n        return this.showPlay ? 116 : 52\r\n      },\r\n      // 当前章节信息\r\n      chapter() {\r\n        return this.flatNavigation[this.playingIndex]\r\n      },\r\n      // 电子书摘要信息\r\n      desc() {\r\n        if (this.description) {\r\n          return this.description.substring(0, 100)\r\n        } else {\r\n          return ''\r\n        }\r\n      },\r\n      // 一维数组的目录\r\n      flatNavigation() {\r\n        if (this.navigation) {\r\n          return Array.prototype.concat.apply(\r\n            [],\r\n            Array.prototype.concat.apply(\r\n              [],\r\n              this.doFlatNavigation(this.navigation.toc)\r\n            )\r\n          )\r\n        } else {\r\n          return []\r\n        }\r\n      },\r\n      // 电子书分类\r\n      category() {\r\n        return this.bookItem ? getCategoryName(this.bookItem.category) : ''\r\n      },\r\n      // 电子书书名\r\n      title() {\r\n        return this.metadata ? this.metadata.title : ''\r\n      },\r\n      // 电子书作者\r\n      author() {\r\n        return this.metadata ? this.metadata.creator : ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        bookItem: null,\r\n        book: null,\r\n        rendition: null,\r\n        metadata: null,\r\n        cover: null,\r\n        navigation: null,\r\n        description: null,\r\n        ifShowContent: true,\r\n        playingIndex: -1,\r\n        paragraph: null,\r\n        currentSectionIndex: null,\r\n        currentSectionTotal: null,\r\n        section: null,\r\n        isPlaying: false,\r\n        audio: null,\r\n        audioCanPlay: false,\r\n        currentPlayingTime: 0,\r\n        totalPlayingTime: 0,\r\n        playStatus: 0, // 0 - 未播放，1 - 播放中，2 - 暂停中\r\n        toastText: '',\r\n        isOnline: false\r\n      }\r\n    },\r\n    methods: {\r\n      // 在线语音合成\r\n      createVoice(text) {\r\n        console.log('在线语音合成', text)\r\n        if (text !== experience.text) {\r\n          experience.setConfig({\r\n            text\r\n          })\r\n        }\r\n        console.log(experience)\r\n        if (experience.playState === 'play') {\r\n          experience.audioPause()\r\n          this.resetPlay()\r\n        } else {\r\n          experience.audioPlay()\r\n          this.isPlaying = true\r\n          this.playStatus = 1\r\n        }\r\n        // const xmlhttp = new XMLHttpRequest()\r\n        // // 创建HTTP请求，同步接收结果\r\n        // xmlhttp.open('GET', `${process.env.VUE_APP_VOICE_URL}/voice?text=${text}&lang=${this.lang.toLowerCase()}`, false)\r\n        // // 发送请求\r\n        // xmlhttp.send()\r\n        // // 获取响应内容\r\n        // const xmlDoc = xmlhttp.responseText\r\n        // if (xmlDoc) {\r\n        //   // 解析响应内容\r\n        //   const json = JSON.parse(xmlDoc)\r\n        //   if (json.path) {\r\n        //     // path为语音合成生成的MP3文件下载路径，将该路径赋值audio.src\r\n        //     // audio控件会自动加载音频文件\r\n        //     this.$refs.audio.src = json.path\r\n        //     // 自动播放MP3\r\n        //     this.continuePlay()\r\n        //   } else {\r\n        //     this.showToast('播放失败，未生成链接')\r\n        //   }\r\n        // } else {\r\n        //   this.showToast('播放失败')\r\n        // }\r\n      },\r\n      // 切换播放状态，如果处于播放状态则暂停，如果处于暂停状态，则播放\r\n      // 注意状态0和状态2是不通的\r\n      // 状态0 表示还未播放，所以需要先进行语音合成\r\n      // 状态2 表示已经合成，所以直接进行播放即可\r\n      togglePlay() {\r\n        if (!this.isPlaying) {\r\n          if (this.playStatus === 0) {\r\n            this.play()\r\n          } else if (this.playStatus === 2) {\r\n            this.continuePlay()\r\n          }\r\n        } else {\r\n          this.pausePlay()\r\n        }\r\n      },\r\n      // 生成语音合成的文本信息\r\n      speak(item, index) {\r\n        // 重置播放状态，停止一切播放\r\n        this.resetPlay()\r\n        this.playingIndex = index\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n          if (this.chapter) {\r\n            // 获取当前点击的章节信息\r\n            this.section = this.book.spine.get(this.chapter.href)\r\n            // 渲染章节\r\n            this.rendition.display(this.section.href).then(section => {\r\n              // 获取当前位置对象\r\n              const currentPage = this.rendition.currentLocation()\r\n              const cfibase = section.cfiBase\r\n              const cfistart = currentPage.start.cfi\r\n                .replace(/.*!/, '')\r\n                .replace(/\\)/, '')\r\n              const cfiend = currentPage.end.cfi\r\n                .replace(/.*!/, '')\r\n                .replace(/\\)/, '')\r\n              this.currentSectionIndex = currentPage.start.displayed.page\r\n              this.currentSectionTotal = currentPage.start.displayed.total\r\n              // 合成cfi信息\r\n              const cfi = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\r\n              // console.log(currentPage, cfi, cfibase, cfistart, cfiend)\r\n              // 通过Book.getRange(cfi)方法获取指定片段的cfi对应的文本\r\n              this.book.getRange(cfi).then(range => {\r\n                // 获取章节片段的文本信息\r\n                let text = range.toLocaleString()\r\n                // 对文本信息进行过滤，去除其中的空格（注意是2个空格，1个空格是合理的）、换行符等特殊字符\r\n                text = text.replace(/\\s(2,)/g, '')\r\n                text = text.replace(/\\r/g, '')\r\n                text = text.replace(/\\n/g, '')\r\n                text = text.replace(/\\t/g, '')\r\n                text = text.replace(/\\f/g, '')\r\n                // 更新语音合成的文本信息\r\n                this.updateText(text)\r\n              })\r\n            })\r\n          }\r\n        })\r\n      },\r\n      // 重置播放状态\r\n      resetPlay() {\r\n        if (this.playStatus === 1) {\r\n          this.pausePlay()\r\n        }\r\n        this.isPlaying = false\r\n        this.playStatus = 0\r\n      },\r\n      // 从头开始语音合成并播放\r\n      play() {\r\n        this.createVoice(this.paragraph)\r\n      },\r\n      // 继续播放\r\n      continuePlay() {\r\n        this.$refs.audio.play().then(() => {\r\n          // 显示播放动画\r\n          this.$refs.speakPlaying[0].startAnimation()\r\n          this.isPlaying = true\r\n          this.playStatus = 1\r\n        })\r\n      },\r\n      // 暂停播放\r\n      pausePlay() {\r\n        this.$refs.audio.pause()\r\n        // 暂停播放动画\r\n        this.$refs.speakPlaying[0].stopAnimation()\r\n        this.isPlaying = false\r\n        this.playStatus = 2\r\n      },\r\n      // 当播放结束时，刷新播放信息\r\n      onAudioEnded() {\r\n        this.resetPlay()\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        const percent = Math.floor(\r\n          (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n        )\r\n        this.$refs.speakWindow.refreshProgress(percent)\r\n      },\r\n      // 当播放进行时，刷新播放信息\r\n      onTimeUpdate() {\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        const percent = Math.floor(\r\n          (this.currentPlayingTime / this.totalPlayingTime) * 100\r\n        )\r\n        this.$refs.speakWindow.refreshProgress(percent)\r\n      },\r\n      // 调用audio.src时，audio控件会调用canplay事件\r\n      // 此时我们可以获取总播放时长和当前播放时长\r\n      onCanPlay() {\r\n        this.audioCanPlay = true\r\n        this.currentPlayingTime = this.$refs.audio.currentTime\r\n        this.totalPlayingTime = this.$refs.audio.duration\r\n      },\r\n      // 通过API找到当前电子书的详情数据\r\n      findBookFromList(fileName) {\r\n        flatList().then(response => {\r\n          if (response.status === 200) {\r\n            const bookList = response.data.data.filter(\r\n              item => item.fileName === fileName\r\n            )\r\n            if (bookList && bookList.length > 0) {\r\n              this.bookItem = bookList[0]\r\n              this.init()\r\n            }\r\n          }\r\n        })\r\n      },\r\n      // 初始化参数信息\r\n      init() {\r\n        const fileName = this.$route.query.fileName\r\n        if (!this.bookItem) {\r\n          this.bookItem = findBook(fileName)\r\n        }\r\n        if (this.bookItem) {\r\n          // 如果电子书已经缓存，则直接从IndexedDB数据库中获取\r\n          getLocalForage(fileName, (err, blob) => {\r\n            if (err || !blob) {\r\n              // 如果获取缓存失败，则拼接opf文件来获取电子书\r\n              this.isOnline = true\r\n              const opf = this.$route.query.opf\r\n              if (opf) {\r\n                this.parseBook(opf)\r\n              }\r\n            } else {\r\n              this.isOnline = false\r\n              // 解析电子书\r\n              this.parseBook(blob)\r\n            }\r\n          })\r\n        } else {\r\n          this.findBookFromList(fileName)\r\n        }\r\n      },\r\n      // 解析电子书\r\n      parseBook(blob) {\r\n        // 解析电子书\r\n        this.book = new Epub(blob)\r\n        // 获取电子书的metadata\r\n        this.book.loaded.metadata.then(metadata => {\r\n          this.metadata = metadata\r\n        })\r\n        // 如果是在线获取的电子书，则通过Book.coverUrl()方法获取封面链接\r\n        if (this.isOnline) {\r\n          this.book.coverUrl().then(url => {\r\n            this.cover = url\r\n          })\r\n        } else {\r\n          // 如果是本地获取的电子书，通过Book.loaded.cover方法获取封面链接（加快封面获取速度）\r\n          this.book.loaded.cover.then(cover => {\r\n            this.book.archive.createUrl(cover).then(url => {\r\n              this.cover = url\r\n            })\r\n          })\r\n        }\r\n        // 获取电子书的目录信息\r\n        this.book.loaded.navigation.then(nav => {\r\n          this.navigation = nav\r\n        })\r\n        // 渲染电子书\r\n        this.display()\r\n      },\r\n      back() {\r\n        this.$router.go(-1)\r\n      },\r\n      // 处理滚动条的事件，决定标题阴影是否展示\r\n      onScroll(offsetY) {\r\n        if (offsetY > realPx(42)) {\r\n          this.$refs.title.showShadow()\r\n        } else {\r\n          this.$refs.title.hideShadow()\r\n        }\r\n      },\r\n      toggleContent() {\r\n        this.ifShowContent = !this.ifShowContent\r\n      },\r\n      // 渲染电子书\r\n      display() {\r\n        const height =\r\n          window.innerHeight * 0.9 -\r\n          realPx(40) -\r\n          realPx(54) -\r\n          realPx(46) -\r\n          realPx(48) -\r\n          realPx(60) -\r\n          realPx(44)\r\n        this.rendition = this.book.renderTo('read', {\r\n          width: window.innerWidth,\r\n          height: height,\r\n          method: 'default'\r\n        })\r\n        this.rendition.display()\r\n      },\r\n      doFlatNavigation(content, deep = 1) {\r\n        const arr = []\r\n        content.forEach(item => {\r\n          item.deep = deep\r\n          arr.push(item)\r\n          if (item.subitems && item.subitems.length > 0) {\r\n            arr.push(this.doFlatNavigation(item.subitems, deep + 1))\r\n          }\r\n        })\r\n        return arr\r\n      },\r\n      showToast(text) {\r\n        this.simpleToast(text)\r\n      },\r\n      onPlayingCardClick() {\r\n        this.$refs.speakWindow.show()\r\n      },\r\n      updateText(text) {\r\n        this.paragraph = text\r\n      }\r\n    },\r\n    mounted() {\r\n      this.init()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\r\n  @import '../../assets/styles/global';\r\n\r\n  .book-speaking {\r\n    font-size: px2rem(16);\r\n    width: 100%;\r\n    background: white;\r\n\r\n    .content-wrapper {\r\n      width: 100%;\r\n\r\n      .book-speak-title-wrapper {\r\n        display: flex;\r\n        padding: px2rem(15);\r\n        box-sizing: border-box;\r\n        border-bottom: px2rem(1) solid #eee;\r\n\r\n        .icon-speak-wrapper {\r\n          flex: 0 0 px2rem(40);\r\n          @include left;\r\n\r\n          .icon-speak {\r\n            font-size: px2rem(24);\r\n            color: #999;\r\n          }\r\n        }\r\n\r\n        .speak-title-wrapper {\r\n          flex: 1;\r\n          @include left;\r\n\r\n          .speak-title {\r\n            font-size: px2rem(16);\r\n            font-weight: bold;\r\n            color: #666;\r\n          }\r\n        }\r\n\r\n        .icon-down-wrapper {\r\n          flex: 0 0 px2rem(40);\r\n          @include right;\r\n\r\n          .icon-up {\r\n            font-size: px2rem(12);\r\n            color: #999;\r\n          }\r\n\r\n          .icon-down2 {\r\n            font-size: px2rem(12);\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n\r\n      .book-detail-content-wrapper {\r\n        width: 100%;\r\n        border-bottom: px2rem(1) solid #eee;\r\n        box-sizing: border-box;\r\n\r\n        .book-detail-content-list-wrapper {\r\n          padding: px2rem(10) px2rem(15);\r\n\r\n          .loading-text-wrapper {\r\n            width: 100%;\r\n\r\n            .loading-text {\r\n              font-size: px2rem(14);\r\n              color: #999;\r\n            }\r\n          }\r\n\r\n          .book-detail-content-item-wrapper {\r\n            .book-detail-content-item {\r\n              display: flex;\r\n              padding: px2rem(15) 0;\r\n              font-size: px2rem(14);\r\n              line-height: px2rem(16);\r\n              color: #333;\r\n              border-bottom: px2rem(1) solid #eee;\r\n\r\n              &:last-child {\r\n                border-bottom: none;\r\n              }\r\n\r\n              .book-detail-content-navigation-text {\r\n                flex: 1;\r\n                width: 100%;\r\n                @include ellipsis;\r\n\r\n                &.is-playing {\r\n                  color: $color-blue;\r\n                  font-weight: bold;\r\n                  margin-left: px2rem(10);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .book-wrapper {\r\n      position: absolute;\r\n      bottom: -100%;\r\n      z-index: 100;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/store"}]}