{"map":{"version":3,"sources":["js/chunk-521f186e.0fa09e43.js"],"names":["window","push","1529","module","__webpack_exports__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreDetail_vue_vue_type_style_index_0_id_14fddf47_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StoreDetail_vue_vue_type_style_index_0_id_14fddf47_lang_scss_rel_stylesheet_2Fscss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","1a5c","exports","2ca0","$","getOwnPropertyDescriptor","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","nativeStartsWith","startsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","String","prototype","writable","target","proto","forced","searchString","that","this","index","arguments","length","undefined","search","call","slice","4d63","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExp","RegExpPrototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","constructor","source","indexOf","replace","result","proxy","key","configurable","get","it","keys","5a34","TypeError","5bab","r","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","showShelf","on","back","top","bottom","onScroll","cover","title","author","desc","_v","_s","$t","publisher","categoryText","lang","isbn","navigation","_e","_l","item","click","$event","read","class","is-sub","deep","style","itemStyle","label","displayed","directives","name","rawName","value","expression","id","stopPropagation","preventDefault","readBook","trialListening","addOrRemoveShelf","inBookShelf","text","toastText","staticRenderFns","StoreDetailvue_type_script_lang_js_","store_StoreDetailvue_type_script_lang_js_","componentNormalizer","component","Object","70e8","E_JodPreparation_Practice_huihuo_ebook_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_12__","_components_detail_DetailTitle__WEBPACK_IMPORTED_MODULE_13__","_components_detail_BookInfo__WEBPACK_IMPORTED_MODULE_14__","_components_common_Scroll__WEBPACK_IMPORTED_MODULE_15__","_components_common_Toast__WEBPACK_IMPORTED_MODULE_16__","_api_store__WEBPACK_IMPORTED_MODULE_17__","_utils_utils__WEBPACK_IMPORTED_MODULE_18__","_utils_localForage__WEBPACK_IMPORTED_MODULE_19__","_utils_store__WEBPACK_IMPORTED_MODULE_20__","_utils_mixin__WEBPACK_IMPORTED_MODULE_21__","_utils_localStorage__WEBPACK_IMPORTED_MODULE_22__","epubjs__WEBPACK_IMPORTED_MODULE_23__","ePub","mixins","components","DetailTitle","Scroll","BookInfo","Toast","computed","description","substring","flatNavigation","Array","concat","apply","doFlatNavigation","toc","metadata","language","identifier","creator","_this","bookItem","shelfList","flatShelf","flatten","arr","_ref","map","v","itemList","filter","type","book","fileName","data","trialRead","audio","randomLocation","trialText","opf","methods","_this2","setShelfList","then","showToast","$refs","toast","show","$router","path","_this3","err","blob","Blob","query","href","marginLeft","content","_this4","forEach","subitems","downloadBook","parseBook","url","_this5","loaded","nav","candisplay","display","section","scroll","refresh","reg","output","init","_this6","$route","category","response","status","error_code","rootFile","msg","go","location","preview","rendition","renderTo","width","innerWidth","height","innerHeight","method","offsetY","showShadow","hideShadow","mounted","getShelfList","ab13","METHOD_NAME","regexp","e"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-521f186e\"],{1529:function(t,e,i){\"use strict\";var a=i(\"1a5c\"),o=i.n(a);o.a},\"1a5c\":function(t,e,i){},\"2ca0\":function(t,e,i){\"use strict\";var a=i(\"23e7\"),o=i(\"06cf\").f,n=i(\"50c4\"),s=i(\"5a34\"),r=i(\"1d80\"),c=i(\"ab13\"),l=i(\"c430\"),d=\"\".startsWith,h=Math.min,u=c(\"startsWith\"),f=!l&&!u&&!!function(){var t=o(String.prototype,\"startsWith\");return t&&!t.writable}();a({target:\"String\",proto:!0,forced:!f&&!u},{startsWith:function(t){var e=String(r(this));s(t);var i=n(h(arguments.length>1?arguments[1]:void 0,e.length)),a=String(t);return d?d.call(e,a,i):e.slice(i,i+a.length)===a}})},\"4d63\":function(t,e,i){var a=i(\"83ab\"),o=i(\"da84\"),n=i(\"94ca\"),s=i(\"7156\"),r=i(\"9bf2\").f,c=i(\"241c\").f,l=i(\"44e7\"),d=i(\"ad6d\"),h=i(\"9f7f\"),u=i(\"6eeb\"),f=i(\"d039\"),p=i(\"69f3\").set,v=i(\"2626\"),b=i(\"b622\"),g=b(\"match\"),m=o.RegExp,k=m.prototype,w=/a/g,y=/a/g,_=new m(w)!==w,C=h.UNSUPPORTED_Y,x=a&&n(\"RegExp\",!_||C||f((function(){return y[g]=!1,m(w)!=w||m(y)==y||\"/a/i\"!=m(w,\"i\")})));if(x){var S=function(t,e){var i,a=this instanceof S,o=l(t),n=void 0===e;if(!a&&o&&t.constructor===S&&n)return t;_?o&&!n&&(t=t.source):t instanceof S&&(n&&(e=d.call(t)),t=t.source),C&&(i=!!e&&e.indexOf(\"y\")>-1,i&&(e=e.replace(/y/g,\"\")));var r=s(_?new m(t,e):m(t,e),a?this:k,S);return C&&i&&p(r,{sticky:i}),r},$=function(t){t in S||r(S,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},N=c(m),T=0;while(N.length>T)$(N[T++]);k.constructor=S,S.prototype=k,u(o,\"RegExp\",S)}v(\"RegExp\")},\"5a34\":function(t,e,i){var a=i(\"44e7\");t.exports=function(t){if(a(t))throw TypeError(\"The method doesn't accept regular expressions\");return t}},\"5bab\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"book-detail\"},[i(\"detail-title\",{ref:\"title\",attrs:{showShelf:!0},on:{back:t.back}}),i(\"scroll\",{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{top:42,bottom:52},on:{onScroll:t.onScroll}},[i(\"book-info\",{attrs:{cover:t.cover,title:t.title,author:t.author,desc:t.desc}}),i(\"div\",{staticClass:\"book-detail-content-wrapper\"},[i(\"div\",{staticClass:\"book-detail-content-title\"},[t._v(t._s(t.$t(\"detail.copyright\")))]),i(\"div\",{staticClass:\"book-detail-content-list-wrapper\"},[i(\"div\",{staticClass:\"book-detail-content-row\"},[i(\"div\",{staticClass:\"book-detail-content-label\"},[t._v(t._s(t.$t(\"detail.publisher\")))]),i(\"div\",{staticClass:\"book-detail-content-text\"},[t._v(t._s(t.publisher))])]),i(\"div\",{staticClass:\"book-detail-content-row\"},[i(\"div\",{staticClass:\"book-detail-content-label\"},[t._v(t._s(t.$t(\"detail.category\")))]),i(\"div\",{staticClass:\"book-detail-content-text\"},[t._v(t._s(t.categoryText))])]),i(\"div\",{staticClass:\"book-detail-content-row\"},[i(\"div\",{staticClass:\"book-detail-content-label\"},[t._v(t._s(t.$t(\"detail.lang\")))]),i(\"div\",{staticClass:\"book-detail-content-text\"},[t._v(t._s(t.lang))])]),i(\"div\",{staticClass:\"book-detail-content-row\"},[i(\"div\",{staticClass:\"book-detail-content-label\"},[t._v(t._s(t.$t(\"detail.ISBN\")))]),i(\"div\",{staticClass:\"book-detail-content-text\"},[t._v(t._s(t.isbn))])])])]),i(\"div\",{staticClass:\"book-detail-content-wrapper\"},[i(\"div\",{staticClass:\"book-detail-content-title\"},[t._v(t._s(t.$t(\"detail.navigation\")))]),i(\"div\",{staticClass:\"book-detail-content-list-wrapper\"},[this.navigation?t._e():i(\"div\",{staticClass:\"loading-text-wrapper\"},[i(\"span\",{staticClass:\"loading-text\"},[t._v(t._s(t.$t(\"detail.loading\")))])]),i(\"div\",{staticClass:\"book-detail-content-item-wrapper\"},t._l(t.flatNavigation,(function(e,a){return i(\"div\",{key:a,staticClass:\"book-detail-content-item\",on:{click:function(i){return t.read(e)}}},[e.label?i(\"div\",{staticClass:\"book-detail-content-navigation-text\",class:{\"is-sub\":e.deep>1},style:t.itemStyle(e)},[t._v(t._s(e.label))]):t._e()])})),0)])]),i(\"div\",{staticClass:\"book-detail-content-wrapper\"},[i(\"div\",{staticClass:\"book-detail-content-title\"},[t._v(t._s(t.$t(\"detail.trial\")))]),i(\"div\",{staticClass:\"book-detail-content-list-wrapper\"},[this.displayed?t._e():i(\"div\",{staticClass:\"loading-text-wrapper\"},[i(\"span\",{staticClass:\"loading-text\"},[t._v(t._s(t.$t(\"detail.loading\")))])])]),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:this.displayed,expression:\"this.displayed\"}],ref:\"preview\",attrs:{id:\"preview\"}})])],1),i(\"div\",{staticClass:\"bottom-wrapper\"},[i(\"div\",{staticClass:\"bottom-btn\",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.readBook()}}},[t._v(t._s(t.$t(\"detail.read\")))]),i(\"div\",{staticClass:\"bottom-btn\",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.trialListening()}}},[t._v(t._s(t.$t(\"detail.listen\")))]),i(\"div\",{staticClass:\"bottom-btn\",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addOrRemoveShelf()}}},[t.inBookShelf?i(\"span\",{staticClass:\"icon-check\"}):t._e(),t._v(\" \"+t._s(t.inBookShelf?t.$t(\"detail.isAddedToShelf\"):t.$t(\"detail.addOrRemoveShelf\"))+\" \")])]),i(\"toast\",{ref:\"toast\",attrs:{text:t.toastText}})],1)},o=[],n=i(\"70e8\"),s=n[\"a\"],r=(i(\"1529\"),i(\"2877\")),c=Object(r[\"a\"])(s,a,o,!1,null,\"14fddf47\",null);e[\"default\"]=c.exports},\"70e8\":function(t,e,i){\"use strict\";(function(t){i(\"a4d3\"),i(\"e01a\"),i(\"99af\"),i(\"4de4\"),i(\"4160\"),i(\"d81d\"),i(\"4d63\"),i(\"ac1f\"),i(\"25f0\"),i(\"5319\"),i(\"2ca0\"),i(\"159b\");var a=i(\"2909\"),o=i(\"c7f8\"),n=i(\"c470\"),s=i(\"6701\"),r=i(\"78dc\"),c=i(\"73f5\"),l=i(\"fa7d\"),d=i(\"101f\"),h=i(\"da6f\"),u=i(\"ac0d\"),f=i(\"e8ec\"),p=i(\"a211\");t.ePub=p[\"a\"],e[\"a\"]={mixins:[u[\"c\"]],components:{DetailTitle:o[\"a\"],Scroll:s[\"a\"],BookInfo:n[\"a\"],Toast:r[\"a\"]},computed:{desc:function(){return this.description?this.description.substring(0,100):\"\"},flatNavigation:function(){return this.navigation?Array.prototype.concat.apply([],Array.prototype.concat.apply([],this.doFlatNavigation(this.navigation.toc))):[]},lang:function(){return this.metadata?this.metadata.language:\"-\"},isbn:function(){return this.metadata?this.metadata.identifier:\"-\"},publisher:function(){return this.metadata?this.metadata.publisher:\"-\"},title:function(){return this.metadata?this.metadata.title:\"\"},author:function(){return this.metadata?this.metadata.creator:\"\"},inBookShelf:function(){var t=this;if(this.bookItem&&this.shelfList){var e=function t(e){var i;return(i=[]).concat.apply(i,Object(a[\"a\"])(e.map((function(e){return e.itemList?[e].concat(Object(a[\"a\"])(t(e.itemList))):e}))))}(this.shelfList).filter((function(t){return 1===t.type})),i=e.filter((function(e){return e.fileName===t.bookItem.fileName}));return i&&i.length>0}return!1}},data:function(){return{bookItem:null,book:null,metadata:null,trialRead:null,cover:null,navigation:null,displayed:!1,audio:null,randomLocation:null,description:null,toastText:\"\",trialText:null,categoryText:null,opf:null}},methods:{addOrRemoveShelf:function(){var t=this;this.inBookShelf?this.setShelfList(Object(h[\"k\"])(this.bookItem)).then((function(){Object(f[\"l\"])(t.shelfList)})):(Object(h[\"a\"])(this.bookItem),this.setShelfList(Object(f[\"b\"])()))},showToast:function(t){this.toastText=t,this.$refs.toast.show()},readBook:function(){this.$router.push({path:\"/ebook/\".concat(this.bookItem.categoryText,\"|\").concat(this.fileName)})},trialListening:function(){var t=this;Object(d[\"b\"])(this.bookItem.fileName,(function(e,i){!e&&i&&i instanceof Blob?t.$router.push({path:\"/store/speaking\",query:{fileName:t.bookItem.fileName}}):t.$router.push({path:\"/store/speaking\",query:{fileName:t.bookItem.fileName,opf:t.opf}})}))},read:function(t){this.$router.push({path:\"/ebook/\".concat(this.categoryText,\"|\").concat(this.fileName),query:{href:t.href}})},itemStyle:function(t){return{marginLeft:(t.deep-1)*Object(l[\"a\"])(20)+\"rem\"}},doFlatNavigation:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[];return t.forEach((function(t){t.deep=i,a.push(t),t.subitems&&t.subitems.length>0&&a.push(e.doFlatNavigation(t.subitems,i+1))})),a},downloadBook:function(){var t=\"\".concat(\"http://47.99.166.157/epub\",\"/\").concat(this.bookItem.categoryText,\"/\").concat(this.bookItem.fileName,\"/OEBPS/package.opf\");this.parseBook(t)},parseBook:function(t){var e=this;this.book=new p[\"a\"](t),this.book.loaded.metadata.then((function(t){e.metadata=t})),this.book.loaded.navigation.then((function(t){if(e.navigation=t,e.navigation.toc&&e.navigation.toc.length>1){var i=e.display(e.navigation.toc[1].href);i&&i.then((function(t){e.$refs.scroll&&e.$refs.scroll.refresh(),e.displayed=!0;var i=new RegExp(\"<.+?>\",\"g\"),a=t.output.replace(i,\"\").replace(/\\s\\s/g,\"\");e.description=a}))}}))},init:function(){var t=this;this.fileName=this.$route.query.fileName,this.categoryText=this.$route.query.category,this.fileName&&Object(c[\"a\"])({fileName:this.fileName}).then((function(e){if(200===e.status&&0===e.data.error_code&&e.data.data){var i=e.data.data;t.bookItem=i,t.cover=t.bookItem.cover;var a=i.rootFile;a.startsWith(\"/\")&&(a=a.substring(1,a.length)),t.opf=\"\".concat(\"http://47.99.166.157/epub2\",\"/\").concat(t.fileName,\"/\").concat(a),t.parseBook(t.opf)}else t.showToast(e.data.msg)}))},back:function(){this.$router.go(-1)},display:function(t){if(this.$refs.preview)return this.rendition||(this.rendition=this.book.renderTo(\"preview\",{width:window.innerWidth>640?640:window.innerWidth,height:window.innerHeight,method:\"default\"})),t?this.rendition.display(t):this.rendition.display()},onScroll:function(t){t>Object(l[\"b\"])(42)?this.$refs.title.showShadow():this.$refs.title.hideShadow()}},mounted:function(){this.init(),this.shelfList&&0!==this.shelfList.length||this.getShelfList()}}}).call(this,i(\"c8ba\"))},ab13:function(t,e,i){var a=i(\"b622\"),o=a(\"match\");t.exports=function(t){var e=/./;try{\"/./\"[t](e)}catch(i){try{return e[o]=!1,\"/./\"[t](e)}catch(a){}}return!1}}}]);","extractedComments":[]}